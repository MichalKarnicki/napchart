window.helpers={},console.horse=function(){console.log("HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHhhhhho")},helpers.merge=function(e,t){for(var n,r,e=helpers.clone(e),a=[],i=[],o=0;o<t.length;o++)for(count in e[t[o]])a.push(e[t[o]][count]);for(var o=0;o<a.length;o++)n=a[o].start,r=a[o].end,n>r&&(a[o].end=1440,a.push({start:0,end:r}));a=a.sort(function(e,t){return e.start-t.start}),i.push(a[0]);for(var o=1;o<a.length;o++)n=a[o].start,r=a[o].end,prevEnd=i[i.length-1].end,n<=prevEnd&&r>prevEnd?i[i.length-1].end=r:n>prevEnd&&i.push({start:n,end:r});return i},helpers.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),helpers.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),helpers.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=1*(.3*1.5)),r<Math.abs(1)?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-easingEffects.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*easingEffects.easeInBounce(2*e):.5*easingEffects.easeOutBounce(2*e-1)+.5}},helpers.clone=function(e){var t=JSON.stringify(e);return"undefined"!=typeof t?JSON.parse(t):{}},helpers.overwrite=function(e,t){return $.extend(!0,e,t)},helpers.compare=function(e,t){return JSON.stringify(e)==JSON.stringify(t)},helpers.shortestWay=function(e){return console.log(e),e<-720?calc(1440,e):e>720?e-1440:e},helpers.range=function(e,t){return t<e?1440-e+t:t-e},helpers.getPositionBetweenTwoValues=function(e,t,n){return helpers.range(t,e)/helpers.range(t,n)},helpers.middle=function(e,t){var n,r;return n=helpers.range(e,t),r=helpers.calc(e,n/2)},helpers.rangeObject=function(e){return range(e.start,e.end)},helpers.middlepointFinder=function(e){return calc(rangeObject(e)/2,e.start)},helpers.calc=function(e,t){return e+t<0?e+t+1440:e+t>1440?e+t-1440:e+t},helpers.pointIsInside=function(e,t,n){if(n>t){if(e<n&&e>t)return!0}else if(t>n&&(e>t||e<n))return!0;return e==t||e==n},helpers.isInside=helpers.pointIsInside,helpers.minutesToClock=function(e){return e=Math.floor(e),e>=1440&&(e-=1440),hours=Math.floor(e/60)+"",e=e%60+"",1==hours.length&&(hours="0"+hours),1==e.length&&(e="0"+e),settings.getValue("ampm")?helpers.clockToAMPM(hours+e):hours+e},helpers.clockToAMPM=function(e){var t=parseInt(e.substring(0,2),10),n=(t+11)%12+1,r=t>11?"pm":"am",a=e.substring(2);return n+":"+a+r},helpers.clockToMinutes=function(e){var t,n,r;return 4!=e.length?void console.warn("clock value not correct length"):(t=e.substring(0,2),n=1*e.substring(2,4),r=n+60*t)},helpers.degreesToRadiens=function(e){return Math.PI/180*e},helpers.minutesToRadians=function(e){return Math.PI/720*(e-360)},helpers.minutesToHoursMinutes=function(e){return hours=Math.floor(e/60)+"",minutes=e%60+"",minutes=Math.floor(minutes),{hours:hours,minutes:minutes}},helpers.minutesToReadable=function(e,t){var n;return"undefined"==typeof t&&(t=60),e>t?(n=helpers.minutesToHoursMinutes(e),n.hours+"h "+n.minutes+"m"):e+"m"},helpers.minutesToXY=function(e,t,n,r){if("undefined"==typeof n)var n=0;if("undefined"==typeof r)var r=0;return o={},o.y=Math.sin(e/1440*(2*Math.PI)-Math.PI/2)*t+r,o.x=Math.cos(e/1440*(2*Math.PI)-Math.PI/2)*t+n,o},helpers.distance=function(e,t,n,r){var a=r-t,i=n-e;return Math.sqrt(a*a+i*i)},helpers.XYtoMinutes=function(e,t){return minutes=Math.atan(t/e)/(2*Math.PI)*1440+360,e<0&&(minutes+=720),minutes=Math.round(minutes),minutes},window.napchartCore=function(){var e,t,n;return e={},n=[],t=document.getElementById("canvas"),{initialize:function(e){"undefined"==typeof e&&(e={}),settings.initialize(document.getElementById("settings")),draw.initialize(t),interactCanvas.initialize(t),draw.drawUpdate(),formInput.initialize(document.getElementById("formInputContainer")),dom.bindAddButtons(),dom.bindSaveButton(document.getElementById("saveContainer")),statistics.initialize(document.getElementById("stat-container")),sampleSchedule.initialize(document.getElementById("sampleSchedules")),sampleSchedule.detectSchedule(e),chartHistory.initialize(e),feedback.initialize(),dom.init(),"undefined"!=typeof fromServer&&napchartCore.setSchedule(fromServer.data)},setSchedule:function(t){e=helpers.clone(t),formInput.setData(e),statistics.update(e),textSerialize.update(e),dom.setOG(draw.getImage)},getSchedule:function(){return JSON.parse(JSON.stringify(e))},addElement:function(t,n){"undefined"==typeof e[t]&&(e[t]=[]),e[t].push(n),this.setSchedule(e),sampleSchedule.detectSchedule(e),chartHistory.add(e,"added "+t)},removeElement:function(t,n){e[t].splice(n,1),this.setSchedule(e),sampleSchedule.detectSchedule(e),chartHistory.add(e,"removed "+t+" "+(n-1))},start:function(){},howMany:function(t){return"undefined"==typeof e[t]&&(e[t]=[]),e[t].length},lastElement:function(t){return"undefined"==typeof e[t]?(console.warn("lastElement received an undefined name"),!1):e[t][e[t].length-1]},returnElement:function(t,n){return"undefined"==typeof e[t]&&"undefined"==typeof e[t][n]&&console.warn("Specified element does not exist"),e[t][n]},elementExists:function(t,n){return"undefined"!=typeof e[t]&&"undefined"!=typeof e[t][n]},modifyElement:function(t,n,r){"undefined"==typeof e[t][n]&&console.warn("Specified element does not exist");for(var a in r)e[t][n][a]=r[a];this.setSchedule(e)},getCanvas:function(){return t},setSelected:function(e,t){for(var r=0;r<n.length;r++)if(n[r].name==e&&n[r].count==t)return void console.log("sh");n.push({name:e,count:t}),formInput.setSelected(n),animate.frameAnimator(function(e){interactCanvas.setSelectedOpacity(e),draw.drawUpdate()})},isSelected:function(e,t){for(var r=0;r<n.length;r++)if(e==n[r].name&&t==n[r].count)return!0;return!1},deselect:function(e,t){if("undefined"==typeof e)return n=[],void formInput.setSelected();for(var r=0;r<n.length;r++)n[r].name==e&&n[r].count==t&&n.splice(r,1);formInput.setSelected(n)},returnSelected:function(){return n},setURL:function(e){textSerialize.setChartid(e),window.location.pathname!="/"+e?window.history.pushState({chartid:e},"","/"+e):console.info("url was right",e),dom.setURL(e),chartHistory.setChartid(e)},dmToggle:function(e){dom.dmToggle(e),draw.dmToggle(e)},startLoading:function(){dom.startLoading()},finishLoading:function(){dom.finishLoading()}}}(),$(document).ready(function(){var e={},t=!1;"undefined"!=typeof fromServer.data&&"undefined"!=typeof fromServer.chartid&&(e=fromServer.data,t=fromServer.chartid),napchartCore.initialize(e),t&&napchartCore.setURL(t)}),window.dom=function(){var e=document.getElementById("saveButton"),t=document.getElementById("urlField");return{bindAddButtons:function(){document.getElementById("addCore").addEventListener("click",function(){barhandler.addBar("core")}),document.getElementById("addNap").addEventListener("click",function(){barhandler.addBar("nap")}),document.getElementById("addBusy").addEventListener("click",function(){barhandler.addBar("busy")}),document.getElementById("removeAll").addEventListener("click",function(){barhandler.removeAllBars()})},bindRemoveButtons:function(e){$(e).on("click",".remove",function(){var e,t;e=$(this).parent().find('[name="name"]').val(),t=$(this).parent().find('[name="count"]').val(),console.log(e,t),napchartCore.isSelected(e,t)&&napchartCore.deselect(e,t),napchartCore.removeElement(e,t)})},bindSaveButton:function(){$(e).on("click",function(){var e=napchartCore.getSchedule();server.saveNew(e)})},showNavExtension:function(){console.log("etnhs"),$(NAV_EXT).show()},setURL:function(e){var n;n="http://"+fromServer.url+"/"+e,"none"==$(t).css("display")&&($(t).show(),$(t).css("width","220px")),t.value=n},setOG:function(e){$("meta[name=og\\:image]").attr("content",e)},startLoading:function(){"none"==$(t).css("display")&&($(t).show(),$(t).css("width","220px")),$(t).addClass("loading"),t.value="loading"},finishLoading:function(){$(t).removeClass("loading")},bindBackForward:function(){$(document).on("click","#back",function(){chartHistory.back()}),$(document).on("click","#forward",function(){chartHistory.forward()})},dmToggle:function(e){1==e?($("body").addClass("dark"),$("body *").addClass("dark")):($("body").removeClass("dark"),$("body *").removeClass("dark"),$("body").addClass("darkoff"),$("body *").addClass("darkoff"))},init:function(){$("#bitcoinlink").click(function(e){e.preventDefault(),$(this).children().toggleClass("hidden"),$("#bitcoininfo").toggleClass("hidden")})}}}(),window.feedback=function(){function e(e){e.stopPropagation(),e.preventDefault();var t=$(a).find("textarea").val();$(a).find("#feedback-error").addClass("hidden"),$(a).find("#feedback-devthanks").addClass("hidden"),n(),server.sendFeedback(t,function(e,t){console.info(t),e?$(a).find("#feedback-error").removeClass("hidden"):($(a).find("#feedback-devthanks").removeClass("hidden"),$(a).find("#token").val(t)),r()})}function t(e){e.stopPropagation(),e.preventDefault();var t=$(a).find("#email").val(),i=$(a).find("#token").val();n(),server.linkEmailToFeedback(i,t,function(e,t){console.info(t),e?$(a).find("#linkemailerror").removeClass("hidden"):$(a).find("#linkemailsuccess").removeClass("hidden"),r()})}function n(){$(a).find(".loading-wheel").removeClass("hidden"),$(a).find(".arm").hide()}function r(){$(a).find(".loading-wheel").addClass("hidden"),$(a).find(".arm").show(),$(a).find("textarea").val(""),$(a).find("#email").val(""),$(a).find(".emailoptional").removeClass("hidden")}var a;return{initialize:function(){return 0==$(".feedback").length?void console.warn("could not find feedback container"):(a=$(".feedback")[0],$("#send-feedback").on("mousedown touchstart",e),void $("#linkEmail").on("mousedown touchstart",t))}}}(),window.sampleSchedule=function(){function e(e){var t=0,n=0;return"undefined"!=typeof e.nap&&(t=e.nap.length),"undefined"!=typeof e.core&&(n=e.core.length),1===n&&0===t?"monophasic":2===n&&0===t?"segmented":1===n&&1===t?"siesta":2===n&&1===t?"dualcore1":0===n&&3===t?"triphasic":1===n&&t>=2?"everyman":0===n&&6===t?"uberman":"none"}function t(e){var t=e.id;if("undefined"==typeof a[t])throw new Error("Could not find the schedule requested");var r=napchartCore.getSchedule(),i=a[t];"undefined"!=typeof r.busy&&(i.busy=r.busy),n(t,!1),napchartCore.setSchedule(i),chartHistory.add(i,"changed to preset scedule "+t)}function n(e,t){var n=r,a=n.querySelector("#scheduleIndicator"),i=n.querySelector("#"+e),o=n.getBoundingClientRect().top,s=i.getBoundingClientRect().top,d=s-o;return $(n).children().removeClass("selected"),"none"==e?void $(a).fadeOut():(a.style.display="block",$(i).addClass("selected"),void(t?$(a).animate({top:d}):a.style.top=d+"px"))}var r,a={monophasic:{core:[{start:1410,end:450}]},siesta:{core:[{start:1380,end:240}],nap:[{start:780,end:870}]},segmented:{core:[{start:1320,end:90},{start:210,end:420}]},dualcore1:{core:[{start:1320,end:90},{start:390,end:480}],nap:[{start:960,end:980}]},triphasic:{core:[],nap:[{start:390,end:480},{start:870,end:960},{start:1350,end:1440}]},everyman:{core:[{start:1260,end:30}],nap:[{start:250,end:270},{start:880,end:900},{start:490,end:510}]},uberman:{nap:[{start:960,end:980},{start:480,end:500},{start:720,end:740},{start:1200,end:1220},{start:0,end:20},{start:240,end:260}]}};return{initialize:function(e){r=e;var n=e.getElementsByClassName("sampleSchedule");for(i=0;i<n.length;i++)n[i].addEventListener("click",function(){t(this)})},getSchedules:function(){return a},detectSchedule:function(t){var r=e(t);n(r,!0)}}}(),window.server=function(){function e(e,t){e?napchartCore.setURL(t):alert("Something went wrong:\n\n"+t),n(),console.log(t)}function t(){napchartCore.startLoading()}function n(){napchartCore.finishLoading()}return{saveNew:function(n){t();var r=chartHistory.checkIfExists(n);if(r)return void e(!0,r);var a=JSON.stringify(n);$.post("post",{data:a}).done(function(t){e(!0,t)}).fail(function(t){console.error(t),e(!1,JSON.stringify(t))})},sendFeedback:function(e,t){$.post("/post/feedback",{message:e}).done(function(e){t(null,e)}).fail(function(e){t(e)})},linkEmailToFeedback:function(e,t,n){$.post("/post/linkEmailToFeedback",{token:e,email:t}).done(function(e){console.log(JSON.stringify(e,null,2)),n(null,"success")}).fail(function(e){n(e)})},load:function(){},save:function(){}}}(),window.settings=function(){function e(){$(n).find("#showAllElements").on("change",function(){formInput.setSettings({showAllElements:t("showAllElements")})}),$(n).find("#napDuration").on("change",function(){barhandler.setSettings({napDuration:t("napDuration")})}),$(n).find("#ampm").on("change",function(){1==this.checked?(draw.changeClockConfig("numberRadius",46),draw.changeClockConfig("timeLocation",6)):(draw.changeClockConfig("numberRadius",44),draw.changeClockConfig("timeLocation",4)),draw.reInit()}),$(n).find("#darkmode").on("change",function(){1==this.checked?napchartCore.dmToggle(!0):napchartCore.dmToggle(!1)})}function t(e){var t,r=$(n).find("#"+e)[0];return t="checkbox"==r.type?r.checked:r.value}var n;return{initialize:function(t){n=t,console.log($(n).find("#showAllElements").length),e()},getValue:function(e){return t(e)}}}(),window.animate=function(){return easingEffects=helpers.easingEffects,{frameAnimator:function(e,t,n){var r,a,i,o,s;i=0,s=6,o=easingEffects[t]||easingEffects.linear;var d=function(){i++,r=i/s,a=o(r),e(a),i<s&&helpers.requestAnimFrame.call(window,d)};helpers.requestAnimFrame.call(window,d)}}}(),window.barhandler=function(){return barAddRules={core:{size:120,location:1410,distance:90},nap:{size:20,location:960,distance:60},busy:{size:60,location:540,distance:60,specific:{0:{size:480}}}},{addBar:function(e){var t=napchartCore.howMany(e),n=napchartCore.lastElement(e),r={};for(var a in barAddRules[e])"undefined"!=typeof barAddRules[e].specific&&"undefined"!=typeof barAddRules[e].specific[t]&&"undefined"!=typeof barAddRules[e].specific[t][a]?r[a]=barAddRules[e].specific[t][a]:r[a]=barAddRules[e][a];if(t>0)var i=helpers.calc(n.end,r.distance);else var i=r.location;var o=helpers.calc(i,r.size);obj={start:i,end:o},napchartCore.addElement(e,obj)},removeBar:function(e,t){napchartCore.removeElement(e,t)},removeAllBars:function(e){var t=napchartCore.getSchedule();for("undefined"==typeof e&&(e=Object.keys(t)),i=0;i<e.length;i++)delete t[e[i]];napchartCore.setSchedule(t),sampleSchedule.detectSchedule(t),chartHistory.add(napchartCore.getSchedule(),"removed all")},setSettings:function(e){console.log(e),barAddRules.nap.size=1*e.napDuration}}}(),window.draw=function(){function e(e,t){for(var n=0,r=36*draw.ratio,a=0;a<t.length;a++)"line"==t[a].type&&(n+=t[a].minutes);var i=1440-n;if(i<0)throw new Error("too much space is given to straight segments in the shape");for(var o=0,a=0;a<t.length;a++)t[a].angle=o,"arc"==t[a].type&&(o+=t[a].radians);for(var s,a=0;a<t.length;a++)"arc"==t[a].type&&(t[a].minutes=t[a].radians/o*i,t[a].pathLength=2*r*Math.PI*(t[a].radians/(2*Math.PI)),0==a&&(s=t[a].pathLength/t[a].minutes));for(var a=0;a<t.length;a++)"line"==t[a].type&&(console.log(s),t[a].pathLength=t[a].minutes*s);for(var d=0,a=0;a<t.length;a++)t[a].start=d,t[a].end=d+t[a].minutes,d+=t[a].minutes;for(var a=0;a<t.length;a++)console.log(a),0==a?t[a].centre={x:draw.w/2,y:draw.h/2}:(console.log("warning"),t[a].centre=t[a-1].endCentre),"line"==t[a].type?(console.log(t[a]),t[a].endCentre={x:t[a].centre.x+Math.cos(t[a].angle)*t[a].pathLength,y:t[a].centre.y+Math.sin(t[a].angle)*t[a].pathLength}):t[a].endCentre=t[a].centre;draw.shape=t}function t(e,t,n,r,a){if("undefined"==typeof a)var a=!1;var i={x:draw.w/2,y:draw.h/2},o=t*draw.ratio,s={x:i.x,y:i.y-o},d=helpers.clone(draw.shape);a&&d.reverse();for(var c,l,u=0;u<d.length;u++){var h=d[u];helpers.isInside(n,h.start,h.end)&&(c=u),helpers.isInside(r,h.start,h.end)&&(l=u)}console.log(c,l);var f,p=[],m=!1;f=a?{start:1,end:0}:{start:0,end:1};for(var u=c;u<d.length;u++){var v={shape:d[u],start:f.start,end:f.end};if(u==c&&(v.start=helpers.getPositionBetweenTwoValues(n,d[u].start,d[u].end)),u==l&&(v.end=helpers.getPositionBetweenTwoValues(r,d[u].start,d[u].end)),(u==c&&u==l&&v.end>v.start&&a||v.end<v.start&&!a)&&(0==p.length?(v.end=f.end,m=!0):v.start=f.start),p.push(v),u==l){if(!m)break;m=!1}u==d.length-1&&(u=-1)}for(var u=0;u<p.length;u++){var d=p[u].shape;if("arc"==d.type){var g=d.angle-Math.PI/2,n=g+p[u].start*d.radians,r=g+p[u].end*d.radians;e.arc(d.centre.x,d.centre.y,o,n,r,a);var w=d.angle+d.radians-Math.PI/2;s.x=i.x+Math.cos(w)*o,s.y=i.y+Math.sin(w)*o}else if("line"==d.type){var y={x:Math.cos(d.angle)*d.pathLength,y:Math.sin(d.angle)*d.pathLength},g={x:d.centre.x+Math.sin(d.angle)*o,y:d.centre.y-Math.cos(d.angle)*o},n={x:g.x+y.x*p[u].start,y:g.y+y.y*p[u].start},r={x:g.x+y.x*p[u].end,y:g.y+y.y*p[u].end};0==u&&e.lineTo(n.x,n.y),e.lineTo(r.x,r.y)}}helpers.isInside(n,0,600)}function n(e,n,r,a,i){e.beginPath(),t(e,n,a,i),t(e,r,i,a,!0),e.closePath()}function r(e,t,n){var r,a,i,o,s,d,c,e=JSON.parse(JSON.stringify(e));if("undefined"==typeof e[t]||0==e[t].length)return e;if("undefined"==typeof e[n]||0==e[n].length)return e;for(var l=e[t].length,u=0;u<l;u++){r=e[t][u].start,a=e[t][u].end,c=[];for(var h=0;h<e[n].length;h++)i=e[n][h].start,o=e[n][h].end,s=helpers.pointIsInside(i,r,a),d=helpers.pointIsInside(o,r,a),(s||d)&&(i=helpers.calc(i,-10),o=helpers.calc(o,10),c.push({start:i,end:o}));if(c.length>0){c=c.sort(function(e,t){return e.start-t.start});for(var f=[e[t][u]],p=0;p<c.length;p++){var m,v,g=f.length-1;m=f[g].start,v=f[g].end;var s=helpers.pointIsInside(c[p].start,m,v),d=helpers.pointIsInside(c[p].end,m,v);s&&d?(f[g]={start:m,end:c[p].start},f.push({start:c[p].end,end:v})):s?f[g]={start:m,end:c[p].start}:d&&(f[g]={start:c[p].end,end:v})}for(e[t][u]={},p=0;p<f.length;p++)f[p].phantom=u;e[t]=e[t].concat(f)}}return e}function a(e){var t=40*draw.ratio;for(e.save(),e.strokeStyle=S.strokeColor,e.lineWidth=S.stroke*draw.ratio,e.beginPath(),e.translate(draw.w/2,draw.h/2),i=0;i<12;i++)c=helpers.minutesToXY(60*i,t),e.moveTo(c.x,c.y),c=helpers.minutesToXY(60*i+720,t),e.lineTo(c.x,c.y);e.closePath(),e.stroke(),e.restore()}function o(e){var t=40*draw.ratio;e.save(),e.translate(draw.w/2,draw.h/2),e.beginPath(),e.strokeStyle=S.impStrokeColor,e.lineWidth=S.stroke*draw.ratio,c=helpers.minutesToXY(0,t),e.moveTo(c.x,c.y),c=helpers.minutesToXY(720,t),e.lineTo(c.x,c.y),c=helpers.minutesToXY(240,t),e.moveTo(c.x,c.y),c=helpers.minutesToXY(960,t),e.lineTo(c.x,c.y),c=helpers.minutesToXY(480,t),e.moveTo(c.x,c.y),c=helpers.minutesToXY(1200,t),e.lineTo(c.x,c.y),e.closePath(),e.stroke(),e.restore()}function d(e){var n=S.circles;for(e.strokeStyle=S.strokeColor,e.lineWidth=S.stroke*draw.ratio,i=0;i<n.length;i++)e.beginPath(),t(e,n[i].radius,0,1439),e.stroke()}function l(e,t){var n=draw.w,r=draw.h;impfontpixels=5*draw.ratio,e.fillStyle=S.clockNumbers.color,numberRadius=S.clockNumbers.radius*draw.ratio,e.font=impfontpixels+"px Verdana",e.textAlign="center",e.textBaseline="middle";var a={0:"Midnight",4:"4 AM",8:"8 AM",12:"Noon",16:"4 PM",20:"8 PM"};for(i=0;i<24;i++)0!==i&&4!=i&&16!=i&&20!=i&&8!=i&&12!=i||(degrees=helpers.degreesToRadiens(15*i+270),xval=n/2+Math.cos(degrees)*numberRadius,yval=r/2+Math.sin(degrees)*numberRadius,t?e.fillText(a[i],xval,yval):e.fillText(i,xval,yval))}function u(e,n){var r=draw.w,a=draw.h;e.save(),e.globalCompositeOperation="destination-out",e.beginPath(),t(e,n,0,1440),e.lineTo(r/2,a/2),e.closePath(),e.fill(),e.restore()}function h(e,t){e.canvas;e.save();for(var r in t){var a=b[r].innerRadius,i=b[r].outerRadius,o=b[r].opacity,s=b[r].hoverOpacity,d=b[r].activeOpacity;e.fillStyle=b[r].color;for(var c=0;c<t[r].length;c++){var l,u=t[r][c].start,h=t[r][c].end;helpers.minutesToXY(t[r][c].end,a);l="undefined"!=typeof t[r][c].phantom?t[r][c].phantom:c,n(e,i,a,u,h),interactCanvas.isActive(r,l,"whole")||napchartCore.isSelected(r,l)?e.globalAlpha=d:interactCanvas.isActive(r,l)||interactCanvas.isHover(r,l,"whole")?e.globalAlpha=s:e.globalAlpha=o,e.fill()}}e.restore()}function f(e,t){e.save(),e.lineJoin="mittel";for(var r in t)if("undefined"!=typeof b[r].stroke){e.lineWidth=b[r].stroke.lineWidth;var a=b[r].innerRadius,i=b[r].outerRadius;e.strokeStyle=b[r].color;for(var o=0;o<t[r].length;o++){var s=t[r][o].start,d=t[r][o].end;n(e,i,a,s,d),e.stroke()}}e.restore()}function p(e,t){e.save();for(var r in t){var a=0,i=b[r].innerRadius;e.fillStyle=b[r].color;for(var o=0;o<t[r].length;o++){var s=o;if(interactCanvas.isActive(r,s)||napchartCore.isSelected(r,s)){e.save();var d=t[r][o].start,c=t[r][o].end;helpers.minutesToRadians(t[r][s].start),helpers.minutesToRadians(t[r][s].end),helpers.minutesToXY(t[r][s].end,a);n(e,i,a,d,c),e.globalAlpha=.1*e.globalAlpha,e.fill(),e.restore()}}}e.restore()}function m(e){draw.w,draw.h;return 1==S.blurCircle.opacity?u(e,S.blurCircle.radius*draw.ratio):(e.save(),e.fillStyle=S.background,e.globalAlpha=S.blurCircle.opacity,e.beginPath(),t(e,S.blurCircle.radius,0,1440),e.fill(),void e.restore())}function v(e,t){var n,r;e.save(),e.translate(draw.w/2,draw.h/2);for(var a in t)if("undefined"!=typeof b[a].rangeHandles&&b[a].rangeHandles)for(var i=0;i<t[a].length;i++){var o=t[a][i],d=i;if(napchartCore.isSelected(a,d))for(s=0;s<2;s++){var c=helpers.minutesToXY(o[["start","end"][s]],b[a].outerRadius*draw.ratio);interactCanvas.isActive(a,i,["start","end"][s])?(n="red",r="green"):interactCanvas.isHover(a,i,["start","end"][s])&&!interactCanvas.isActive(a,i)?(n="white",r="blue"):(n="white",r=b[a].color),e.fillStyle=n,e.beginPath(),e.arc(c.x,c.y,1*draw.ratio,0,2*Math.PI,!1),e.fill(),e.fillStyle=r,e.beginPath(),e.arc(c.x,c.y,.7*draw.ratio,0,2*Math.PI,!1),e.fill()}}e.restore()}function g(e,n,r,a){var i,o,s,d,c=[];if(a.indexOf(r.name)!=-1&&interactCanvas.isActive(r.name,r.count)){for(var l=0;l<a.length;l++)if("undefined"!=typeof n[a[l]])for(var u=0;u<n[a[l]].length;u++)"undefined"!=typeof n[a[l]][u]&&(i=n[a[l]][u],napchartCore.isSelected(a[l],u)&&(i.selected=!0),c.push(i));if(1!=c.length){c=c.sort(function(e,t){return e.start-t.start});for(var l=0;l<c.length;l++)"undefined"!=typeof c[l].selected&&(o=l);s=o-1,s<0&&(s=c.length-1),d=o+1,d>c.length-1&&(d=0);var h=45,f=36*draw.ratio,p=e.canvas,m=b.general.textSize*draw.ratio;e.save(),e.strokeStyle="#d2d2d2",e.strokeStyle=S.between.strokeColor,e.fillStyle=S.between.textColor,e.lineWidth=3,e.font=m+"px verdana",e.textAlign="center",e.textBaseline="middle",e.globalAlpha=e.globalAlpha*S.between.opacity;var v=[];v.push({start:c[s].end,end:c[o].start}),v.push({start:c[o].end,end:c[d].start}),v.forEach(function(n){var r,a,i,o,s;r=helpers.range(n.start,n.end),s=helpers.minutesToReadable(r,120),r<=720&&r>=60&&(a=helpers.calc(n.start,15),i=helpers.calc(n.end,-15),o=helpers.calc(a,r/2),middleXY=helpers.minutesToXY(o,f,p.width/2,p.height/2),e.beginPath(),t(e,h,a,i),e.stroke(),e.fillText(s,middleXY.x,middleXY.y))}),e.restore()}}}function w(e,t){var n,r,a,i,o,s,d={},s=22*draw.ratio,c=e.canvas;r=t.name,a=t.count,n=napchartCore.returnElement(r,a),i=helpers.minutesToReadable(helpers.range(n.start,n.end),120),o=helpers.middle(n.start,n.end),d=helpers.minutesToXY(o,s,c.width/2,c.height/2),e.save(),e.font=b.general.textSize*draw.ratio+"px verdana",e.fillStyle=b.general.color,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.6*e.globalAlpha,e.fillText(i,d.x,d.y),e.restore()}function y(e,t){var n,r,a,i,o,s,d,c={},l=[],u=e.canvas;r=t.name,a=t.count,n=napchartCore.returnElement(r,a),i=helpers.range(n.start,n.end),o=S.timeLocation,s=(b[r].outerRadius+o)*draw.ratio,l.push({minutes:n.start}),i>90&&l.push({minutes:n.end}),e.save(),e.font=3*draw.ratio+"px verdana",e.fillStyle=b.general.color,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.4*e.globalAlpha;for(var h=0;h<l.length;h++)minutes=l[h].minutes,minutes%240<=15||minutes%240>=225||(d=helpers.minutesToClock(minutes),c=helpers.minutesToXY(minutes,s,u.width/2,u.height/2),e.fillText(d,c.x,c.y));e.restore()}function C(){var e=napchartCore.getSchedule();draw.drawFrame(e),window.requestAnimationFrame(C)}var b={core:{stack:0,color:"#c70e0e",innerRadius:29,outerRadius:40,stroke:{lineWidth:2},rangeHandles:!0,opacity:.6,hoverOpacity:.5,activeOpacity:.5,selected:{strokeColor:"#FF6363",lineWidth:1,expand:.5}},nap:{stack:1,color:"#c70e0e",innerRadius:29,outerRadius:40,stroke:{lineWidth:2},opacity:.6,hoverOpacity:.5,activeOpacity:.5,selected:{strokeColor:"grey",lineWidth:1,expand:.5}},busy:{stack:2,color:"#1f1f1f",innerRadius:29,outerRadius:36,stroke:{lineWidth:2},rangeHandles:!0,opacity:.6,hoverOpacity:.5,activeOpacity:.5,selected:{strokeColor:"#FF6363",lineWidth:1,expand:.5}},general:{textSize:4,color:"black"}},k={core:{color:"#733134",opacity:.7,hoverOpacity:.7,activeOpacity:.7,selected:{strokeColor:"#FF6363",lineWidth:1,expand:.5}},nap:{color:"#c70e0e",opacity:.7,hoverOpacity:.7,activeOpacity:.7,selected:{strokeColor:"#FF6363",lineWidth:1,expand:.5}},busy:{color:"#9E9E9E",opacity:.6,hoverOpacity:.5,activeOpacity:.5,selected:{strokeColor:"#FF6363",lineWidth:1,expand:.5}},general:{color:"white"}},S={background:"#F4F4F4",circles:[{radius:36},{radius:29},{radius:20},{radius:2}],clearCircle:20,blurCircle:{radius:29,opacity:.8},stroke:.32,strokeColor:"#C9C9C9",impStrokeColor:"#262626",clockNumbers:{radius:44,color:"#262626"},between:{strokeColor:"#d2d2d2",textColor:"black",opacity:.5},timeLocation:4},x={background:"#373737",circles:[{radius:36},{radius:29},{radius:20},{radius:2}],clearCircle:20,blurCircle:{radius:29,opacity:.5},stroke:.32,strokeColor:"#525252",impStrokeColor:"EDEDED",clockNumbers:{radius:44,color:"#BFBFBF"},between:{strokeColor:"#A5A5A5",textColor:"white",opacity:.9},timeLocation:4};return{initialize:function(t){var n=t.parentNode,r=Math.min(n.clientWidth,400);console.log(n.clientWidth,400),t.width=r,t.height=r,console.log("size",r);var i,s=document.createElement("canvas"),c=s.getContext("2d");settings.getValue("ampm")?(i=!0,this.ratio=r/103):this.ratio=r/96,this.drawRatio=this.ratio;var h=t.getContext("2d"),f=window.devicePixelRatio||14,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;console.log("backingstore:",p),console.log("dpr:",f);var m=f/p;if(f!==p){console.log("upscaling");var v=t.width,g=t.height;t.width=v*m,t.height=g*m,t.style.width=v+"px",t.style.height=g+"px",this.ratio*=m}this.ctx=h,this.w=t.width,this.h=t.height;var w=[{type:"arc",radians:2*Math.PI}];s.height=t.width,s.width=t.width,e(c,w),a(c),u(c,S.clearCircle),d(c),o(c),l(c,i),this.cachedBackground=s,C()},reInit:function(){draw.initialize(draw.ctx.canvas)},drawFrame:function(e,t){if("undefined"==typeof e)throw new Error("drawFrame did not receive data in argument");var n,a,i;if(e=JSON.parse(JSON.stringify(e)),n=r(e,"busy","nap"),a=napchartCore.returnSelected()[0],i=draw.ctx,i.clearRect(0,0,draw.w,draw.h),"undefined"==typeof this.cachedBackground)throw new Error("Could not find the initialized off-screen canvas. Try running draw.initialize()");i.drawImage(this.cachedBackground,0,0),h(i,n),m(i),f(i,n);for(var o in e)if("busy"!=o)for(var s=0;s<e[o].length;s++)w(i,{name:o,count:s}),y(i,{name:o,count:s});i.save(),i.globalAlpha=interactCanvas.getSelectedOpacity(),p(i,e),v(i,e),"undefined"!=typeof a&&(g(i,e,a,["nap","core"]),"busy"==a.name&&(w(i,a),y(i,a))),i.restore()},drawUpdate:function(){console.log("drawUpdate"),requestUpdate=!0},getBarConfig:function(){return JSON.parse(JSON.stringify(b))},getImage:function(){var e,t=draw.ctx,n=t.canvas;return e=n.toDataURL()},changeClockConfig:function(e,t){S[e]=t},dmToggle:function(e){e?(normalBarConfig=helpers.clone(b),normalClockConfig=helpers.clone(S),b=helpers.overwrite(b,k),S=helpers.overwrite(S,x)):(b=helpers.overwrite(b,normalBarConfig),S=helpers.overwrite(S,normalClockConfig)),draw.reInit(),draw.drawUpdate()}}}(),window.interactCanvas=function(){function e(e,t){var n,r,a=t.getBoundingClientRect(),i=interactCanvas.canvas.width,o=interactCanvas.canvas.height;return e.changedTouches?(n=e.changedTouches[0].clientX-a.left,r=e.changedTouches[0].clientY-a.top):(n=e.clientX-a.left,r=e.clientY-a.top),{x:n-i/2,y:r-o/2}}function t(e){var t,n,r,a,i=(napchartCore.getCanvas(),i=napchartCore.getSchedule()),o=draw.getBarConfig(),d={};for(var c in i)if("undefined"!=typeof o[c].rangeHandles&&o[c].rangeHandles)for(r=0;r<i[c].length;r++)if(napchartCore.isSelected(c,r))for(s=0;s<2;s++)t=i[c][r][["start","end"][s]],n=helpers.minutesToXY(t,o[c].outerRadius*draw.drawRatio),a=helpers.distance(n.x,n.y,e.x,e.y),a<v*draw.drawRatio&&("undefined"==typeof d.distance||a<d.distance)&&(d={name:c,count:r,type:["start","end"][s],distance:a});if(0==Object.keys(d).length){var l,u,h,f,p,m,g;l=helpers.XYtoMinutes(e.x,e.y),u=helpers.distance(e.x,e.y,0,0);for(var c in i)for(r=0;r<i[c].length;r++)h=i[c][r].start,f=i[c][r].end,helpers.pointIsInside(l,h,f)&&(m=o[c].innerRadius*draw.drawRatio,p=o[c].outerRadius*draw.drawRatio,u>m&&u<p&&(g=helpers.calc(l,-h),d={name:c,count:r,type:"whole",positionInElement:g}));if(settings.getValue("moveSim")&&("core"==d.name||"nap"==d.name)){var i=napchartCore.getSchedule(),w={name:d.name,count:d.count};d={},d.elements=[],d.master={name:w.name,count:w.count};for(var c in i)if("busy"!=c)for(var r=0;r<i[c].length;r++)h=i[c][r].start,g=helpers.calc(l,-h),d.elements.push({name:c,count:r,type:"whole",positionInElement:g})}}return d}function n(n){var r=napchartCore.getCanvas(),a=e(n,r);napchartCore.getSchedule(),draw.getBarConfig();helpers.requestAnimFrame.call(window,draw.drawUpdate);var i=t(a);p=i}function r(n){n.stopPropagation();var r=n.target||n.srcElement,s=e(n,r),d={};
return console.log("click: ",s),d=t(s),0==Object.keys(d).length?void o():(n.preventDefault(),"undefined"!=typeof n.changedTouches?d.identifier=n.changedTouches[0].identifier:d.identifier="mouse",d.canvas=r,0===m.length&&o(),m.push(d),"undefined"!=typeof n.changedTouches?document.addEventListener("touchmove",a):document.addEventListener("mousemove",a),i(d.name,d.count),a(n),void helpers.requestAnimFrame.call(window,draw.drawUpdate))}function a(t){function n(e){napchartCore.modifyElement(e.name,e.count,e.values)}function r(e,t){o=e.name,s=e.count,l=napchartCore.returnElement(o,s),"start"==e.type?(v=h(f),w={start:v}):"end"==e.type?(g=h(f),w={end:g}):"whole"==e.type&&(p=e.positionInElement,m=helpers.range(l.start,l.end),v=helpers.calc(f,-p),"undefined"!=typeof x&&(v=h(v)),g=helpers.calc(v,m),w={start:v,end:g}),t(o,s,w)}var a;a=d(t);var i,o,s,l,u,f,p,m,v,g,w={};if(i=c(a))if(u=e(t,i.canvas),f=helpers.XYtoMinutes(u.x,u.y),"undefined"!=typeof i.elements){var y=[],C={};i.elements.some(function(e){r(e,function(e,t,n){e==i.master.name&&t==i.master.count&&(C=n),y.push({name:e,count:t,values:n})})});for(var b=C.start,k=h(b)-b,S=0;S<y.length;S++)y[S].values.start=helpers.calc(y[S].values.start,k),y[S].values.end=helpers.calc(y[S].values.end,k);console.log(y),y.forEach(n)}else{var x=!0;r(i,function(e,t,n){napchartCore.modifyElement(e,t,n)})}}function i(e,t){if(settings.getValue("moveSim")&&"busy"!=e){var n=napchartCore.getSchedule();for(var e in n)if("busy"!=e)for(var r=0;r<n[e].length;r++)napchartCore.setSelected(e,r)}napchartCore.setSelected(e,t)}function o(e,t){"undefined"==typeof e&&(napchartCore.deselect(),document.removeEventListener("touchmove",a),document.removeEventListener("mousemove",a)),napchartCore.deselect(e,t)}function d(e){return e.type.search("mouse")>=0?"mouse":(console.log(e),e.changedTouches[0].identifier)}function c(e){for(var t=0;t<m.length;t++)if(m[t].identifier==e)return m[t];return!1}function l(e){for(var t=0;t<m.length;t++)m[t].identifier==e&&m.splice(t,1)}function u(e){var t=d(e),n=c(t);0!=m.length&&chartHistory.add(napchartCore.getSchedule(),"moved "+n.name+" "+(n.count+1)),l(t),helpers.requestAnimFrame.call(window,draw.drawUpdate)}function h(e){var t=e;return settings.getValue("snap10")?t=10*Math.round(e/10):settings.getValue("snap5")?t=5*Math.round(e/5):e%60<7?t=e-e%60:e%60>53?t=e+(60-e%60):(e+=30,e%60<5?t=e-e%60-30:e%60>55&&(t=e+(60-e%60)-30)),t}function f(e,t,n,r){function a(e){if(t==e.name&&n==e.count&&("undefined"==typeof r||r==e.type))return!0}return"undefined"!=typeof e.elements?e.elements.some(a):a(e)}var p={},m=[],v=6,g=1;return{initialize:function(e){e.addEventListener("mousemove",n),e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),document.addEventListener("mouseup",u),document.addEventListener("touchend",u),document.addEventListener("touchstart",o);var t=window.getComputedStyle(e),a=t.getPropertyValue("width").replace("px",""),i=t.getPropertyValue("height").replace("px","");interactCanvas.canvas={width:a,height:i}},isActive:function(e,t,n){return m.some(function(r){return f(r,e,t,n)})},isHover:function(e,t,n){return f(p,e,t,n)},getSelectedOpacity:function(){return g},setSelectedOpacity:function(e){g=e}}}(),window.chartHistory=function(){function e(e){return"undefined"==typeof r[e]?void console.warn("history element does not exist"):("undefined"!=typeof r[e].chartid&&napchartCore.setURL(r[e].chartid),napchartCore.setSchedule(r[e].data),void(n=e))}function t(){var e="black-text grey lighten-3 waves-effect",t="grey-text grey lighten-2 disabled";n==r.length-1?($(".history#forward").removeClass(e),$(".history#forward").addClass(t)):($(".history#forward").removeClass(t),$(".history#forward").addClass(e)),0==n?($(".history#back").removeClass(e),$(".history#back").addClass(t)):($(".history#back").removeClass(t),$(".history#back").addClass(e))}var n=-1,r=[];return{initialize:function(e){chartHistory.add(e,""),dom.bindBackForward(),t()},add:function(e,a){e=helpers.clone(e),r.length>0&&JSON.stringify(e)==JSON.stringify(r[r.length-1].data)||(n!=r.length-1&&r.splice(n+1,r.length-(n+1)),r.push({data:e,action:a}),n++,t())},back:function(){return n==-1?void console.warn("can't undo more"):(e(n-1),void t())},forward:function(){return n==r.length-1?void console.warn("already at latest element"):(e(n+1),void t())},setChartid:function(e){r[n].chartid=e},checkIfExists:function(e){var t,n=JSON.stringify(e);for(var a in r)if(t=r[a],"undefined"!=typeof t.chartid&&JSON.stringify(t.data)==n)return t.chartid;return!1}}}(),window.statistics=function(){function e(e,t){for(var n=0,r=0;r<e.length;r++)"undefined"!=typeof e[r]&&(n+=helpers.calc(e[r].end,-e[r].start));return 1==t&&(n=1440-n),n}var t;return{initialize:function(e){t=e},update:function(t){var n,r;n=e(helpers.merge(t,["core","nap"])),n=helpers.minutesToReadable(n),r=e(helpers.merge(t,["nap","core","busy"]),!0),r=helpers.minutesToReadable(r),$(".sleep.stat-time").html(n),$(".free.stat-time").html(r)}}}(),window.textSerialize=function(){function e(e){var e=helpers.clone(e),t="";for(var n in e){e[n]=e[n].sort(function(e,t){return e.start-t.start});for(var r,a,i=n[0].toUpperCase()+n.slice(1),o=0;o<e[n].length;o++)r=helpers.minutesToClock(e[n][o].start),a=helpers.minutesToClock(e[n][o].end),t.length>0&&(t+="\n"),t+=i+" "+(o+1)+": "+r+" - "+a}return t}function t(){$(a).parent().parent().addClass("flash"),setTimeout(function(){$(a).parent().parent().removeClass("flash")},2e3)}function n(){var e=(a.value.match(/\n/g)||[]).length;e<4?e=4:e++,a.rows=e}var r,a=document.getElementById("textSchedule");return{update:function(t){if("undefined"==typeof t)var t=r;var i=e(t);helpers.compare(t,r)||(a.innerHTML=i,n(),r=t)},setChartid:function(e){var r="http://"+fromServer.url+"/"+e;textSerialize.update(),t(),a.innerHTML.search(r)>=0||(a.innerHTML+="\n"+r,n())}}}(),window.formInput=function(){function e(e,t){if($("body").hasClass("dark"))var n="dark";else var n="";var r,a;if(r=e+t,a='<div class="'+r+n+' inputBox">',a+=e+" "+(t+1),a+=':  <input class="clock start formInput'+n+'" length="4" type="text">',"nap"==e){var i=napchartCore.returnElement(e,t),o=helpers.calc(i.end,-i.start);a+=' - <input class="duration formInput" type="number" min="10" max="90" value="'+o+'"> min'}else a+=' - <input class="clock end formInput" length="4" type="text">';a+='<input type="hidden" name="name" value="'+e+'">',a+='<input type="hidden" name="count" value="'+t+'">',a+='<button class="remove"> <i class="fa fa-trash-o"></i> </button>',a+="</div>",$(s).append(a)}function t(e,t){return $(s).find("."+e+t).length>0}function n(n){var r,a,o;if("undefined"==typeof n)var n=c;for(var l in n)for(i=0;i<n[l].length;i++)t(l,i)||e(l,i),r=$(s).find("."+l+i),a=helpers.minutesToClock(n[l][i].start),o=helpers.minutesToClock(n[l][i].end),r.find(".start").val(a),r.find(".end").val(o);d?$(s).children().removeClass("hidden"):$(s).children().not(".selected").addClass("hidden"),c=n}function r(e){var t,n;$.each($(s).find(".inputBox"),function(e,r){t=$(r).find('[name="name"]').val(),n=$(r).find('[name="count"]').val(),napchartCore.elementExists(t,n)||$(r).remove()})}function a(){var e,t,n,r,a,i,s={};if(e=$(this).parent(),t=$(e).find('[name="name"]').val(),n=$(e).find('[name="count"]').val(),$(this).hasClass("start")?r="start":$(this).hasClass("end")?r="end":$(this).hasClass("duration")&&(r="duration"),"duration"==r){var d=napchartCore.returnElement(t,n).start;a=helpers.calc(d,1*this.value),r="end"}else i=o($(this).val()),$(this).val(i),a=helpers.clockToMinutes(i);s[r]=a,napchartCore.modifyElement(t,n,s)}function o(e){var t,n;return 1==e.length&&(e="0"+e+"00"),2==e.length&&(e+="00"),3==e.length&&(e="0"+e),t=e.substring(0,2),n=e.substring(2,4),t<=23&&n<=59&&e}var s,d,c;return{initialize:function(e){s=e,dom.bindRemoveButtons(s),$(s).on("blur",".clock",a),$(s).on("change",".duration",a),s.addEventListener("mousedown",function(e){e.stopPropagation()})},setData:function(e){n(e),r(e)},setSelected:function(e){return $(s).children().removeClass("selected"),"undefined"==typeof e?void(selected=[]):void e.forEach(function(e){$(s).find("."+e.name+e.count).addClass("selected").removeClass("hidden")})},deselect:function(){},setSettings:function(e){d=e.showAllElements,console.log(d),n()}}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMuanMiLCJjb3JlLmpzIiwiYXBwbGljYXRpb24uanMiLCJkb20uanMiLCJmZWVkYmFjay5qcyIsInNhbXBsZVNjaGVkdWxlcy5qcyIsInNlcnZlci5qcyIsInNldHRpbmdzLmpzIiwiY2FudmFzL2FuaW1hdGUuanMiLCJjYW52YXMvYmFyaGFuZGxlci5qcyIsImNhbnZhcy9kcmF3LmpzIiwiY2FudmFzL2ludGVyYWN0Q2FudmFzLmpzIiwiaGlzdG9yeS9oaXN0b3J5LmpzIiwib3V0cHV0dGVycy9zdGF0aXN0aWNzLmpzIiwib3V0cHV0dGVycy90ZXh0U2VyaWFsaXplLmpzIiwiZm9ybUlucHV0L2Zvcm1JbnB1dC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJoZWxwZXJzIiwiY29uc29sZSIsImhvcnNlIiwibG9nIiwibWVyZ2UiLCJkYXRhIiwibmFtZXMiLCJzdGFydCIsImVuZCIsImNsb25lIiwicHJlTWVyZ2UiLCJtZXJnZWQiLCJpIiwibGVuZ3RoIiwiY291bnQiLCJwdXNoIiwic29ydCIsImEiLCJiIiwicHJldkVuZCIsInJlcXVlc3RBbmltRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxsYmFjayIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJvQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiZWFzaW5nRWZmZWN0cyIsImxpbmVhciIsInQiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsIk1hdGgiLCJjb3MiLCJQSSIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJwb3ciLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwic3FydCIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJzIiwicCIsImFicyIsImFzaW4iLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsIm9iaiIsInN0cmluZ2lmaWVkIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwib3ZlcndyaXRlIiwiaW5mZXJpb3IiLCJzdXBlcmlvciIsIiQiLCJleHRlbmQiLCJjb21wYXJlIiwib2JqMSIsIm9iajIiLCJzaG9ydGVzdFdheSIsImNhbGMiLCJyYW5nZSIsImdldFBvc2l0aW9uQmV0d2VlblR3b1ZhbHVlcyIsInBvcyIsIm1pZGRsZSIsImRpc3RhbmNlIiwicmFuZ2VPYmplY3QiLCJhcnIiLCJtaWRkbGVwb2ludEZpbmRlciIsIm1pbnV0ZXMiLCJwbHVzIiwicG9pbnRJc0luc2lkZSIsInBvaW50IiwiaXNJbnNpZGUiLCJtaW51dGVzVG9DbG9jayIsImZsb29yIiwiaG91cnMiLCJzZXR0aW5ncyIsImdldFZhbHVlIiwiY2xvY2tUb0FNUE0iLCJjbG9jayIsImhvdXJzMjQiLCJwYXJzZUludCIsInN1YnN0cmluZyIsImFtUG0iLCJjbG9ja1RvTWludXRlcyIsInRvdGFsIiwid2FybiIsImRlZ3JlZXNUb1JhZGllbnMiLCJkZWciLCJtaW51dGVzVG9SYWRpYW5zIiwibWludXR0IiwibWludXRlc1RvSG91cnNNaW51dGVzIiwibWluIiwibWludXRlc1RvUmVhZGFibGUiLCJicmVha3BvaW50IiwiaG0iLCJtaW51dGVzVG9YWSIsInJhZGl1cyIsImJhc2V3aWR0aCIsImJhc2VoZWlnaHQiLCJvIiwieSIsIngiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIlhZdG9NaW51dGVzIiwiYXRhbiIsInJvdW5kIiwibmFwY2hhcnRDb3JlIiwic2NoZWR1bGVEYXRhIiwiY2FudmFzIiwic2VsZWN0ZWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5pdGlhbGl6ZSIsImRyYXciLCJpbnRlcmFjdENhbnZhcyIsImRyYXdVcGRhdGUiLCJmb3JtSW5wdXQiLCJkb20iLCJiaW5kQWRkQnV0dG9ucyIsImJpbmRTYXZlQnV0dG9uIiwic3RhdGlzdGljcyIsInNhbXBsZVNjaGVkdWxlIiwiZGV0ZWN0U2NoZWR1bGUiLCJjaGFydEhpc3RvcnkiLCJmZWVkYmFjayIsImluaXQiLCJmcm9tU2VydmVyIiwic2V0U2NoZWR1bGUiLCJzZXREYXRhIiwidXBkYXRlIiwidGV4dFNlcmlhbGl6ZSIsInNldE9HIiwiZ2V0SW1hZ2UiLCJnZXRTY2hlZHVsZSIsImFkZEVsZW1lbnQiLCJuYW1lIiwidGhpcyIsImFkZCIsInJlbW92ZUVsZW1lbnQiLCJzcGxpY2UiLCJob3dNYW55IiwibGFzdEVsZW1lbnQiLCJyZXR1cm5FbGVtZW50IiwiZWxlbWVudEV4aXN0cyIsIm1vZGlmeUVsZW1lbnQiLCJuZXdFbGVtZW50IiwicHJvcCIsImdldENhbnZhcyIsInNldFNlbGVjdGVkIiwiYW5pbWF0ZSIsImZyYW1lQW5pbWF0b3IiLCJlYXNpbmciLCJzZXRTZWxlY3RlZE9wYWNpdHkiLCJpc1NlbGVjdGVkIiwiZGVzZWxlY3QiLCJyZXR1cm5TZWxlY3RlZCIsInNldFVSTCIsImNoYXJ0aWQiLCJzZXRDaGFydGlkIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJpbmZvIiwiZG1Ub2dnbGUiLCJzdGF0ZSIsInN0YXJ0TG9hZGluZyIsImZpbmlzaExvYWRpbmciLCJyZWFkeSIsIlNBVkVfQlROIiwiVVJMX0ZJRUxEIiwiYWRkRXZlbnRMaXN0ZW5lciIsImJhcmhhbmRsZXIiLCJhZGRCYXIiLCJyZW1vdmVBbGxCYXJzIiwiYmluZFJlbW92ZUJ1dHRvbnMiLCJjb250YWluZXIiLCJvbiIsInBhcmVudCIsImZpbmQiLCJ2YWwiLCJzZXJ2ZXIiLCJzYXZlTmV3Iiwic2hvd05hdkV4dGVuc2lvbiIsIk5BVl9FWFQiLCJzaG93IiwidXJsIiwiY3NzIiwidmFsdWUiLCJpbWFnZSIsImF0dHIiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiYmluZEJhY2tGb3J3YXJkIiwiYmFjayIsImZvcndhcmQiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNoaWxkcmVuIiwidG9nZ2xlQ2xhc3MiLCJzdWJtaXQiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIm1lc3NhZ2UiLCJsb2FkaW5nIiwic2VuZEZlZWRiYWNrIiwiZXJyIiwicmVzcG9uc2UiLCJmaW5pc2hlZExvYWRpbmciLCJsaW5rRW1haWwiLCJlbWFpbCIsInRva2VuIiwibGlua0VtYWlsVG9GZWVkYmFjayIsImhpZGUiLCJ3aGljaFNjaGVkdWxlIiwibmFwcyIsImNvcmVzIiwibmFwIiwiY29yZSIsImNob29zZVNjaGVkdWxlIiwiZWxlbWVudCIsInNjaGVkdWxlIiwiaWQiLCJzY2hlZHVsZXMiLCJFcnJvciIsImN1cnJlbnRTY2hlZHVsZSIsIm5ld1NjaGVkdWxlIiwiYnVzeSIsInNldEluZGljYXRvciIsIkNPTlRBSU5FUiIsImluZGljYXRvciIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXJnZXREaXYiLCJjb250YWluZXJUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJ0YXJnZXRUb3AiLCJ0cmF2ZWwiLCJmYWRlT3V0Iiwic3R5bGUiLCJkaXNwbGF5IiwibW9ub3BoYXNpYyIsInNpZXN0YSIsInNlZ21lbnRlZCIsImR1YWxjb3JlMSIsInRyaXBoYXNpYyIsImV2ZXJ5bWFuIiwidWJlcm1hbiIsInNjaGVkdWxlTGlua3MiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZ2V0U2NoZWR1bGVzIiwic3VjY2VzcyIsImFsZXJ0IiwiZmluaXNoIiwiY2hlY2tJZkV4aXN0cyIsImpzb24iLCJwb3N0IiwiZG9uZSIsImZhaWwiLCJlcnJvciIsInJlc3VsdCIsInlvIiwibG9hZCIsInNhdmUiLCJhZGRFdmVudExpc3RlbmVycyIsInN3aXRjaEJveCIsInNldFNldHRpbmdzIiwic2hvd0FsbEVsZW1lbnRzIiwibmFwRHVyYXRpb24iLCJjaGVja2VkIiwiY2hhbmdlQ2xvY2tDb25maWciLCJyZUluaXQiLCJ0eXBlIiwib25Qcm9ncmVzcyIsImVhc2luZ1N0cmluZyIsIm9uQ29tcGxldGUiLCJzdGVwRGVjaW1hbCIsImVhc2VEZWNpbWFsIiwiY3VycmVudFN0ZXAiLCJlYXNpbmdGdW5jdGlvbiIsInRvdGFsU3RlcHMiLCJhbmltYXRpb25GcmFtZSIsImNhbGwiLCJiYXJBZGRSdWxlcyIsInNpemUiLCJzcGVjaWZpYyIsIjAiLCJydWxlcyIsInJ1bGUiLCJyZW1vdmVCYXIiLCJPYmplY3QiLCJrZXlzIiwib2JqZWN0IiwiY2FsY3VsYXRlU2hhcGUiLCJjdHgiLCJzaGFwZSIsIm1pbnV0ZXNQcmVzZXJ2ZWRCeUxpbmUiLCJyYXRpbyIsInNwYWNlRm9yQXJjcyIsInRvdGFsUmFkaWFucyIsImFuZ2xlIiwicmFkaWFucyIsInBhdGhMZW5ndGhQZXJNaW51dGUiLCJwYXRoTGVuZ3RoIiwic3VtTWludXRlcyIsImNlbnRyZSIsInciLCJoIiwiZW5kQ2VudHJlIiwiY3JlYXRlQ3VydmUiLCJhbnRpY2xvY2t3aXNlIiwiYyIsInIiLCJub3dQb2ludCIsInJldmVyc2UiLCJzdGFydEJsb2NrIiwiZW5kQmxvY2siLCJkZWZhdWx0VGFzayIsInRhc2tBcnJheSIsInNraXBFbmRDaGVjayIsInRhc2siLCJzaGFwZVN0YXJ0IiwiYXJjIiwicmFkTm9ybWFsaXplIiwibGluZVRvIiwiY3JlYXRlU2VnbWVudCIsIm91dGVyIiwiaW5uZXIiLCJiZWdpblBhdGgiLCJjbG9zZVBhdGgiLCJyZW1vdmVPdmVybGFwcGluZyIsInN0YXJ0SW5mIiwiZW5kSW5mIiwic3RhcnRTdXAiLCJlbmRTdXAiLCJzdGFydElzSW5zaWRlIiwiZW5kSXNJbnNpZGUiLCJ0cmltIiwiZiIsInRyaW1tZWQiLCJsYXN0IiwicGhhbnRvbSIsImNvbmNhdCIsImRyYXdMaW5lcyIsInN0cm9rZVN0eWxlIiwiY2xvY2tDb25maWciLCJzdHJva2VDb2xvciIsImxpbmVXaWR0aCIsInN0cm9rZSIsInRyYW5zbGF0ZSIsIm1vdmVUbyIsInJlc3RvcmUiLCJkcmF3SW1wTGluZXMiLCJpbXBTdHJva2VDb2xvciIsImRyYXdDaXJjbGVzIiwiY2lyY2xlcyIsImRyYXdDbG9ja051bWJlcnMiLCJhbXBtIiwid2lkdGgiLCJoZWlnaHQiLCJpbXBmb250cGl4ZWxzIiwiZmlsbFN0eWxlIiwiY2xvY2tOdW1iZXJzIiwiY29sb3IiLCJudW1iZXJSYWRpdXMiLCJmb250IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiYW1wbVRhYmxlIiwiNCIsIjgiLCIxMiIsIjE2IiwiMjAiLCJkZWdyZWVzIiwieHZhbCIsInl2YWwiLCJmaWxsVGV4dCIsImNsZWFyQ2xvY2tDaXJjbGUiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJmaWxsIiwiZHJhd0JhcnMiLCJpbm5lclJhZGl1cyIsImJhckNvbmZpZyIsIm91dGVyUmFkaXVzIiwib3BhY2l0eSIsImhvdmVyT3BhY2l0eSIsImFjdGl2ZU9wYWNpdHkiLCJpc0FjdGl2ZSIsImdsb2JhbEFscGhhIiwiaXNIb3ZlciIsInN0cm9rZUJhcnMiLCJsaW5lSm9pbiIsImRyYXdTaGFkb3dzIiwiZHJhd0JsdXJDaXJjbGUiLCJibHVyQ2lyY2xlIiwiYmFja2dyb3VuZCIsImRyYXdIYW5kbGVzIiwib3V0ZXJDb2xvciIsImlubmVyQ29sb3IiLCJyYW5nZUhhbmRsZXMiLCJkcmF3RGlzdGFuY2VUb05lYXJFbGVtZW50cyIsInNlbGVjdGVkRWxlbWVudCIsImJhcnMiLCJlbGVtZW50UHVzaCIsImJlZm9yZSIsImFmdGVyIiwiYXJyYXkiLCJpbmRleE9mIiwidGV4dFJhZGl1cyIsImZvbnRTaXplIiwiZ2VuZXJhbCIsInRleHRTaXplIiwiYmV0d2VlbiIsInRleHRDb2xvciIsImRyYXdBcnIiLCJmb3JFYWNoIiwidGV4dCIsIm1pZGRsZVhZIiwiZHJhd0VsZW1lbnRJbmZvIiwiZHVyYXRpb24iLCJwb3NpdGlvbiIsImRyYXdUaW1lSW5kaWNhdG9ycyIsInRpbWVMb2NhdGlvbiIsInRpbWUiLCJwb2ludHNUb0RyYXciLCJyZW5kZXIiLCJkcmF3RnJhbWUiLCJzdGFjayIsImV4cGFuZCIsImRhcmtCYXJDb25maWciLCJjbGVhckNpcmNsZSIsImRhcmtDbG9ja0NvbmZpZyIsInJlc2l6ZURpdiIsInBhcmVudE5vZGUiLCJjbG9ja1NpemUiLCJjbGllbnRXaWR0aCIsIm9mZlNjcmVlbkNhbnZhcyIsImNyZWF0ZUVsZW1lbnQiLCJvY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVSYXRpbyIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiYmFja2luZ1JhdGlvIiwib2xkV2lkdGgiLCJvbGRIZWlnaHQiLCJjYWNoZWRCYWNrZ3JvdW5kIiwidGh1bWIiLCJkYXRhV2l0aFBoYW50b21zIiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlIiwiZ2V0U2VsZWN0ZWRPcGFjaXR5IiwicmVxdWVzdFVwZGF0ZSIsImdldEJhckNvbmZpZyIsImltZyIsInRvRGF0YVVSTCIsImF0dHJpYnV0ZSIsIm5vcm1hbEJhckNvbmZpZyIsIm5vcm1hbENsb2NrQ29uZmlnIiwiZ2V0Q29vcmRpbmF0ZXMiLCJtb3VzZVgiLCJtb3VzZVkiLCJib3VuZGluZ1JlY3QiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsImhpdERldGVjdCIsImNvb3JkaW5hdGVzIiwiaGl0IiwiaG92ZXJEaXN0YW5jZSIsImRpc3RhbmNlVG9DZW50ZXIiLCJwb3NpdGlvbkluRWxlbWVudCIsIm9yaWdpbmFsIiwiZWxlbWVudHMiLCJtYXN0ZXIiLCJob3ZlciIsIm1vdXNlSG92ZXIiLCJkb3duIiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsImlkZW50aWZpZXIiLCJhY3RpdmVFbGVtZW50cyIsImRyYWciLCJzZWxlY3QiLCJtb2RpZnkiLCJuZXdWYWx1ZUVsZW1lbnQiLCJ2YWx1ZXMiLCJnZXRNb3ZlVmFsdWVzIiwiZHJhZ0VsZW1lbnQiLCJzbmFwIiwibmV3VmFsdWVzIiwic25hcEFsbCIsImZpbmRJZGVudGlmaWVyIiwiZ2V0QWN0aXZlRWxlbWVudCIsIm5ld0VsZW1lbnRzIiwic29tZSIsIm1hc3RlclN0YXJ0Iiwic2hpZnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2VhcmNoIiwicmVtb3ZlQWN0aXZlRWxlbWVudCIsInVwIiwiaW5wdXQiLCJvdXRwdXQiLCJjaGVja1N0YXRlIiwiY2hlY2siLCJzZWxlY3RlZE9wYWNpdHkiLCJjYW52YXNTdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInJlcGxhY2UiLCJ0byIsInN3aXRjaFRvIiwiaW5kZXgiLCJjdXJyZW50RWxlbWVudCIsImJ1dHRvbkNsaWNrIiwiZW5hYmxlZENsYXNzZXMiLCJkaXNhYmxlZENsYXNzZXMiLCJhY3Rpb24iLCJqc29uZGF0YSIsInRvdGFsVGltZSIsImludmVydCIsImNvbnQiLCJzbGVlcCIsImZyZWUiLCJodG1sIiwiZGF0YVRvVGV4dCIsIm5hbWVDYXAiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZmxhc2giLCJURVhUQVJFQSIsInJlc2l6ZSIsImxpbmVCcmVha3MiLCJtYXRjaCIsInJvd3MiLCJwcmV2RGF0YSIsImlubmVySFRNTCIsInN0cmluZyIsImNyZWF0ZUJsb2NrIiwiaGFzQ2xhc3MiLCJkY2xhc3MiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJibG9ja0V4aXN0cyIsInVwZGF0ZVZhbHVlcyIsImJsb2NrIiwibm90IiwicHJ1bmUiLCJlYWNoIiwia2V5IiwicmVtb3ZlIiwidW5mb2N1cyIsInZhbGlkYXRlIiwiY29udGFpbmVyRGl2IiwiayJdLCJtYXBwaW5ncyI6IkFBQUFBLE9BQUFDLFdBRUFDLFFBQUFDLE1BQUEsV0FDQUQsUUFBQUUsSUFBQSw0REFLQUgsUUFBQUksTUFBQSxTQUFBQyxFQUFBQyxHQVdBLElBQUEsR0FUQUMsR0FBQUMsRUFDQUgsRUFBQUwsUUFBQVMsTUFBQUosR0FDQUssS0FDQUMsS0FNQUMsRUFBQSxFQUFBQSxFQUFBTixFQUFBTyxPQUFBRCxJQUNBLElBQUFFLFFBQUFULEdBQUFDLEVBQUFNLElBQ0FGLEVBQUFLLEtBQUFWLEVBQUFDLEVBQUFNLElBQUFFLE9BU0EsS0FBQSxHQUFBRixHQUFBLEVBQUFBLEVBQUFGLEVBQUFHLE9BQUFELElBQ0FMLEVBQUFHLEVBQUFFLEdBQUFMLE1BQ0FDLEVBQUFFLEVBQUFFLEdBQUFKLElBRUFELEVBQUFDLElBRUFFLEVBQUFFLEdBQUFKLElBQUEsS0FDQUUsRUFBQUssTUFBQVIsTUFBQSxFQUFBQyxJQUFBQSxJQVFBRSxHQUFBQSxFQUFBTSxLQUFBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQUQsR0FBQVYsTUFBQVcsRUFBQVgsUUFLQUksRUFBQUksS0FBQUwsRUFBQSxHQUdBLEtBQUEsR0FBQUUsR0FBQSxFQUFBQSxFQUFBRixFQUFBRyxPQUFBRCxJQUNBTCxFQUFBRyxFQUFBRSxHQUFBTCxNQUNBQyxFQUFBRSxFQUFBRSxHQUFBSixJQUNBVyxRQUFBUixF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ZG93LmhlbHBlcnMgPSB7fTtcblxuY29uc29sZS5ob3JzZT1mdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKFwiSEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISEhISGhoaGhob1wiKTtcbn07XG5cblxuXG5oZWxwZXJzLm1lcmdlID0gZnVuY3Rpb24oZGF0YSwgbmFtZXMpe1xuICAgIC8vbWVyZ2VzIHNwZWNpZmllZCBiYXJzIGludG8gYSBuZXcgYXJyYXkgd2hlcmUgbm8gZWxlbWVudHMgb3ZlcmxhcFxuICAgIHZhciBzdGFydCxlbmQ7XG4gICAgdmFyIGRhdGEgPSBoZWxwZXJzLmNsb25lKGRhdGEpO1xuICAgIHZhciBwcmVNZXJnZSA9IFtdLFxuICAgIG1lcmdlZCA9IFtdO1xuXG5cblxuICAgIC8vZ28gdGhyb3VnaCB0aGUgc3BlY2lmaWVkIG5hbWVzIGluIHRoZSBkYXRhIG9iamVjdFxuICAgIC8vYW5kIHNhdmUgYWxsIGVsZW1lbnRzIGluIGEgbmV3IHByZU1lcmdlIGFycmF5XG4gICAgZm9yKHZhciBpPTA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGZvcihjb3VudCBpbiBkYXRhW25hbWVzW2ldXSl7XG4gICAgICAgICAgICBwcmVNZXJnZS5wdXNoKGRhdGFbbmFtZXNbaV1dW2NvdW50XSlcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8oZXhhbXBsZSkgcHJlTWVyZ2UgPSBbe3N0YXJ0OjQ0MCxlbmQ6NDYwfSx7c3RhcnQ6MTEwMCxlbmQ6MTAwfV1cblxuICAgIC8vdG8gYXZvaWQgY29uZnVzaW9uIHdoZW4gdGhlIGVuZCB2YWx1ZSBpcyBsb3dlciB0aGFuIHRoZSBzdGFydCB2YWx1ZSwgc3BsaXQgdXAgdGhvc2UgZWxlbWVudHNcblxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBwcmVNZXJnZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHN0YXJ0ID0gcHJlTWVyZ2VbaV0uc3RhcnQ7XG4gICAgICAgIGVuZCA9IHByZU1lcmdlW2ldLmVuZDtcblxuICAgICAgICBpZihzdGFydCA+IGVuZCl7XG4gICAgICAgICAgICAvLyBleC4gc3RhcnQ6MTEwMCBlbmQ6MTAwXG4gICAgICAgICAgICBwcmVNZXJnZVtpXS5lbmQgPSAxNDQwO1xuICAgICAgICAgICAgcHJlTWVyZ2UucHVzaCAoe3N0YXJ0OjAsZW5kOmVuZH0pXG4gICAgICAgICAgICAvLyBub3cgc3RhcnQ6MTEwMCBlbmQ6MTQ0MFxuICAgICAgICAgICAgLy8gYW5kIHN0YXJ0OjAgZW5kOjEwMFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9zb3J0IHByZU1lcmdlIGJ5IHN0YXJ0IHZhbHVlOlxuXG4gICAgcHJlTWVyZ2UgPSBwcmVNZXJnZS5zb3J0KGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgICByZXR1cm4gYS5zdGFydC1iLnN0YXJ0XG4gICAgfSk7XG5cblxuICAgIC8vcHVzaCBmaXJzdCBlbGVtZW50XG4gICAgbWVyZ2VkLnB1c2gocHJlTWVyZ2VbMF0pO1xuXG4gICAgLy90aGVuIGl0ZXJhdGUgdGhlIHJlc3RcbiAgICBmb3IodmFyIGkgPSAxO2kgPCBwcmVNZXJnZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHN0YXJ0ID0gcHJlTWVyZ2VbaV0uc3RhcnQ7XG4gICAgICAgIGVuZCA9IHByZU1lcmdlW2ldLmVuZDtcbiAgICAgICAgcHJldkVuZCA9IG1lcmdlZFttZXJnZWQubGVuZ3RoLTFdLmVuZDtcblxuICAgICAgICBpZihzdGFydCA8PSBwcmV2RW5kICYmIGVuZCA+IHByZXZFbmQpe1xuICAgICAgICAgICAgLy9zdGFydCBpcyBpbnNpZGUgcHJldi4gZWxlbWVudFxuICAgICAgICAgICAgLy9tZXJnZTpcbiAgICAgICAgICAgIG1lcmdlZFttZXJnZWQubGVuZ3RoLTFdLmVuZCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKHN0YXJ0ID4gcHJldkVuZCl7XG4gICAgICAgICAgICAvL3N0YXJ0IGlzIG91dHNpZGUgcHJldi4gZWxlbWVudFxuICAgICAgICAgICAgLy9jcmVhdGUgbmV3IGVsZW1lbnQgaW4gYXJyYXk6XG4gICAgICAgICAgICBtZXJnZWQucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6c3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOmVuZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlZDtcbn1cblxuLy9SZXF1ZXN0IGFuaW1hdGlvbiBwb2x5ZmlsbCAtIGh0dHA6Ly93d3cucGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuaGVscGVycy5yZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuICAgIH07XG59KCkpO1xuaGVscGVycy5jYW5jZWxBbmltRnJhbWUgPSAoZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgd2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgIHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5jbGVhclRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgfTtcbn0oKSk7XG5cbi8vRWFzaW5nIGZ1bmN0aW9ucyBhZGFwdGVkIGZyb20gUm9iZXJ0IFBlbm5lcidzIGVhc2luZyBlcXVhdGlvbnNcbi8vaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZy9cbmhlbHBlcnMuZWFzaW5nRWZmZWN0cyA9IHtcbiAgICBsaW5lYXI6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH0sXG4gICAgZWFzZUluUXVhZDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIHQgKiB0O1xuICAgIH0sXG4gICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAtMSAqIHQgKiAodCAtIDIpO1xuICAgIH0sXG4gICAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgaWYgKCh0IC89IDEgLyAyKSA8IDEpe1xuICAgICAgICAgICAgcmV0dXJuIDEgLyAyICogdCAqIHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKTtcbiAgICB9LFxuICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gdCAqIHQgKiB0O1xuICAgIH0sXG4gICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gMSAqICgodCA9IHQgLyAxIC0gMSkgKiB0ICogdCArIDEpO1xuICAgIH0sXG4gICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICgodCAvPSAxIC8gMikgPCAxKXtcbiAgICAgICAgICAgIHJldHVybiAxIC8gMiAqIHQgKiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMSAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpO1xuICAgIH0sXG4gICAgZWFzZUluUXVhcnQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0ICogdCAqIHQgKiB0O1xuICAgIH0sXG4gICAgZWFzZU91dFF1YXJ0OiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gLTEgKiAoKHQgPSB0IC8gMSAtIDEpICogdCAqIHQgKiB0IC0gMSk7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgaWYgKCh0IC89IDEgLyAyKSA8IDEpe1xuICAgICAgICAgICAgcmV0dXJuIDEgLyAyICogdCAqIHQgKiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTEgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMik7XG4gICAgfSxcbiAgICBlYXNlSW5RdWludDogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIDEgKiAodCAvPSAxKSAqIHQgKiB0ICogdCAqIHQ7XG4gICAgfSxcbiAgICBlYXNlT3V0UXVpbnQ6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAxICogKCh0ID0gdCAvIDEgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKTtcbiAgICB9LFxuICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbiAodCkge1xuICAgICAgICBpZiAoKHQgLz0gMSAvIDIpIDwgMSl7XG4gICAgICAgICAgICByZXR1cm4gMSAvIDIgKiB0ICogdCAqIHQgKiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMSAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMik7XG4gICAgfSxcbiAgICBlYXNlSW5TaW5lOiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gLTEgKiBNYXRoLmNvcyh0IC8gMSAqIChNYXRoLlBJIC8gMikpICsgMTtcbiAgICB9LFxuICAgIGVhc2VPdXRTaW5lOiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gMSAqIE1hdGguc2luKHQgLyAxICogKE1hdGguUEkgLyAyKSk7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gLTEgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gMSkgLSAxKTtcbiAgICB9LFxuICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMCkgPyAxIDogMSAqIE1hdGgucG93KDIsIDEwICogKHQgLyAxIC0gMSkpO1xuICAgIH0sXG4gICAgZWFzZU91dEV4cG86IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiAodCA9PT0gMSkgPyAxIDogMSAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIDEpICsgMSk7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbiAodCkge1xuICAgICAgICBpZiAodCA9PT0gMCl7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCA9PT0gMSl7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHQgLz0gMSAvIDIpIDwgMSl7XG4gICAgICAgICAgICByZXR1cm4gMSAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpO1xuICAgIH0sXG4gICAgZWFzZUluQ2lyYzogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgaWYgKHQgPj0gMSl7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTEgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSAxKSAqIHQpIC0gMSk7XG4gICAgfSxcbiAgICBlYXNlT3V0Q2lyYzogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgcmV0dXJuIDEgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIDEgLSAxKSAqIHQpO1xuICAgIH0sXG4gICAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgaWYgKCh0IC89IDEgLyAyKSA8IDEpe1xuICAgICAgICAgICAgcmV0dXJuIC0xIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKTtcbiAgICB9LFxuICAgIGVhc2VJbkVsYXN0aWM6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IDE7XG4gICAgICAgIGlmICh0ID09PSAwKXtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodCAvPSAxKSA9PSAxKXtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcCl7XG4gICAgICAgICAgICBwID0gMSAqIDAuMztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYSA8IE1hdGguYWJzKDEpKSB7XG4gICAgICAgICAgICBhID0gMTtcbiAgICAgICAgICAgIHMgPSBwIC8gNDtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKDEgLyBhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIDEgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSk7XG4gICAgfSxcbiAgICBlYXNlT3V0RWxhc3RpYzogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIHZhciBhID0gMTtcbiAgICAgICAgaWYgKHQgPT09IDApe1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0IC89IDEpID09IDEpe1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwKXtcbiAgICAgICAgICAgIHAgPSAxICogMC4zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoMSkpIHtcbiAgICAgICAgICAgIGEgPSAxO1xuICAgICAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oMSAvIGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIDEgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIDE7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRFbGFzdGljOiBmdW5jdGlvbiAodCkge1xuICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgIHZhciBwID0gMDtcbiAgICAgICAgdmFyIGEgPSAxO1xuICAgICAgICBpZiAodCA9PT0gMCl7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHQgLz0gMSAvIDIpID09IDIpe1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwKXtcbiAgICAgICAgICAgIHAgPSAxICogKDAuMyAqIDEuNSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEgPCBNYXRoLmFicygxKSkge1xuICAgICAgICAgICAgYSA9IDE7XG4gICAgICAgICAgICBzID0gcCAvIDQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oMSAvIGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0IDwgMSl7XG4gICAgICAgICAgICByZXR1cm4gLTAuNSAqIChhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIDEgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSk7fVxuICAgICAgICAgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIDEgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSAqIDAuNSArIDE7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbkJhY2s6IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB2YXIgcyA9IDEuNzAxNTg7XG4gICAgICAgICAgICByZXR1cm4gMSAqICh0IC89IDEpICogdCAqICgocyArIDEpICogdCAtIHMpO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlT3V0QmFjazogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgICAgIHJldHVybiAxICogKCh0ID0gdCAvIDEgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpO1xuICAgICAgICB9LFxuICAgICAgICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgaWYgKCh0IC89IDEgLyAyKSA8IDEpe1xuICAgICAgICAgICAgICAgIHJldHVybiAxIC8gMiAqICh0ICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgLSBzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMSAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCArIHMpICsgMik7XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbkJvdW5jZTogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIHJldHVybiAxIC0gZWFzaW5nRWZmZWN0cy5lYXNlT3V0Qm91bmNlKDEgLSB0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIGlmICgodCAvPSAxKSA8ICgxIC8gMi43NSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAqICg3LjU2MjUgKiB0ICogdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAwLjc1KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodCA8ICgyLjUgLyAyLjc1KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIDAuOTM3NSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAxICogKDcuNTYyNSAqICh0IC09ICgyLjYyNSAvIDIuNzUpKSAqIHQgKyAwLjk4NDM3NSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVhc2VJbk91dEJvdW5jZTogZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIGlmICh0IDwgMSAvIDIpe1xuICAgICAgICAgICAgICAgIHJldHVybiBlYXNpbmdFZmZlY3RzLmVhc2VJbkJvdW5jZSh0ICogMikgKiAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWFzaW5nRWZmZWN0cy5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gMSkgKiAwLjUgKyAxICogMC41O1xuICAgICAgICB9XG4gICAgfVxuXG5cbmhlbHBlcnMuY2xvbmUgPSBmdW5jdGlvbiAob2JqKXtcbiAgICAgICAgLy9jbG9uZSBhbiBvYmplY3RcbiAgICAgICAgdmFyIHN0cmluZ2lmaWVkID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgaWYodHlwZW9mIHN0cmluZ2lmaWVkICE9ICd1bmRlZmluZWQnKXtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cmluZ2lmaWVkKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgaGVscGVycy5vdmVyd3JpdGUgPSBmdW5jdGlvbiAoaW5mZXJpb3IsIHN1cGVyaW9yKXtcbiAgICAgICAgLy9sZXQgdGhlIHN1cGVyaW9yIG9iamVjdCBvdmVyd3JpdGUgYWxsIGluZmVyaW9yIHByb3BlcnRpZXNcblxuICAgICAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwgaW5mZXJpb3IsIHN1cGVyaW9yKTtcbiAgICB9O1xuXG5cbiAgICBoZWxwZXJzLmNvbXBhcmUgPSBmdW5jdGlvbiAob2JqMSwgb2JqMil7XG4gICAgICAgIC8vY2hlY2sgaWYgdGhleSBhcmUgYWxpa2VcbiAgICAgICAgLy91c2luZyBqc29uLnN0cmluZ2lmeSBpc24ndCBhbHdheXMgYnVsbGV0LXByb29mXG4gICAgICAgIGlmKEpTT04uc3RyaW5naWZ5KG9iajEpID09IEpTT04uc3RyaW5naWZ5KG9iajIpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9O1xuXG4gICAgaGVscGVycy5zaG9ydGVzdFdheSA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHMpO1xuICAgICAgICBpZiAocyA8IC03MjApXG4gICAgICAgIHJldHVybiBjYWxjKDE0NDAsIHMpO1xuICAgICAgICBpZiAocyA+IDcyMClcbiAgICAgICAgcmV0dXJuIHMgLSAxNDQwO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuXG4gICAgaGVscGVycy5yYW5nZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIDE0NDAgLSBzdGFydCArIGVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbmQgLSBzdGFydDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBoZWxwZXJzLmdldFBvc2l0aW9uQmV0d2VlblR3b1ZhbHVlcyA9IGZ1bmN0aW9uKHBvcywgc3RhcnQsIGVuZCl7XG4gICAgICAgIHJldHVybiBoZWxwZXJzLnJhbmdlKHN0YXJ0LHBvcykgLyBoZWxwZXJzLnJhbmdlKHN0YXJ0LCBlbmQpXG4gICAgfVxuXG4gICAgaGVscGVycy5taWRkbGUgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICB2YXIgZGlzdGFuY2UsIG1pZGRsZTtcbiAgICAgICAgZGlzdGFuY2UgPSBoZWxwZXJzLnJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgICAgICBtaWRkbGUgPSBoZWxwZXJzLmNhbGMoc3RhcnQsIGRpc3RhbmNlLzIpO1xuXG4gICAgICAgIHJldHVybiBtaWRkbGU7XG4gICAgfTtcblxuICAgIGhlbHBlcnMucmFuZ2VPYmplY3QgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIHJldHVybiByYW5nZShhcnIuc3RhcnQsIGFyci5lbmQpO1xuICAgIH07XG5cbiAgICBoZWxwZXJzLm1pZGRsZXBvaW50RmluZGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gY2FsYyhyYW5nZU9iamVjdChvYmopIC8gMiwgb2JqLnN0YXJ0KTtcbiAgICB9O1xuXG4gICAgaGVscGVycy5jYWxjID0gZnVuY3Rpb24gKG1pbnV0ZXMsIHBsdXMpIHtcbiAgICAgICAgaWYgKG1pbnV0ZXMgKyBwbHVzIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIG1pbnV0ZXMgKyBwbHVzICsgMTQ0MDtcbiAgICAgICAgfSBlbHNlIGlmIChtaW51dGVzICsgcGx1cyA+IDE0NDApIHtcbiAgICAgICAgICAgIHJldHVybiBtaW51dGVzICsgcGx1cyAtIDE0NDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWludXRlcyArIHBsdXM7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBoZWxwZXJzLnBvaW50SXNJbnNpZGUgPSBmdW5jdGlvbiAocG9pbnQsc3RhcnQsZW5kKXtcbiAgICAgICAgaWYoZW5kID4gc3RhcnQpe1xuICAgICAgICAgICAgaWYocG9pbnQgPCBlbmQgJiYgcG9pbnQgPiBzdGFydClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZSBpZihzdGFydCA+IGVuZCl7XG4gICAgICAgICAgICBpZihwb2ludCA+IHN0YXJ0IHx8IHBvaW50IDwgZW5kKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYocG9pbnQgPT0gc3RhcnQgfHwgcG9pbnQgPT0gZW5kKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBoZWxwZXJzLmlzSW5zaWRlID0gaGVscGVycy5wb2ludElzSW5zaWRlO1xuXG4gICAgaGVscGVycy5taW51dGVzVG9DbG9jayA9IGZ1bmN0aW9uIChtaW51dGVzKSB7XG4gICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZXMpO1xuICAgICAgICBpZiAobWludXRlcyA+PSAxNDQwKVxuICAgICAgICBtaW51dGVzIC09IDE0NDA7XG4gICAgICAgIGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApICsgXCJcIjtcbiAgICAgICAgbWludXRlcyA9IG1pbnV0ZXMgJSA2MCArIFwiXCI7XG4gICAgICAgIGlmIChob3Vycy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgaG91cnMgPSBcIjBcIiArIGhvdXJzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaW51dGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBtaW51dGVzID0gXCIwXCIgKyBtaW51dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoc2V0dGluZ3MuZ2V0VmFsdWUoJ2FtcG0nKSl7XG4gICAgICAgICAgICByZXR1cm4gaGVscGVycy5jbG9ja1RvQU1QTShob3VycyArIG1pbnV0ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChob3VycyArIG1pbnV0ZXMpO1xuXG4gICAgfTtcblxuICAgIGhlbHBlcnMuY2xvY2tUb0FNUE0gPSBmdW5jdGlvbiAoY2xvY2spe1xuICAgICAgICB2YXIgaG91cnMyNCA9IHBhcnNlSW50KGNsb2NrLnN1YnN0cmluZygwLDIpLCAxMCk7XG4gICAgICAgIHZhciBob3VycyA9ICgoaG91cnMyNCArIDExKSAlIDEyKSArIDE7XG4gICAgICAgIHZhciBhbVBtID0gaG91cnMyNCA+IDExID8gJ3BtJyA6ICdhbSc7XG4gICAgICAgIHZhciBtaW51dGVzID0gY2xvY2suc3Vic3RyaW5nKDIpO1xuXG4gICAgICAgIHJldHVybiBob3VycyArICc6JyArIG1pbnV0ZXMgKyBhbVBtO1xuICAgIH07XG5cbiAgICBoZWxwZXJzLmNsb2NrVG9NaW51dGVzID0gZnVuY3Rpb24gKGNsb2NrKSB7XG4gICAgICAgIHZhciBob3VycywgbWludXRlcywgdG90YWw7XG5cbiAgICAgICAgaWYoY2xvY2subGVuZ3RoICE9IDQpe1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdjbG9jayB2YWx1ZSBub3QgY29ycmVjdCBsZW5ndGgnKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgaG91cnMgPSBjbG9jay5zdWJzdHJpbmcoMCwyKTtcbiAgICAgICAgbWludXRlcyA9IGNsb2NrLnN1YnN0cmluZygyLDQpKjE7XG4gICAgICAgIHRvdGFsID0gbWludXRlcyArIChob3Vycyo2MCk7XG5cbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cblxuICAgIGhlbHBlcnMuZGVncmVlc1RvUmFkaWVucyA9IGZ1bmN0aW9uIChkZWcpIHtcbiAgICAgICAgcmV0dXJuICgoTWF0aC5QSSAvIDE4MCkgKiAoZGVnKSk7XG4gICAgfTtcblxuICAgIGhlbHBlcnMubWludXRlc1RvUmFkaWFucyA9IGZ1bmN0aW9uIChtaW51dHQpIHtcbiAgICAgICAgcmV0dXJuICgoTWF0aC5QSSAvIDcyMCkgKiAobWludXR0IC0gMzYwKSk7XG4gICAgfTtcblxuICAgIGhlbHBlcnMubWludXRlc1RvSG91cnNNaW51dGVzID0gZnVuY3Rpb24gKG1pbil7XG5cbiAgICAgICAgaG91cnMgPSBNYXRoLmZsb29yKG1pbiAvIDYwKSArIFwiXCI7XG4gICAgICAgIG1pbnV0ZXMgPSBtaW4gJSA2MCArIFwiXCI7XG4gICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKG1pbnV0ZXMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBob3Vyczpob3VycyxcbiAgICAgICAgICAgIG1pbnV0ZXM6bWludXRlc1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBoZWxwZXJzLm1pbnV0ZXNUb1JlYWRhYmxlID0gZnVuY3Rpb24gKG1pbixicmVha3BvaW50KXtcbiAgICAgICAgLy9leHRlbmRzIG1pbnV0ZXNUb0hvdXJzTWludXRlcyBhbmQgYWRkcyBoIGFuZCBtXG4gICAgICAgIHZhciBobTtcbiAgICAgICAgaWYodHlwZW9mIGJyZWFrcG9pbnQgPT0gJ3VuZGVmaW5lZCcpe1xuICAgICAgICAgICAgYnJlYWtwb2ludCA9IDYwXG4gICAgICAgIH1cblxuICAgICAgICBpZihtaW4gPiBicmVha3BvaW50KXtcbiAgICAgICAgICAgIGhtID0gaGVscGVycy5taW51dGVzVG9Ib3Vyc01pbnV0ZXMobWluKTtcbiAgICAgICAgICAgIHJldHVybiBobS5ob3VycyArICdoICcgKyBobS5taW51dGVzICsgJ20nO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBtaW4gKyAnbSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoZWxwZXJzLm1pbnV0ZXNUb1hZID0gZnVuY3Rpb24gKG1pbnV0ZXMsIHJhZGl1cywgYmFzZXdpZHRoLCBiYXNlaGVpZ2h0KSB7XG4gICAgICAgIGlmKHR5cGVvZiBiYXNld2lkdGggPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHZhciBiYXNld2lkdGggPSAwO1xuICAgICAgICBpZih0eXBlb2YgYmFzZWhlaWdodCA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgdmFyIGJhc2VoZWlnaHQgPSAwO1xuXG4gICAgICAgIG8gPSB7fTtcbiAgICAgICAgby55ID0gTWF0aC5zaW4oKG1pbnV0ZXMgLyAxNDQwKSAqIChNYXRoLlBJICogMikgLSAoTWF0aC5QSSAvIDIpKSAqIHJhZGl1cyArIGJhc2VoZWlnaHQ7XG4gICAgICAgIG8ueCA9IE1hdGguY29zKChtaW51dGVzIC8gMTQ0MCkgKiAoTWF0aC5QSSAqIDIpIC0gKE1hdGguUEkgLyAyKSkgKiByYWRpdXMgKyBiYXNld2lkdGg7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICBoZWxwZXJzLmRpc3RhbmNlID0gZnVuY3Rpb24gKHgxLHkxLHgyLHkyKXtcbiAgICAgICAgdmFyIHkgPSB5Mi15MTtcbiAgICAgICAgdmFyIHggPSB4Mi14MTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh5KnkreCp4KTtcbiAgICB9XG5cbiAgICBoZWxwZXJzLlhZdG9NaW51dGVzID0gZnVuY3Rpb24gKHgseSkge1xuICAgICAgICBtaW51dGVzID0gKE1hdGguYXRhbih5IC94KSAvIChNYXRoLlBJICogMikpICogMTQ0MCArIDM2MDtcbiAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICBtaW51dGVzICs9IDcyMDtcbiAgICAgICAgfVxuICAgICAgICBtaW51dGVzID0gTWF0aC5yb3VuZChtaW51dGVzKTtcblxuICAgICAgICByZXR1cm4gbWludXRlcztcbiAgICB9O1xuIiwiLypcblRoaXMgbW9kdWxlIGlzIHRoZSBjb3JlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbkl0IGhhbmRsZXMgbG93IGxldmVsIHN0b3Jpbmcgb2YgdGhlIGN1cnJlbnQgc2NoZWR1bGVcblxuKi9cblxud2luZG93Lm5hcGNoYXJ0Q29yZT0oZnVuY3Rpb24oKXtcblx0Ly9wcml2YXRlOlxuXHR2YXIgc2NoZWR1bGVEYXRhLCBjYW52YXMsIHNlbGVjdGVkO1xuXG5cdHNjaGVkdWxlRGF0YT17fTtcblx0c2VsZWN0ZWQgPSBbXTtcblx0Y2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XG5cblx0Ly9wdWJsaWM6XG5cdHJldHVybiB7XG5cblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0aWYodHlwZW9mIGRhdGEgPT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRcdGRhdGEgPSB7fTtcblxuXHRcdFx0c2V0dGluZ3MuaW5pdGlhbGl6ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dGluZ3MnKSk7XG5cdFx0XHRkcmF3LmluaXRpYWxpemUoY2FudmFzKTtcblx0XHRcdGludGVyYWN0Q2FudmFzLmluaXRpYWxpemUoY2FudmFzKTtcblx0XHRcdGRyYXcuZHJhd1VwZGF0ZSgpO1xuXHRcdFx0Zm9ybUlucHV0LmluaXRpYWxpemUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1JbnB1dENvbnRhaW5lcicpKTtcblx0XHRcdGRvbS5iaW5kQWRkQnV0dG9ucygpO1xuXHRcdFx0ZG9tLmJpbmRTYXZlQnV0dG9uKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlQ29udGFpbmVyJykpO1xuXHRcdFx0c3RhdGlzdGljcy5pbml0aWFsaXplKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0LWNvbnRhaW5lcicpKTtcblx0XHRcdHNhbXBsZVNjaGVkdWxlLmluaXRpYWxpemUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhbXBsZVNjaGVkdWxlcycpKTtcblx0XHRcdHNhbXBsZVNjaGVkdWxlLmRldGVjdFNjaGVkdWxlKGRhdGEpO1xuXG5cdFx0XHRjaGFydEhpc3RvcnkuaW5pdGlhbGl6ZShkYXRhKTtcblxuXHRcdFx0ZmVlZGJhY2suaW5pdGlhbGl6ZSgpO1xuXG5cdFx0XHRkb20uaW5pdCgpO1xuXG5cblx0XHRcdC8vbWF5YmUgdGhyb3cgdGhpcyBpbnRvIGEgY2hhcnRMb2FkZXIgbW9kdWxlP1xuXHRcdFx0aWYodHlwZW9mIGZyb21TZXJ2ZXIgIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0XHRuYXBjaGFydENvcmUuc2V0U2NoZWR1bGUoZnJvbVNlcnZlci5kYXRhKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0U2NoZWR1bGU6ZnVuY3Rpb24oZGF0YSl7XG5cblx0XHRcdHNjaGVkdWxlRGF0YT1oZWxwZXJzLmNsb25lKGRhdGEpO1xuXG5cdFx0XHQvLyBkcmF3LmRyYXdGcmFtZShzY2hlZHVsZURhdGEpO1xuXHRcdFx0Zm9ybUlucHV0LnNldERhdGEoc2NoZWR1bGVEYXRhKTtcblx0XHRcdHN0YXRpc3RpY3MudXBkYXRlKHNjaGVkdWxlRGF0YSk7XG5cdFx0XHR0ZXh0U2VyaWFsaXplLnVwZGF0ZShzY2hlZHVsZURhdGEpO1xuXHRcdFx0ZG9tLnNldE9HKGRyYXcuZ2V0SW1hZ2UpO1xuXHRcdH0sXG5cblx0XHRnZXRTY2hlZHVsZTpmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2NoZWR1bGVEYXRhKSk7XG5cdFx0fSxcblxuXHRcdGFkZEVsZW1lbnQ6ZnVuY3Rpb24obmFtZSxvYmope1xuXHRcdFx0aWYodHlwZW9mIHNjaGVkdWxlRGF0YVtuYW1lXT09J3VuZGVmaW5lZCcpe1xuXHRcdFx0XHRzY2hlZHVsZURhdGFbbmFtZV09W107XG5cdFx0XHR9XG5cblx0XHRcdHNjaGVkdWxlRGF0YVtuYW1lXS5wdXNoKG9iaik7XG5cdFx0XHR0aGlzLnNldFNjaGVkdWxlKHNjaGVkdWxlRGF0YSk7XG5cdFx0XHRzYW1wbGVTY2hlZHVsZS5kZXRlY3RTY2hlZHVsZShzY2hlZHVsZURhdGEpO1xuXG5cdFx0XHRjaGFydEhpc3RvcnkuYWRkKHNjaGVkdWxlRGF0YSwnYWRkZWQgJytuYW1lKTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlRWxlbWVudDpmdW5jdGlvbihuYW1lLGNvdW50KXtcblx0XHRcdHNjaGVkdWxlRGF0YVtuYW1lXS5zcGxpY2UoY291bnQsMSk7XG5cblx0XHRcdHRoaXMuc2V0U2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcblx0XHRcdHNhbXBsZVNjaGVkdWxlLmRldGVjdFNjaGVkdWxlKHNjaGVkdWxlRGF0YSk7XG5cblx0XHRcdGNoYXJ0SGlzdG9yeS5hZGQoc2NoZWR1bGVEYXRhLCdyZW1vdmVkICcgKyBuYW1lICsgJyAnICsgKGNvdW50LTEpKTtcblx0XHR9LFxuXG5cdFx0c3RhcnQ6ZnVuY3Rpb24oKXtcblxuXHRcdH0sXG5cblx0XHRob3dNYW55OmZ1bmN0aW9uKG5hbWUpe1xuXHRcdFx0aWYodHlwZW9mIHNjaGVkdWxlRGF0YVtuYW1lXT09J3VuZGVmaW5lZCcpe1xuXHRcdFx0XHRzY2hlZHVsZURhdGFbbmFtZV09W107XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc2NoZWR1bGVEYXRhW25hbWVdLmxlbmd0aDtcblx0XHR9LFxuXG5cdFx0bGFzdEVsZW1lbnQ6ZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRpZih0eXBlb2Ygc2NoZWR1bGVEYXRhW25hbWVdPT0ndW5kZWZpbmVkJyl7XG5cdFx0XHRcdGNvbnNvbGUud2FybignbGFzdEVsZW1lbnQgcmVjZWl2ZWQgYW4gdW5kZWZpbmVkIG5hbWUnKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2NoZWR1bGVEYXRhW25hbWVdW3NjaGVkdWxlRGF0YVtuYW1lXS5sZW5ndGgtMV07XG5cdFx0fSxcblxuXHRcdHJldHVybkVsZW1lbnQ6ZnVuY3Rpb24obmFtZSxjb3VudCl7XG5cdFx0XHRpZih0eXBlb2Ygc2NoZWR1bGVEYXRhW25hbWVdID09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBzY2hlZHVsZURhdGFbbmFtZV1bY291bnRdID09ICd1bmRlZmluZWQnKXtcblx0XHRcdFx0Y29uc29sZS53YXJuKCdTcGVjaWZpZWQgZWxlbWVudCBkb2VzIG5vdCBleGlzdCcpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHNjaGVkdWxlRGF0YVtuYW1lXVtjb3VudF07XG5cdFx0fSxcblxuXHRcdGVsZW1lbnRFeGlzdHM6ZnVuY3Rpb24obmFtZSxjb3VudCl7XG5cdFx0XHRpZih0eXBlb2Ygc2NoZWR1bGVEYXRhW25hbWVdICE9ICd1bmRlZmluZWQnXG5cdFx0XHRcdCYmIHR5cGVvZiBzY2hlZHVsZURhdGFbbmFtZV1bY291bnRdICE9ICd1bmRlZmluZWQnKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXG5cdFx0bW9kaWZ5RWxlbWVudDpmdW5jdGlvbihuYW1lLGNvdW50LG5ld0VsZW1lbnQpe1xuXHRcdFx0aWYodHlwZW9mIHNjaGVkdWxlRGF0YVtuYW1lXVtjb3VudF09PSd1bmRlZmluZWQnKXtcblx0XHRcdFx0Y29uc29sZS53YXJuKCdTcGVjaWZpZWQgZWxlbWVudCBkb2VzIG5vdCBleGlzdCcpO1xuXHRcdFx0fVxuXHRcdFx0Zm9yKHZhciBwcm9wIGluIG5ld0VsZW1lbnQpe1xuXHRcdFx0XHRzY2hlZHVsZURhdGFbbmFtZV1bY291bnRdW3Byb3BdID0gbmV3RWxlbWVudFtwcm9wXTtcblx0XHRcdH1cblx0XHRcdHRoaXMuc2V0U2NoZWR1bGUoc2NoZWR1bGVEYXRhKTtcblx0XHR9LFxuXG5cdFx0Z2V0Q2FudmFzOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gY2FudmFzO1xuXHRcdH0sXG5cblx0XHRzZXRTZWxlY3RlZDpmdW5jdGlvbihuYW1lLGNvdW50KXtcblxuXG5cdFx0XHQvL2lmIGFscmVhZHkgZXhpc3RzLCBleGl0XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRpZihzZWxlY3RlZFtpXS5uYW1lID09IG5hbWUgJiYgc2VsZWN0ZWRbaV0uY291bnQgPT0gY291bnQpe1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdzaCcpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0c2VsZWN0ZWQucHVzaCh7XG5cdFx0XHRcdG5hbWU6bmFtZSxcblx0XHRcdFx0Y291bnQ6Y291bnRcblx0XHRcdH0pO1xuXG5cblx0XHRcdC8vbm90aWZ5IG1vZHVsZXM6XG5cdFx0XHRmb3JtSW5wdXQuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuXG5cdFx0XHQvL2FuaW1hdGUgdGhlIGFwcGVhcmFuY2Ugb2Ygc2hhZG93IGFuZCBoYW5kbGVzXG5cdFx0XHRhbmltYXRlLmZyYW1lQW5pbWF0b3IoZnVuY3Rpb24oZWFzaW5nKXtcblx0XHRcdFx0aW50ZXJhY3RDYW52YXMuc2V0U2VsZWN0ZWRPcGFjaXR5KGVhc2luZyk7XG5cdFx0XHRcdGRyYXcuZHJhd1VwZGF0ZSgpO1xuXHRcdFx0fSk7XG5cblx0XHR9LFxuXG5cblx0XHRpc1NlbGVjdGVkOmZ1bmN0aW9uKG5hbWUsY291bnQpe1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHNlbGVjdGVkLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0aWYobmFtZSA9PSBzZWxlY3RlZFtpXS5uYW1lICYmIGNvdW50ID09IHNlbGVjdGVkW2ldLmNvdW50KXtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkZXNlbGVjdDpmdW5jdGlvbihuYW1lLGNvdW50KXtcblxuXHRcdFx0Ly9pZiB5b3Ugd2FudCB0byBkaXNhYmxlIGFsbFxuXHRcdFx0aWYodHlwZW9mIG5hbWUgPT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0XHRzZWxlY3RlZCA9IFtdO1xuXHRcdFx0XHRmb3JtSW5wdXQuc2V0U2VsZWN0ZWQoKTtcblxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vc2VhcmNoIGFuZCBkZXN0cm95XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRpZihzZWxlY3RlZFtpXS5uYW1lID09IG5hbWUgJiYgc2VsZWN0ZWRbaV0uY291bnQgPT0gY291bnQpe1xuXHRcdFx0XHRcdHNlbGVjdGVkLnNwbGljZShpLDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRmb3JtSW5wdXQuc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpO1xuXG5cdFx0fSxcblxuXHRcdHJldHVyblNlbGVjdGVkOmZ1bmN0aW9uKCl7XG5cblx0XHRcdHJldHVybiBzZWxlY3RlZDtcblx0XHR9LFxuXG5cdFx0c2V0VVJMOmZ1bmN0aW9uKGNoYXJ0aWQpe1xuXG5cdFx0XHR0ZXh0U2VyaWFsaXplLnNldENoYXJ0aWQoY2hhcnRpZCk7XG5cblx0XHRcdC8vIGlmIHVybCBpbiBicm93c2VyIGlzIHdyb25nXG5cdFx0XHRpZih3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT0gJy8nK2NoYXJ0aWQpe1xuXHRcdFx0XHQvL2NoYW5nZSB1cmwgaW4gYnJvd3NlclxuXHRcdFx0XHR3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe2NoYXJ0aWQ6Y2hhcnRpZH0sIFwiXCIsICcvJytjaGFydGlkKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHRjb25zb2xlLmluZm8oJ3VybCB3YXMgcmlnaHQnLGNoYXJ0aWQpXG5cdFx0XHR9XG5cblx0XHRcdGRvbS5zZXRVUkwoY2hhcnRpZCk7XG5cblx0XHRcdC8vbm90aWZ5IGNoYXJ0SGlzdG9yeSB0aGF0IGN1cnJlbnQgaGlzdG9yeSBlbGVtZW50cyBzaG91bGQgYmUgbGlua2VkIHdpdGggdGhpcyBjaGFydGlkXG5cdFx0XHRjaGFydEhpc3Rvcnkuc2V0Q2hhcnRpZChjaGFydGlkKTtcblx0XHR9LFxuXG5cdFx0ZG1Ub2dnbGU6ZnVuY3Rpb24oc3RhdGUpe1xuXHRcdFx0ZG9tLmRtVG9nZ2xlKHN0YXRlKTtcblx0XHRcdGRyYXcuZG1Ub2dnbGUoc3RhdGUpO1xuXHRcdH0sXG5cblx0XHRzdGFydExvYWRpbmc6ZnVuY3Rpb24oKXtcblx0XHRcdGRvbS5zdGFydExvYWRpbmcoKTtcblx0XHR9LFxuXG5cdFx0ZmluaXNoTG9hZGluZzpmdW5jdGlvbigpe1xuXHRcdFx0ZG9tLmZpbmlzaExvYWRpbmcoKTtcblx0XHR9XG5cdH07XG5cbn0oKSk7XG4iLCIvKlxuXG5UaGlzIG1vZHVsZSBzdGFydHMgdGhlIGFwcFxuXG4qL1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0dmFyIGRhdGEgPSB7fSwgY2hhcnRpZCA9IGZhbHNlO1xuXG5cdGlmKHR5cGVvZiBmcm9tU2VydmVyLmRhdGEgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGZyb21TZXJ2ZXIuY2hhcnRpZCAhPSAndW5kZWZpbmVkJyl7XG5cdFx0ZGF0YSA9IGZyb21TZXJ2ZXIuZGF0YTtcblx0XHRjaGFydGlkID0gZnJvbVNlcnZlci5jaGFydGlkO1xuXHR9XG5cdG5hcGNoYXJ0Q29yZS5pbml0aWFsaXplKGRhdGEpO1xuXG5cdGlmKGNoYXJ0aWQpe1xuXHRcdG5hcGNoYXJ0Q29yZS5zZXRVUkwoY2hhcnRpZCk7XG5cdH1cblxufSk7ICIsIi8qKlxuXG5UaGlzIG1vZHVsZSBoYW5kbGVzIGRvbSBldmVudCBsaXN0ZW5pbmdcblxuUmVxdWlyZXMgalF1ZXJ5XG5cbioqL1xuXG53aW5kb3cuZG9tPShmdW5jdGlvbigpe1xuXHQvL3ByaXZhdGVcblx0dmFyIFNBVkVfQlROID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmVCdXR0b24nKTtcblx0dmFyIFVSTF9GSUVMRCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cmxGaWVsZCcpO1xuXG5cdC8vcHVibGljOlxuXHRyZXR1cm57XG5cdFx0YmluZEFkZEJ1dHRvbnM6ZnVuY3Rpb24oKXtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRDb3JlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGJhcmhhbmRsZXIuYWRkQmFyKFwiY29yZVwiKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkTmFwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGJhcmhhbmRsZXIuYWRkQmFyKFwibmFwXCIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRCdXN5JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGJhcmhhbmRsZXIuYWRkQmFyKFwiYnVzeVwiKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlQWxsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGJhcmhhbmRsZXIucmVtb3ZlQWxsQmFycygpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGJpbmRSZW1vdmVCdXR0b25zOmZ1bmN0aW9uKGNvbnRhaW5lcil7XG5cdFx0XHQkKGNvbnRhaW5lcikub24oJ2NsaWNrJywnLnJlbW92ZScsZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyIGNsYXNzZXMsIG15Q2xhc3MsIG5hbWUsIGNvdW50O1xuXG5cdFx0XHRcdG5hbWUgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ1tuYW1lPVwibmFtZVwiXScpLnZhbCgpO1xuXHRcdFx0XHRjb3VudCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnW25hbWU9XCJjb3VudFwiXScpLnZhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhuYW1lLGNvdW50KVxuXHRcdFx0XHRpZihuYXBjaGFydENvcmUuaXNTZWxlY3RlZChuYW1lLGNvdW50KSl7XG5cdFx0XHRcdFx0bmFwY2hhcnRDb3JlLmRlc2VsZWN0KG5hbWUsY291bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG5hcGNoYXJ0Q29yZS5yZW1vdmVFbGVtZW50KG5hbWUsY291bnQpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdGJpbmRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHQkKFNBVkVfQlROKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciBkYXRhID0gbmFwY2hhcnRDb3JlLmdldFNjaGVkdWxlKCk7XG5cblx0XHRcdFx0c2VydmVyLnNhdmVOZXcoZGF0YSlcblx0XHRcdH0pXG5cdFx0fSxcblxuXHRcdHNob3dOYXZFeHRlbnNpb246ZnVuY3Rpb24oKXtcblx0XHRcdGNvbnNvbGUubG9nKCdldG5ocycpO1xuXHRcdFx0JChOQVZfRVhUKS5zaG93KCk7XG5cdFx0fSxcblxuXHRcdHNldFVSTDpmdW5jdGlvbihjaGFydGlkKXtcblx0XHRcdHZhciB1cmw7XG5cblx0XHRcdHVybCA9ICdodHRwOi8vJytmcm9tU2VydmVyLnVybCsnLycgKyBjaGFydGlkO1xuXG5cdFx0XHRpZiggJChVUkxfRklFTEQpLmNzcygnZGlzcGxheScpID09ICdub25lJyApe1xuXHRcdFx0XHQkKFVSTF9GSUVMRCkuc2hvdygpO1xuXHRcdFx0XHQkKFVSTF9GSUVMRCkuY3NzKCd3aWR0aCcsJzIyMHB4Jyk7XG5cdFx0XHR9XG5cdFx0XHRVUkxfRklFTEQudmFsdWUgPSB1cmw7XG5cdFx0fSxcblxuXHRcdHNldE9HOmZ1bmN0aW9uKGltYWdlKXtcblx0XHRcdCQoJ21ldGFbbmFtZT1vZ1xcXFw6aW1hZ2VdJykuYXR0cignY29udGVudCcsIGltYWdlKTtcblx0XHR9LFxuXG5cdFx0c3RhcnRMb2FkaW5nOmZ1bmN0aW9uKCl7XG5cdFx0XHRpZiggJChVUkxfRklFTEQpLmNzcygnZGlzcGxheScpID09ICdub25lJyApe1xuXHRcdFx0XHQkKFVSTF9GSUVMRCkuc2hvdygpO1xuXHRcdFx0XHQkKFVSTF9GSUVMRCkuY3NzKCd3aWR0aCcsJzIyMHB4Jyk7XG5cdFx0XHR9XG5cblx0XHRcdCQoVVJMX0ZJRUxEKS5hZGRDbGFzcygnbG9hZGluZycpO1xuXHRcdFx0VVJMX0ZJRUxELnZhbHVlID0gJ2xvYWRpbmcnO1xuXHRcdH0sXG5cblx0XHRmaW5pc2hMb2FkaW5nOmZ1bmN0aW9uKCl7XG5cdFx0XHQkKFVSTF9GSUVMRCkucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcblx0XHR9LFxuXG5cdFx0YmluZEJhY2tGb3J3YXJkOmZ1bmN0aW9uKCl7XG5cdFx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCcjYmFjaycsZnVuY3Rpb24oKXtcblx0XHRcdFx0Y2hhcnRIaXN0b3J5LmJhY2soKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCcjZm9yd2FyZCcsZnVuY3Rpb24oKXtcblx0XHRcdFx0Y2hhcnRIaXN0b3J5LmZvcndhcmQoKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRkbVRvZ2dsZTpmdW5jdGlvbihzdGF0ZSl7XG5cblx0XHRcdGlmKHN0YXRlID09IHRydWUpe1xuXHRcdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImRhcmtcIik7XG5cdFx0XHRcdCQoXCJib2R5ICpcIikuYWRkQ2xhc3MoXCJkYXJrXCIpO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwiZGFya1wiKTtcblx0XHRcdFx0JChcImJvZHkgKlwiKS5yZW1vdmVDbGFzcyhcImRhcmtcIik7XG5cdFx0XHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwiZGFya29mZlwiKTtcblx0XHRcdFx0JChcImJvZHkgKlwiKS5hZGRDbGFzcyhcImRhcmtvZmZcIik7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGluaXQ6ZnVuY3Rpb24oKXtcblx0XHRcdC8vIGJpdGNvaW5cblx0XHRcdCQoJyNiaXRjb2lubGluaycpLmNsaWNrKGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdCQodGhpcykuY2hpbGRyZW4oKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdCQoJyNiaXRjb2luaW5mbycpLnRvZ2dsZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdH0pXG5cdFx0fVxuXG5cdH1cblxufSgpKVxuIiwiLyoqXG5cblRoaXMgbW9kdWxlIGhhbmRsZXMgdGhlIGFqYXggZmVlZGJhY2sgZnJvbnQgZW5kXG5Vc2VzIGpRdWVyeSBhbmQgaGFuZGxlcyBET00gYnkgaXRzZWxmXG5cbioqL1xuXG53aW5kb3cuZmVlZGJhY2s9KGZ1bmN0aW9uKCl7XG5cdC8vcHJpdmF0ZVxuXHR2YXIgY29udGFpbmVyO1xuXG5cblx0ZnVuY3Rpb24gc3VibWl0KGV2ZW50KXtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciBtZXNzYWdlID0gJChjb250YWluZXIpLmZpbmQoJ3RleHRhcmVhJykudmFsKCk7XG5cblx0XHQkKGNvbnRhaW5lcikuZmluZCgnI2ZlZWRiYWNrLWVycm9yJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdCQoY29udGFpbmVyKS5maW5kKCcjZmVlZGJhY2stZGV2dGhhbmtzJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG5cdFx0bG9hZGluZygpO1xuXG5cdFx0Ly9hamF4XG5cdFx0c2VydmVyLnNlbmRGZWVkYmFjayhtZXNzYWdlLGZ1bmN0aW9uKGVyciwgcmVzcG9uc2Upe1xuXHRcdFx0Y29uc29sZS5pbmZvKHJlc3BvbnNlKTtcblx0XHRcdGlmKGVycil7XG5cdFx0XHRcdCQoY29udGFpbmVyKS5maW5kKCcjZmVlZGJhY2stZXJyb3InKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0JChjb250YWluZXIpLmZpbmQoJyNmZWVkYmFjay1kZXZ0aGFua3MnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHRcdCQoY29udGFpbmVyKS5maW5kKCcjdG9rZW4nKS52YWwocmVzcG9uc2UpO1xuXHRcdFx0fVxuXG5cdFx0XHRmaW5pc2hlZExvYWRpbmcoKTtcblx0XHR9KTtcblx0fVxuXHRmdW5jdGlvbiBsaW5rRW1haWwoZXZlbnQpe1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0dmFyIGVtYWlsID0gJChjb250YWluZXIpLmZpbmQoJyNlbWFpbCcpLnZhbCgpO1xuXHRcdHZhciB0b2tlbiA9ICQoY29udGFpbmVyKS5maW5kKCcjdG9rZW4nKS52YWwoKTtcblx0XHQvL1xuXHRcdC8vICQoY29udGFpbmVyKS5maW5kKCcjZmVlZGJhY2stZXJyb3InKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cdFx0Ly8gJChjb250YWluZXIpLmZpbmQoJyNmZWVkYmFjay1kZXZ0aGFua3MnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG5cblx0XHRsb2FkaW5nKCk7XG5cblx0XHQvL2FqYXhcblx0XHRzZXJ2ZXIubGlua0VtYWlsVG9GZWVkYmFjayh0b2tlbiwgZW1haWwsZnVuY3Rpb24oZXJyLCByZXNwb25zZSl7XG5cdFx0XHRjb25zb2xlLmluZm8ocmVzcG9uc2UpO1xuXHRcdFx0aWYoZXJyKXtcblx0XHRcdFx0JChjb250YWluZXIpLmZpbmQoJyNsaW5rZW1haWxlcnJvcicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdH1lbHNle1xuXHRcdFx0XHQkKGNvbnRhaW5lcikuZmluZCgnI2xpbmtlbWFpbHN1Y2Nlc3MnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cdFx0XHR9XG5cblx0XHRcdGZpbmlzaGVkTG9hZGluZygpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gbG9hZGluZygpe1xuXHRcdCQoY29udGFpbmVyKS5maW5kKCcubG9hZGluZy13aGVlbCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHQkKGNvbnRhaW5lcikuZmluZCgnLmFybScpLmhpZGUoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGZpbmlzaGVkTG9hZGluZygpe1xuXHRcdCQoY29udGFpbmVyKS5maW5kKCcubG9hZGluZy13aGVlbCcpLmFkZENsYXNzKCdoaWRkZW4nKTtcblx0XHQkKGNvbnRhaW5lcikuZmluZCgnLmFybScpLnNob3coKTtcblx0XHQkKGNvbnRhaW5lcikuZmluZCgndGV4dGFyZWEnKS52YWwoJycpO1xuXHRcdCQoY29udGFpbmVyKS5maW5kKCcjZW1haWwnKS52YWwoJycpO1xuXHRcdCQoY29udGFpbmVyKS5maW5kKCcuZW1haWxvcHRpb25hbCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0fVxuXG5cdC8vcHVibGljOlxuXHRyZXR1cm57XG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGFscmVhZHlBbnN3ZXJlZCA9IGZhbHNlO1xuXG5cdFx0XHRpZigkKCcuZmVlZGJhY2snKS5sZW5ndGggPT0gMCl7XG5cdFx0XHRcdGNvbnNvbGUud2FybignY291bGQgbm90IGZpbmQgZmVlZGJhY2sgY29udGFpbmVyJylcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHR9O1xuXG5cdFx0XHRjb250YWluZXIgPSAkKCcuZmVlZGJhY2snKVswXTtcblxuXHRcdFx0Ly9zZWFyY2ggZm9yIGNvb2tpZSBjb250YWluaW5nIGluZm9cblx0XHRcdC8vYWxyZWFkeUFuc3dlcmVkID0gdHJ1ZTtcblxuXHRcdFx0JCgnI3NlbmQtZmVlZGJhY2snKS5vbihcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsc3VibWl0KTtcblx0XHRcdCQoJyNsaW5rRW1haWwnKS5vbihcIm1vdXNlZG93biB0b3VjaHN0YXJ0XCIsbGlua0VtYWlsKTtcblxuXHRcdH1cblx0fVxuXG59KCkpXG4iLCIvKipcblxuVGhpcyBtb2R1bGUgaGFuZGxlcyBzYW1wbGVTY2hlZHVsZXNcblxuKiovXG5cbndpbmRvdy5zYW1wbGVTY2hlZHVsZSA9IChmdW5jdGlvbiAoKSB7XG5cdC8vcHJpdmF0ZTpcblx0dmFyIENPTlRBSU5FUjtcblxuXHRmdW5jdGlvbiB3aGljaFNjaGVkdWxlKGRhdGEpe1xuXHRcdHZhciBuYXBzID0gMCwgY29yZXMgPSAwOyBcblxuXHRcdGlmKHR5cGVvZiBkYXRhLm5hcCAhPSAndW5kZWZpbmVkJylcblx0XHRcdG5hcHMgPSBkYXRhLm5hcC5sZW5ndGg7XG5cblx0XHRpZih0eXBlb2YgZGF0YS5jb3JlICE9ICd1bmRlZmluZWQnKVxuXHRcdFx0Y29yZXMgPSBkYXRhLmNvcmUubGVuZ3RoO1xuXG5cblx0XHRpZihjb3Jlcz09PTEmJm5hcHM9PT0wKVxuXHRcdFx0cmV0dXJuIFwibW9ub3BoYXNpY1wiO1xuXHRcdGVsc2UgaWYoY29yZXM9PT0yJiZuYXBzPT09MClcblx0XHRcdHJldHVybiBcInNlZ21lbnRlZFwiO1xuXHRcdGVsc2UgaWYoY29yZXM9PT0xJiZuYXBzPT09MSlcblx0XHRcdHJldHVybiBcInNpZXN0YVwiO1xuXHRcdGVsc2UgaWYoY29yZXM9PT0yJiZuYXBzPT09MSlcblx0XHRcdHJldHVybiBcImR1YWxjb3JlMVwiO1xuXHRcdGVsc2UgaWYoY29yZXM9PT0wJiZuYXBzPT09Mylcblx0XHRcdHJldHVybiBcInRyaXBoYXNpY1wiO1xuXHRcdGVsc2UgaWYoY29yZXM9PT0xJiZuYXBzPj0yKVxuXHRcdFx0cmV0dXJuIFwiZXZlcnltYW5cIjtcblx0XHRlbHNlIGlmKGNvcmVzPT09MCYmbmFwcz09PTYpXG5cdFx0XHRyZXR1cm4gXCJ1YmVybWFuXCI7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFwibm9uZVwiO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hvb3NlU2NoZWR1bGUoZWxlbWVudCl7XG5cdFx0dmFyIHNjaGVkdWxlPWVsZW1lbnQuaWQ7XG5cdFx0aWYodHlwZW9mIHNjaGVkdWxlc1tzY2hlZHVsZV0gIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byByZW1vdmUgYnVzeSBlbGVtZW50c1xuXHRcdFx0dmFyIGN1cnJlbnRTY2hlZHVsZSA9IG5hcGNoYXJ0Q29yZS5nZXRTY2hlZHVsZSgpO1xuXHRcdFx0dmFyIG5ld1NjaGVkdWxlID0gc2NoZWR1bGVzW3NjaGVkdWxlXTtcblxuXHRcdFx0aWYodHlwZW9mIGN1cnJlbnRTY2hlZHVsZS5idXN5ICE9ICd1bmRlZmluZWQnKXtcblx0XHRcdFx0bmV3U2NoZWR1bGUuYnVzeSA9IGN1cnJlbnRTY2hlZHVsZS5idXN5O1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRJbmRpY2F0b3Ioc2NoZWR1bGUsIGZhbHNlKTtcblx0XHRcdG5hcGNoYXJ0Q29yZS5zZXRTY2hlZHVsZShuZXdTY2hlZHVsZSk7XG5cdFx0XHRjaGFydEhpc3RvcnkuYWRkKG5ld1NjaGVkdWxlLCdjaGFuZ2VkIHRvIHByZXNldCBzY2VkdWxlICcgKyBzY2hlZHVsZSk7XG5cblx0XHR9ZWxzZXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHRoZSBzY2hlZHVsZSByZXF1ZXN0ZWRcIilcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRJbmRpY2F0b3Ioc2NoZWR1bGUsIGFuaW1hdGUpe1xuXHRcdHZhciBjb250YWluZXIgPSBDT05UQUlORVI7XG5cdFx0dmFyIGluZGljYXRvciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcjc2NoZWR1bGVJbmRpY2F0b3InKTtcblxuXHRcdHZhciB0YXJnZXREaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignIycgKyBzY2hlZHVsZSk7XG5cblx0XHR2YXIgY29udGFpbmVyVG9wID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblx0XHR2YXIgdGFyZ2V0VG9wID0gdGFyZ2V0RGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcblx0XHR2YXIgdHJhdmVsID0gdGFyZ2V0VG9wIC0gY29udGFpbmVyVG9wO1xuXG5cdFx0JChjb250YWluZXIpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cblx0XHRpZihzY2hlZHVsZSA9PSAnbm9uZScpe1xuXHRcdFx0JChpbmRpY2F0b3IpLmZhZGVPdXQoKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpbmRpY2F0b3Iuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuXHRcdCQodGFyZ2V0RGl2KS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblxuXHRcdGlmKGFuaW1hdGUpe1xuXHRcdFx0Ly91c2Ugd2hlbiBkZXRlcm1pbmVkIHNjaGVkdWxlXG5cdFx0XHQkKGluZGljYXRvcikuYW5pbWF0ZSh7dG9wOnRyYXZlbH0pO1xuXHRcdH1lbHNle1xuXHRcdFx0Ly91c2Ugd2hlbiBjbGljayBvbiBzY2hlZHVsZVxuXHRcdFx0aW5kaWNhdG9yLnN0eWxlLnRvcCA9IHRyYXZlbCArICdweCc7XG5cdFx0fVxuXHR9O1xuXG5cdFx0dmFyIHNjaGVkdWxlcz17XG5cdFx0XHRtb25vcGhhc2ljOlx0e2NvcmU6W3tzdGFydDoxNDEwLCBlbmQ6NDUwIH1dfSxcblx0XHRcdHNpZXN0YTpcdHtjb3JlOlt7c3RhcnQ6MTM4MCxlbmQ6MjQwfV0sbmFwOlt7c3RhcnQ6NzgwLGVuZDo4NzB9XX0sXG5cdFx0XHRzZWdtZW50ZWQ6IHtjb3JlOlt7c3RhcnQ6MTMyMCxlbmQ6OTB9LHtzdGFydDoyMTAsZW5kOjQyMH1dfSxcblx0XHRcdGR1YWxjb3JlMToge2NvcmU6W3tzdGFydDoxMzIwLGVuZDo5MH0se3N0YXJ0OjM5MCxlbmQ6NDgwfV0sbmFwOlt7c3RhcnQ6OTYwLGVuZDo5ODB9XX0sXG5cdFx0XHR0cmlwaGFzaWM6IHtjb3JlOltdLG5hcDpbe3N0YXJ0OjM5MCxlbmQ6NDgwfSx7c3RhcnQ6ODcwLGVuZDo5NjB9LHtzdGFydDoxMzUwLGVuZDoxNDQwfV19LFxuXHRcdFx0ZXZlcnltYW46IHtjb3JlOlt7c3RhcnQ6MTI2MCxlbmQ6MzB9XSxuYXA6W3tzdGFydDoyNTAsZW5kOjI3MH0se3N0YXJ0Ojg4MCxlbmQ6OTAwfSx7c3RhcnQ6NDkwLGVuZDo1MTB9XX0sXG5cdFx0XHR1YmVybWFuOiB7bmFwOlt7c3RhcnQ6OTYwLGVuZDo5ODB9LHtzdGFydDo0ODAsZW5kOjUwMH0se3N0YXJ0OjcyMCxlbmQ6NzQwfSx7c3RhcnQ6MTIwMCxlbmQ6MTIyMH0se3N0YXJ0OjAsZW5kOjIwfSx7c3RhcnQ6MjQwLGVuZDoyNjB9XX1cblx0XHR9XG5cblxuXHQvL3B1YmxpYzpcblx0cmV0dXJuIHtcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKGNvbnRhaW5lcil7XG5cdFx0XHRDT05UQUlORVIgPSBjb250YWluZXI7XG5cdFx0XHR2YXIgc2NoZWR1bGVMaW5rcyA9IGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzYW1wbGVTY2hlZHVsZScpO1xuXG5cdFx0XHRmb3IoaT0wO2k8c2NoZWR1bGVMaW5rcy5sZW5ndGg7aSsrKXtcblx0XHRcdFx0c2NoZWR1bGVMaW5rc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRjaG9vc2VTY2hlZHVsZSh0aGlzKTtcblx0XHRcdFx0fSlcblx0XHRcdH07XG5cblxuXHRcdH0sXG5cdFx0Z2V0U2NoZWR1bGVzOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gc2NoZWR1bGVzO1xuXHRcdH0sXG5cblx0XHRkZXRlY3RTY2hlZHVsZTpmdW5jdGlvbihkYXRhKXtcblx0XHRcdHZhciBzY2hlZHVsZSA9IHdoaWNoU2NoZWR1bGUoZGF0YSk7XG5cblx0XHRcdHNldEluZGljYXRvcihzY2hlZHVsZSwgdHJ1ZSk7XG5cdFx0fVxuXHR9XG5cbn0oKSk7IiwiLyoqXG5cblRoaXMgbW9kdWxlIGhhbmRsZXMgc2VydmVyIGludGVyYWN0aW9ucyB0byBzYXZlIGFuZCBsb2FkIHNjaGVkdWxlcyB3aXRoIGFqYXhcblRoaXMgbW9kdWxlIHVzZXMgSlF1ZXJ5IGZvciBhamF4IGhhbmRsaW5nXG5cbioqL1xuXG53aW5kb3cuc2VydmVyPShmdW5jdGlvbigpe1xuXHQvL3ByaXZhdGVcblx0ZnVuY3Rpb24gY2FsbGJhY2soc3VjY2VzcywgcmVzcG9uc2Upe1xuXG5cdFx0aWYoc3VjY2Vzcyl7XG5cdFx0XHRuYXBjaGFydENvcmUuc2V0VVJMKHJlc3BvbnNlKTtcblx0XHR9ZWxzZXtcblx0XHRcdGFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZzpcXG5cXG4nICsgcmVzcG9uc2UpO1xuXHRcdH1cblxuXHRcdGZpbmlzaCgpO1xuXHRcdGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGxvYWRpbmcoKXtcblx0XHRuYXBjaGFydENvcmUuc3RhcnRMb2FkaW5nKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBmaW5pc2goKXtcblx0XHRuYXBjaGFydENvcmUuZmluaXNoTG9hZGluZygpO1xuXHR9XG5cblx0Ly9wdWJsaWM6XG5cdHJldHVybntcblx0XHRzYXZlTmV3OmZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0Ly9zZXQgbG9hZGluZyAod2lsbCBiZSBjYW5jZWxsZWQgYnkgY2FsbGJhY2soKSlcblx0XHRcdGxvYWRpbmcoKTtcblxuXHRcdFx0Ly9jaGVjayBpZiB0aGVyZSB0aGUgdXNlciBhbHJlYWR5IGhhcyBzYXZlZCBhbiBpZGVudGljYWwgdmVyc2lvbjpcblx0XHRcdHZhciBjaGFydGlkID0gY2hhcnRIaXN0b3J5LmNoZWNrSWZFeGlzdHMoZGF0YSk7XG5cdFx0XHRpZihjaGFydGlkKXtcblx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSxjaGFydGlkKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvL2Vsc2Ugc2F2ZSBhIG5ld1xuXHRcdFx0dmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcblxuXHRcdFx0JC5wb3N0KCBcInBvc3RcIiwge2RhdGE6IGpzb24gfSlcblx0XHRcdC5kb25lKGZ1bmN0aW9uKGNoYXJ0aWQpIHtcblx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSxjaGFydGlkKTtcblx0XHRcdH0pXG5cdFx0XHQuZmFpbChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHRcdFx0Y2FsbGJhY2soZmFsc2UsSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTtcblx0XHRcdH0pXG5cblxuXHRcdH0sXG5cblx0XHRzZW5kRmVlZGJhY2s6ZnVuY3Rpb24obWVzc2FnZSxjYWxsYmFjayl7XG5cdFx0XHQkLnBvc3QoIFwiL3Bvc3QvZmVlZGJhY2tcIiwge21lc3NhZ2U6IG1lc3NhZ2UgfSlcblx0XHRcdC5kb25lKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuXHRcdFx0fSlcblx0XHRcdC5mYWlsKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGVycm9yKTtcblx0XHRcdH0pXG5cdFx0fSxcblxuXHRcdGxpbmtFbWFpbFRvRmVlZGJhY2s6ZnVuY3Rpb24odG9rZW4sZW1haWwsY2FsbGJhY2spe1xuXHRcdFx0JC5wb3N0KCBcIi9wb3N0L2xpbmtFbWFpbFRvRmVlZGJhY2tcIiwge3Rva2VuOiB0b2tlbiwgZW1haWw6ZW1haWwgfSlcblx0XHRcdC5kb25lKGZ1bmN0aW9uKHlvKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHlvLG51bGwsMikpO1xuXHRcdFx0XHRjYWxsYmFjayhudWxsLCdzdWNjZXNzJyk7XG5cdFx0XHR9KVxuXHRcdFx0LmZhaWwoZnVuY3Rpb24oZXJyb3IpIHtcblx0XHRcdFx0Y2FsbGJhY2soZXJyb3IpO1xuXHRcdFx0fSlcblx0XHR9LFxuXG5cblx0XHRsb2FkOmZ1bmN0aW9uKCl7XG5cblx0XHR9LFxuXG5cdFx0c2F2ZTpmdW5jdGlvbigpe1xuXG5cdFx0fVxuXHR9XG5cbn0oKSlcbiIsIi8qKlxuXG5UaGlzIG1vZHVsZSBoYW5kbGVzIHNldHRpbmdzLlxuVGhpcyBtb2R1bGUgdXNlcyBqUXVlcnlcblVzZXMgY29va2llcyB0byBzYXZlIHByZWZlcmVuY2VzXG5cbioqL1xuXG53aW5kb3cuc2V0dGluZ3M9KGZ1bmN0aW9uKCl7XG5cdC8vcHJpdmF0ZVxuXHR2YXIgc3dpdGNoQm94O1xuXG5cdC8vIHZhciBpdGVtcyA9IHtcblx0Ly8gXHRzaG93QWxsRWxlbWVudHM6ZmFsc2UsXG5cdC8vIFx0bmFwRHVyYXRpb246MjBcblx0Ly8gfVxuXG5cdGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCl7XG5cblx0XHQkKHN3aXRjaEJveCkuZmluZCgnI3Nob3dBbGxFbGVtZW50cycpLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XG5cdFx0XHRmb3JtSW5wdXQuc2V0U2V0dGluZ3Moe1xuXHRcdFx0XHRzaG93QWxsRWxlbWVudHM6Z2V0VmFsdWUoJ3Nob3dBbGxFbGVtZW50cycpXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXG5cdFx0JChzd2l0Y2hCb3gpLmZpbmQoJyNuYXBEdXJhdGlvbicpLm9uKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XG5cdFx0XHRiYXJoYW5kbGVyLnNldFNldHRpbmdzKHtcblx0XHRcdFx0bmFwRHVyYXRpb246Z2V0VmFsdWUoJ25hcER1cmF0aW9uJylcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0JChzd2l0Y2hCb3gpLmZpbmQoJyNhbXBtJykub24oJ2NoYW5nZScsZnVuY3Rpb24oKXtcblx0XHRcdGlmKHRoaXMuY2hlY2tlZCA9PSB0cnVlKXtcblx0XHRcdFx0ZHJhdy5jaGFuZ2VDbG9ja0NvbmZpZygnbnVtYmVyUmFkaXVzJyw0Nik7XG5cdFx0XHRcdGRyYXcuY2hhbmdlQ2xvY2tDb25maWcoJ3RpbWVMb2NhdGlvbicsNik7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0ZHJhdy5jaGFuZ2VDbG9ja0NvbmZpZygnbnVtYmVyUmFkaXVzJyw0NCk7XG5cdFx0XHRcdGRyYXcuY2hhbmdlQ2xvY2tDb25maWcoJ3RpbWVMb2NhdGlvbicsNCk7XG5cdFx0XHR9O1xuXHRcdFx0ZHJhdy5yZUluaXQoKTtcblx0XHR9KTtcblxuXHRcdCQoc3dpdGNoQm94KS5maW5kKCcjZGFya21vZGUnKS5vbignY2hhbmdlJyxmdW5jdGlvbigpe1xuXHRcdFx0aWYodGhpcy5jaGVja2VkID09IHRydWUpe1xuXHRcdFx0XHRuYXBjaGFydENvcmUuZG1Ub2dnbGUodHJ1ZSk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0bmFwY2hhcnRDb3JlLmRtVG9nZ2xlKGZhbHNlKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFZhbHVlKGlkKXtcblx0XHR2YXIgZWxlbWVudCA9ICQoc3dpdGNoQm94KS5maW5kKCcjJyArIGlkKVswXTtcblx0XHR2YXIgdmFsdWU7XG5cblx0XHRpZihlbGVtZW50LnR5cGUgPT0gJ2NoZWNrYm94Jyl7XG5cdFx0XHR2YWx1ZSA9IGVsZW1lbnQuY2hlY2tlZDtcblx0XHR9ZWxzZXtcblx0XHRcdHZhbHVlID0gZWxlbWVudC52YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHQvL3B1YmxpYzpcblx0cmV0dXJue1xuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oY29udGFpbmVyKXtcblx0XHRcdHN3aXRjaEJveCA9IGNvbnRhaW5lcjtcblxuXHRcdFx0Y29uc29sZS5sb2coJChzd2l0Y2hCb3gpLmZpbmQoJyNzaG93QWxsRWxlbWVudHMnKS5sZW5ndGgpO1xuXG5cdFx0XHRhZGRFdmVudExpc3RlbmVycygpO1xuXHRcdH0sXG5cblx0XHRnZXRWYWx1ZTpmdW5jdGlvbihpZCl7XG5cdFx0XHRyZXR1cm4gZ2V0VmFsdWUoaWQpO1xuXHRcdH1cblxuXHRcdFxuXHR9XG5cbn0oKSkiLCIvKipcblxuVGhpcyBtb2R1bGUgaGFuZGxlcyBhbGwgYW5pbWF0aW9uc1xuXG4qKi9cblxud2luZG93LmFuaW1hdGU9KGZ1bmN0aW9uKCl7XG5cdC8vcHJpdmF0ZVxuXG5cblx0Ly9pbXBvcnQgZWFzaW5nRWZmZWN0cyBmcm9tIGhlbHBlcnNcblx0ZWFzaW5nRWZmZWN0cyA9IGhlbHBlcnMuZWFzaW5nRWZmZWN0cztcblxuXG5cdC8vcHVibGljOlxuXHRyZXR1cm57XG5cdFx0ZnJhbWVBbmltYXRvcjpmdW5jdGlvbihvblByb2dyZXNzLGVhc2luZ1N0cmluZyxvbkNvbXBsZXRlKXtcblx0XHRcdHZhciBzdGVwRGVjaW1hbCwgZWFzZURlY2ltYWwsIGN1cnJlbnRTdGVwLCBlYXNpbmdGdW5jdGlvbiwgdG90YWxTdGVwcztcblxuXHRcdFx0Y3VycmVudFN0ZXAgPSAwO1xuXHRcdFx0dG90YWxTdGVwcyA9IDY7XG5cdFx0XHRlYXNpbmdGdW5jdGlvbiA9IGVhc2luZ0VmZmVjdHNbZWFzaW5nU3RyaW5nXSB8fCBlYXNpbmdFZmZlY3RzLmxpbmVhcjtcblxuXHRcdFx0dmFyIGFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0Y3VycmVudFN0ZXArKztcblx0XHRcdFx0c3RlcERlY2ltYWwgPSBjdXJyZW50U3RlcC90b3RhbFN0ZXBzO1xuXHRcdFx0XHRlYXNlRGVjaW1hbCA9IGVhc2luZ0Z1bmN0aW9uKHN0ZXBEZWNpbWFsKTtcblxuXHRcdFx0XHRvblByb2dyZXNzKGVhc2VEZWNpbWFsKTtcblxuXHRcdFx0XHRpZihjdXJyZW50U3RlcDx0b3RhbFN0ZXBzKVxuXHRcdFx0XHRcdGhlbHBlcnMucmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdyxhbmltYXRpb25GcmFtZSk7O1xuXHRcdFx0fTtcblxuXHRcdFx0aGVscGVycy5yZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LGFuaW1hdGlvbkZyYW1lKTtcblx0XHR9XG5cdH1cblxufSgpKSIsIi8qXG50aGlzIG1vZHVsZSBoYW5kbGVzIGFkZGluZyBhbmQgZGVsZXRpbmcgb2YgYmFycyBmcm9tIHRoZSBkb21cbiovXG5cblxud2luZG93LmJhcmhhbmRsZXIgPSAoZnVuY3Rpb24oKXtcblx0Ly9wcml2YXRlOlxuXHRiYXJBZGRSdWxlcz17XG5cdFx0Y29yZTp7XG5cdFx0XHRzaXplOjEyMCxcblx0XHRcdGxvY2F0aW9uOjE0MTAsXG5cdFx0XHRkaXN0YW5jZTo5MFxuXHRcdH0sXG5cdFx0bmFwOntcblx0XHRcdHNpemU6MjAsXG5cdFx0XHRsb2NhdGlvbjo5NjAsXG5cdFx0XHRkaXN0YW5jZTo2MFxuXHRcdH0sXG5cdFx0YnVzeTp7XHRcdFx0XG5cdFx0XHRzaXplOjYwLFxuXHRcdFx0bG9jYXRpb246NTQwLFxuXHRcdFx0ZGlzdGFuY2U6NjAsXG5cdFx0XHRzcGVjaWZpYzp7XG5cdFx0XHRcdDA6e1xuXHRcdFx0XHRcdHNpemU6NDgwXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Ly9wdWJsaWM6XG5cdHJldHVybiB7XG5cdFx0YWRkQmFyOmZ1bmN0aW9uKG5hbWUpe1xuXG5cdFx0XHR2YXIgY291bnQgPSBuYXBjaGFydENvcmUuaG93TWFueShuYW1lKTtcblx0XHRcdHZhciBsYXN0RWxlbWVudCA9IG5hcGNoYXJ0Q29yZS5sYXN0RWxlbWVudChuYW1lKTtcblx0XHRcdHZhciBydWxlcyA9IHt9O1xuXG5cdFx0XHQvL2xvb3AgdGhyb3VnaCBvYmplY3QgdG8gc2VlIGlmIGFueSBzcGVjaWZpYyBydWxlcyBleGlzdFxuXHRcdFx0Ly9mb3IgdGhpcyBjb3VudC5cblx0XHRcdGZvcih2YXIgcnVsZSBpbiBiYXJBZGRSdWxlc1tuYW1lXSl7XG5cdFx0XHRcdGlmKHR5cGVvZiBiYXJBZGRSdWxlc1tuYW1lXS5zcGVjaWZpYyE9J3VuZGVmaW5lZCdcblx0XHRcdFx0XHQmJiB0eXBlb2YgYmFyQWRkUnVsZXNbbmFtZV0uc3BlY2lmaWNbY291bnRdIT0ndW5kZWZpbmVkJ1xuXHRcdFx0XHRcdCYmIHR5cGVvZiBiYXJBZGRSdWxlc1tuYW1lXS5zcGVjaWZpY1tjb3VudF1bcnVsZV0hPSd1bmRlZmluZWQnKXtcblx0XHRcdFx0XHQvL3NwZWNpZmljIHJ1bGUgZm9yIHRoaXMgY291bnRcblx0XHRcdFx0XHQvL2ZvciBleGFtcGxlOiBmaXJzdCBjb3JlIGFkZGVkIHNob3VsZCBiZSBsb25nZXJcblx0XHRcdFx0XHRydWxlc1tydWxlXT1iYXJBZGRSdWxlc1tuYW1lXS5zcGVjaWZpY1tjb3VudF1bcnVsZV07XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHJ1bGVzW3J1bGVdPWJhckFkZFJ1bGVzW25hbWVdW3J1bGVdXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYoY291bnQ+MClcblx0XHRcdFx0dmFyIHN0YXJ0PWhlbHBlcnMuY2FsYyhsYXN0RWxlbWVudC5lbmQscnVsZXMuZGlzdGFuY2UpO1xuXHRcdFx0ZWxzZXtcblx0XHRcdFx0dmFyIHN0YXJ0ID0gcnVsZXMubG9jYXRpb247XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBlbmQgPSBoZWxwZXJzLmNhbGMoc3RhcnQscnVsZXMuc2l6ZSk7XG5cblx0XHRcdG9iaj17XG5cdFx0XHRcdHN0YXJ0OnN0YXJ0LFxuXHRcdFx0XHRlbmQ6ZW5kXG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdG5hcGNoYXJ0Q29yZS5hZGRFbGVtZW50KG5hbWUsb2JqKTtcblx0XHR9LFxuXHRcblx0XHRyZW1vdmVCYXI6ZnVuY3Rpb24obmFtZSxjb3VudCl7XG5cdFx0XHRuYXBjaGFydENvcmUucmVtb3ZlRWxlbWVudChuYW1lLGNvdW50KTtcblx0XHR9LFxuXG5cdFx0cmVtb3ZlQWxsQmFyczpmdW5jdGlvbihuYW1lcyl7XG5cdFx0XHQvL3JlbW92ZXMgYWxsIGJhcnMgd2l0aGluIHRoZSBzcGVjaWZpZWQgbmFtZSBvYmplY3Rcblx0XHRcdC8vbmFtZXMgY291bGQgYmU6IFsnbmFwJywnY29yZSddXG5cblx0XHRcdC8vcmVtb3ZlcyBhbGwgaWYgbmFtZXMgaXMgZW1wdHlcblxuXHRcdFx0dmFyIGRhdGEgPSBuYXBjaGFydENvcmUuZ2V0U2NoZWR1bGUoKTtcblxuXHRcdFx0aWYodHlwZW9mIG5hbWVzPT0ndW5kZWZpbmVkJyl7XG5cdFx0XHRcdG5hbWVzID0gT2JqZWN0LmtleXMoZGF0YSlcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGk9MDtpPG5hbWVzLmxlbmd0aDtpKyspe1xuXHRcdFx0XHRkZWxldGUgZGF0YVtuYW1lc1tpXV07XG5cdFx0XHR9XG5cdFx0XHRuYXBjaGFydENvcmUuc2V0U2NoZWR1bGUoZGF0YSk7XG5cblxuXHRcdFx0c2FtcGxlU2NoZWR1bGUuZGV0ZWN0U2NoZWR1bGUoZGF0YSk7XG5cdFx0XHRjaGFydEhpc3RvcnkuYWRkKG5hcGNoYXJ0Q29yZS5nZXRTY2hlZHVsZSgpLCdyZW1vdmVkIGFsbCcpO1xuXHRcdH0sXG5cblx0XHRzZXRTZXR0aW5nczpmdW5jdGlvbihvYmplY3Qpe1xuXHRcdFx0Y29uc29sZS5sb2cob2JqZWN0KTtcblx0XHRcdGJhckFkZFJ1bGVzLm5hcC5zaXplID0gb2JqZWN0Lm5hcER1cmF0aW9uKjE7XG5cdFx0fVxuXHR9XG5cbn0oKSkiLCJcbndpbmRvdy5kcmF3PShmdW5jdGlvbigpe1xuXHQvL3ByaXZhdGUgaW5zaWRlIGZ1bmN0aW9uXG5cblx0Ly8gdXNlZCB3aGVuIGNhbGxpbmcgZHJhd1VwZGF0ZSgpXG5cdHZhciBsYXN0RGF0YSA9IHt9O1xuXG5cdHZhciBiYXJDb25maWcgPSB7IC8vdXNlZCBmb3IgZGVmaW5pbmcgdGhlIHJhZGl1cyBhbmQgY29sb3Igb2YgYmFyc1xuXHRcdGNvcmU6e1xuXHRcdFx0c3RhY2s6MCxcblx0XHRcdGNvbG9yOicjYzcwZTBlJyxcblx0XHRcdGlubmVyUmFkaXVzOjI5LFxuXHRcdFx0b3V0ZXJSYWRpdXM6NDAsXG5cdFx0XHRzdHJva2U6e1xuXHRcdFx0XHRsaW5lV2lkdGg6MlxuXHRcdFx0fSxcblx0XHRcdHJhbmdlSGFuZGxlczp0cnVlLFxuXHRcdFx0b3BhY2l0eTowLjYsXG5cdFx0XHRob3Zlck9wYWNpdHk6MC41LFxuXHRcdFx0YWN0aXZlT3BhY2l0eTowLjUsXG5cdFx0XHRzZWxlY3RlZDp7XG5cdFx0XHRcdHN0cm9rZUNvbG9yOicjRkY2MzYzJyxcblx0XHRcdFx0bGluZVdpZHRoOjEsXG5cdFx0XHRcdGV4cGFuZDowLjVcblx0XHRcdH1cblx0XHR9LFxuXHRcdG5hcDp7XG5cdFx0XHRzdGFjazoxLFxuXHRcdFx0Y29sb3I6JyNjNzBlMGUnLFxuXHRcdFx0aW5uZXJSYWRpdXM6MjksXG5cdFx0XHRvdXRlclJhZGl1czo0MCxcblx0XHRcdHN0cm9rZTp7XG5cdFx0XHRcdGxpbmVXaWR0aDoyXG5cdFx0XHR9LFxuXHRcdFx0b3BhY2l0eTowLjYsXG5cdFx0XHRob3Zlck9wYWNpdHk6MC41LFxuXHRcdFx0YWN0aXZlT3BhY2l0eTowLjUsXG5cdFx0XHRzZWxlY3RlZDp7XG5cdFx0XHRcdHN0cm9rZUNvbG9yOidncmV5Jyxcblx0XHRcdFx0bGluZVdpZHRoOjEsXG5cdFx0XHRcdGV4cGFuZDowLjVcblx0XHRcdH1cblx0XHR9LFxuXHRcdGJ1c3k6e1xuXHRcdFx0c3RhY2s6Mixcblx0XHRcdGNvbG9yOicjMWYxZjFmJyxcblx0XHRcdGlubmVyUmFkaXVzOjI5LFxuXHRcdFx0b3V0ZXJSYWRpdXM6MzYsXG5cdFx0XHRzdHJva2U6e1xuXHRcdFx0XHRsaW5lV2lkdGg6MlxuXHRcdFx0fSxcblx0XHRcdHJhbmdlSGFuZGxlczp0cnVlLFxuXHRcdFx0b3BhY2l0eTowLjYsXG5cdFx0XHRob3Zlck9wYWNpdHk6MC41LFxuXHRcdFx0YWN0aXZlT3BhY2l0eTowLjUsXG5cdFx0XHRzZWxlY3RlZDp7XG5cdFx0XHRcdHN0cm9rZUNvbG9yOicjRkY2MzYzJyxcblx0XHRcdFx0bGluZVdpZHRoOjEsXG5cdFx0XHRcdGV4cGFuZDowLjVcblx0XHRcdH1cblx0XHR9LFxuXHRcdGdlbmVyYWw6e1xuXHRcdFx0dGV4dFNpemU6NCxcblx0XHRcdGNvbG9yOidibGFjaydcblx0XHR9XG5cdH07XG5cblxuXHR2YXIgZGFya0JhckNvbmZpZyA9IHsgLy93aGVuIGRhcmttb2RlIGlzIG9uXG5cdFx0Y29yZTp7XG5cdFx0XHRjb2xvcjonIzczMzEzNCcsXG5cdFx0XHRvcGFjaXR5OjAuNyxcblx0XHRcdGhvdmVyT3BhY2l0eTowLjcsXG5cdFx0XHRhY3RpdmVPcGFjaXR5OjAuNyxcblx0XHRcdHNlbGVjdGVkOntcblx0XHRcdFx0c3Ryb2tlQ29sb3I6JyNGRjYzNjMnLFxuXHRcdFx0XHRsaW5lV2lkdGg6MSxcblx0XHRcdFx0ZXhwYW5kOjAuNVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0bmFwOntcblx0XHRcdGNvbG9yOicjYzcwZTBlJyxcblx0XHRcdG9wYWNpdHk6MC43LFxuXHRcdFx0aG92ZXJPcGFjaXR5OjAuNyxcblx0XHRcdGFjdGl2ZU9wYWNpdHk6MC43LFxuXHRcdFx0c2VsZWN0ZWQ6e1xuXHRcdFx0XHRzdHJva2VDb2xvcjonI0ZGNjM2MycsXG5cdFx0XHRcdGxpbmVXaWR0aDoxLFxuXHRcdFx0XHRleHBhbmQ6MC41XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRidXN5Ontcblx0XHRcdGNvbG9yOicjOUU5RTlFJyxcblx0XHRcdG9wYWNpdHk6MC42LFxuXHRcdFx0aG92ZXJPcGFjaXR5OjAuNSxcblx0XHRcdGFjdGl2ZU9wYWNpdHk6MC41LFxuXHRcdFx0c2VsZWN0ZWQ6e1xuXHRcdFx0XHRzdHJva2VDb2xvcjonI0ZGNjM2MycsXG5cdFx0XHRcdGxpbmVXaWR0aDoxLFxuXHRcdFx0XHRleHBhbmQ6MC41XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRnZW5lcmFsOntcblx0XHRcdGNvbG9yOid3aGl0ZSdcblx0XHR9XG5cdH07XG5cblxuXHR2YXIgY2xvY2tDb25maWcgPSB7IC8vIGRlZmluZSBob3cgdGhlIGJhY2tncm91bmQgY2xvY2sgc2hvdWxkIGJlIGRyYXduXG5cdFx0YmFja2dyb3VuZDonI0Y0RjRGNCcsXG5cdFx0Y2lyY2xlczpbXG5cdFx0XHR7cmFkaXVzOjM2fSxcblx0XHRcdHtyYWRpdXM6Mjl9LFxuXHRcdFx0e3JhZGl1czoyMH0sXG5cdFx0XHR7cmFkaXVzOjJ9XG5cdFx0XSxcblx0XHRjbGVhckNpcmNsZTogMjAsXG5cdFx0Ymx1ckNpcmNsZTp7XG5cdFx0XHRyYWRpdXM6MjksXG5cdFx0XHRvcGFjaXR5OjAuOFxuXHRcdH0sXG5cdFx0c3Ryb2tlOjAuMzIsXG5cdFx0c3Ryb2tlQ29sb3I6JyNDOUM5QzknLFxuXHRcdGltcFN0cm9rZUNvbG9yOicjMjYyNjI2Jyxcblx0XHRjbG9ja051bWJlcnM6e1xuXHRcdFx0cmFkaXVzOjQ0LFxuXHRcdFx0Y29sb3I6JyMyNjI2MjYnXG5cdFx0fSxcblx0XHRiZXR3ZWVuOntcblx0XHRcdHN0cm9rZUNvbG9yOiAnI2QyZDJkMicsXG5cdFx0XHR0ZXh0Q29sb3I6ICdibGFjaycsXG5cdFx0XHRvcGFjaXR5OiAwLjUsXG5cdFx0fSxcblx0XHR0aW1lTG9jYXRpb246NCwgLy9ob3cgZmFyIGF3YXkgZnJvbSB0aGUgYmFyIHRoZSB0aW1lIGluZGljYXRvcnMgc2hvdWxkIGJlXG5cblx0fTtcblxuXHR2YXIgZGFya0Nsb2NrQ29uZmlnID0ge1xuXHRcdGJhY2tncm91bmQ6JyMzNzM3MzcnLFxuXHRcdGNpcmNsZXM6W1xuXHRcdFx0e3JhZGl1czozNn0sXG5cdFx0XHR7cmFkaXVzOjI5fSxcblx0XHRcdHtyYWRpdXM6MjB9LFxuXHRcdFx0e3JhZGl1czoyfVxuXHRcdF0sXG5cdFx0Y2xlYXJDaXJjbGU6IDIwLFxuXHRcdGJsdXJDaXJjbGU6e1xuXHRcdFx0cmFkaXVzOjI5LFxuXHRcdFx0b3BhY2l0eTowLjVcblx0XHR9LFxuXHRcdHN0cm9rZTowLjMyLFxuXHRcdHN0cm9rZUNvbG9yOicjNTI1MjUyJyxcblx0XHRpbXBTdHJva2VDb2xvcjonRURFREVEJyxcblx0XHRjbG9ja051bWJlcnM6e1xuXHRcdFx0cmFkaXVzOjQ0LFxuXHRcdFx0Y29sb3I6JyNCRkJGQkYnXG5cdFx0fSxcblx0XHRiZXR3ZWVuOntcblx0XHRcdHN0cm9rZUNvbG9yOiAnI0E1QTVBNScsXG5cdFx0XHR0ZXh0Q29sb3I6ICd3aGl0ZScsXG5cdFx0XHRvcGFjaXR5OiAwLjksXG5cdFx0fSxcblx0XHR0aW1lTG9jYXRpb246NCwgLy9ob3cgZmFyIGF3YXkgZnJvbSB0aGUgYmFyIHRoZSB0aW1lIGluZGljYXRvcnMgc2hvdWxkIGJlXG5cdH1cblxuXG5cdGZ1bmN0aW9uIGNhbGN1bGF0ZVNoYXBlKGN0eCwgc2hhcGUpe1xuXHRcdHZhciBtaW51dGVzUHJlc2VydmVkQnlMaW5lID0gMDtcblx0XHR2YXIgcmFkaXVzID0gMzYqZHJhdy5yYXRpbztcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2hhcGUubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmKHNoYXBlW2ldLnR5cGUgPT0gJ2xpbmUnKXtcblx0XHRcdFx0bWludXRlc1ByZXNlcnZlZEJ5TGluZSArPSBzaGFwZVtpXS5taW51dGVzO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBzcGFjZUZvckFyY3MgPSAxNDQwIC0gbWludXRlc1ByZXNlcnZlZEJ5TGluZTtcblx0XHRpZihzcGFjZUZvckFyY3MgPCAwKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcigndG9vIG11Y2ggc3BhY2UgaXMgZ2l2ZW4gdG8gc3RyYWlnaHQgc2VnbWVudHMgaW4gdGhlIHNoYXBlJyk7XG5cdFx0fVxuXG5cdFx0dmFyIHRvdGFsUmFkaWFucyA9IDA7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFwZS5sZW5ndGg7IGkrKykge1xuXG5cdFx0XHRzaGFwZVtpXS5hbmdsZSA9IHRvdGFsUmFkaWFucztcblxuXHRcdFx0aWYoc2hhcGVbaV0udHlwZSA9PSAnYXJjJyl7XG5cdFx0XHRcdHRvdGFsUmFkaWFucyArPSBzaGFwZVtpXS5yYWRpYW5zO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0dmFyIHBhdGhMZW5ndGhQZXJNaW51dGU7XG5cdFx0Ly9jYWxjLiBtaW51dGVzXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFwZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYoc2hhcGVbaV0udHlwZSA9PSAnYXJjJyl7XG5cdFx0XHRcdHNoYXBlW2ldLm1pbnV0ZXMgPSAoc2hhcGVbaV0ucmFkaWFucy90b3RhbFJhZGlhbnMpICogc3BhY2VGb3JBcmNzO1xuXG5cdFx0XHRcdC8vIGZpbmQgcGVyaW1ldGVyIG9mIHdob2xlIG1haW4gY2lyY2xlLCB0aGVuIGZpbmQgbGVuZ3RoIG9mIHRoaXNcblx0XHRcdFx0c2hhcGVbaV0ucGF0aExlbmd0aCA9IHJhZGl1cyAqIDIgKiBNYXRoLlBJICogKHNoYXBlW2ldLnJhZGlhbnMvKE1hdGguUEkqMikpO1xuXG5cdFx0XHRcdC8vIG9ubHkgbmVlZCB0byBkbyB0aGlzIG9uY2Vcblx0XHRcdFx0aWYoaSA9PSAwKXtcblx0XHRcdFx0XHRwYXRoTGVuZ3RoUGVyTWludXRlID0gc2hhcGVbaV0ucGF0aExlbmd0aC9zaGFwZVtpXS5taW51dGVzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFwZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYoc2hhcGVbaV0udHlwZSA9PSAnbGluZScpe1xuXHRcdFx0XHRjb25zb2xlLmxvZyhwYXRoTGVuZ3RoUGVyTWludXRlKVxuXHRcdFx0XHRzaGFwZVtpXS5wYXRoTGVuZ3RoID0gc2hhcGVbaV0ubWludXRlcyAqIHBhdGhMZW5ndGhQZXJNaW51dGU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHN1bU1pbnV0ZXMgPSAwO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2hhcGUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHNoYXBlW2ldLnN0YXJ0ID0gc3VtTWludXRlcztcblx0XHRcdHNoYXBlW2ldLmVuZCA9IHN1bU1pbnV0ZXMgKyBzaGFwZVtpXS5taW51dGVzO1xuXG5cdFx0XHRzdW1NaW51dGVzICs9IHNoYXBlW2ldLm1pbnV0ZXM7XG5cdFx0fVxuXG5cdFx0Ly8gZmluZCBjZW50cmVzXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaGFwZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc29sZS5sb2coaSlcblx0XHRcdGlmKGkgPT0gMCl7XG5cdFx0XHRcdHNoYXBlW2ldLmNlbnRyZSA9IHtcblx0XHRcdFx0XHR4OiBkcmF3LncvMixcblx0XHRcdFx0XHR5OiBkcmF3LmgvMlxuXHRcdFx0XHR9O1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCd3YXJuaW5nJylcblx0XHRcdFx0c2hhcGVbaV0uY2VudHJlID0gc2hhcGVbaS0xXS5lbmRDZW50cmU7XG5cdFx0XHR9XG5cblx0XHRcdGlmKHNoYXBlW2ldLnR5cGUgPT0gJ2xpbmUnKXtcblx0XHRcdFx0Y29uc29sZS5sb2coc2hhcGVbaV0pXG5cdFx0XHRcdHNoYXBlW2ldLmVuZENlbnRyZSA9IHtcblx0XHRcdFx0XHR4OiBzaGFwZVtpXS5jZW50cmUueCArIE1hdGguY29zKHNoYXBlW2ldLmFuZ2xlKSpzaGFwZVtpXS5wYXRoTGVuZ3RoLFxuXHRcdFx0XHRcdHk6IHNoYXBlW2ldLmNlbnRyZS55ICsgKE1hdGguc2luKHNoYXBlW2ldLmFuZ2xlKSpzaGFwZVtpXS5wYXRoTGVuZ3RoKVxuXHRcdFx0XHR9XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0c2hhcGVbaV0uZW5kQ2VudHJlID0gc2hhcGVbaV0uY2VudHJlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRyYXcuc2hhcGUgPSBzaGFwZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNyZWF0ZUN1cnZlKGN0eCwgcmFkaXVzLCBzdGFydCwgZW5kLCBhbnRpY2xvY2t3aXNlKXtcblx0XHRpZih0eXBlb2YgYW50aWNsb2Nrd2lzZSA9PSAndW5kZWZpbmVkJyl7XG5cdFx0XHR2YXIgYW50aWNsb2Nrd2lzZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vZW5kID0gOTAwO1xuXHRcdHZhciBjID0ge1xuXHRcdFx0eDogZHJhdy53LzIsXG5cdFx0XHR5OiBkcmF3LmgvMlxuXHRcdH1cblx0XHR2YXIgciA9IHJhZGl1cypkcmF3LnJhdGlvO1xuXG5cdFx0dmFyIGN1bVJhZCA9IDA7XG5cdFx0dmFyIG5vd1BvaW50ID0ge1xuXHRcdFx0eDogYy54LFxuXHRcdFx0eTogYy55LXJcblx0XHR9XG5cdFx0dmFyIHNoYXBlID0gaGVscGVycy5jbG9uZShkcmF3LnNoYXBlKTtcblx0XHRpZihhbnRpY2xvY2t3aXNlKXtcblx0XHRcdHNoYXBlLnJldmVyc2UoKTtcblx0XHR9XG5cblx0XHQvLyBmaW5kIHN0YXJ0XG5cdFx0dmFyIHN0YXJ0QmxvY2ssIGVuZEJsb2NrO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2hhcGUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBlID0gc2hhcGVbaV07XG5cblx0XHRcdC8vIGlmIHN0YXJ0IGlzIGluc2lkZSB0aGlzIHNoYXBlQmxvY2tcblx0XHRcdGlmKGhlbHBlcnMuaXNJbnNpZGUoc3RhcnQsIGUuc3RhcnQsIGUuZW5kKSl7XG5cdFx0XHRcdHN0YXJ0QmxvY2sgPSBpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgZW5kIGlzIGluc2lkZSB0aGlzIHNoYXBlQmxvY2tcblx0XHRcdGlmKGhlbHBlcnMuaXNJbnNpZGUoZW5kLCBlLnN0YXJ0LCBlLmVuZCkpe1xuXHRcdFx0XHRlbmRCbG9jayA9IGk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5sb2coc3RhcnRCbG9jaywgZW5kQmxvY2spXG5cblx0XHQvLyBjcmVhdGUgaXRlcmFibGUgdGFzayBhcnJheVxuXHRcdHZhciB0YXNrQXJyYXkgPSBbXTtcblx0XHR2YXIgc2tpcEVuZENoZWNrID0gZmFsc2U7XG5cdFx0dmFyIGRlZmF1bHRUYXNrO1xuXHRcdGlmKGFudGljbG9ja3dpc2Upe1xuXHRcdFx0ZGVmYXVsdFRhc2sgPSB7XG5cdFx0XHRcdHN0YXJ0OiAxLFxuXHRcdFx0XHRlbmQ6IDBcblx0XHRcdH1cblx0XHR9ZWxzZXtcblx0XHRcdGRlZmF1bHRUYXNrID0ge1xuXHRcdFx0XHRzdGFydDogMCxcblx0XHRcdFx0ZW5kOiAxXG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHRmb3IgKHZhciBpID0gc3RhcnRCbG9jazsgaSA8IHNoYXBlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgdGFzayA9IHtcblx0XHRcdFx0c2hhcGU6IHNoYXBlW2ldLFxuXHRcdFx0XHRzdGFydDogZGVmYXVsdFRhc2suc3RhcnQsXG5cdFx0XHRcdGVuZDogZGVmYXVsdFRhc2suZW5kXG5cdFx0XHR9XG5cblx0XHRcdGlmKGkgPT0gc3RhcnRCbG9jayl7XG5cdFx0XHRcdHRhc2suc3RhcnQgPSBoZWxwZXJzLmdldFBvc2l0aW9uQmV0d2VlblR3b1ZhbHVlcyhzdGFydCxzaGFwZVtpXS5zdGFydCxzaGFwZVtpXS5lbmQpO1xuXHRcdFx0fVxuXHRcdFx0aWYoaSA9PSBlbmRCbG9jayl7XG5cdFx0XHRcdHRhc2suZW5kID0gaGVscGVycy5nZXRQb3NpdGlvbkJldHdlZW5Ud29WYWx1ZXMoZW5kLHNoYXBlW2ldLnN0YXJ0LHNoYXBlW2ldLmVuZCk7XG5cdFx0XHR9XG5cdFx0XHRpZihpID09IHN0YXJ0QmxvY2sgJiYgaSA9PSBlbmRCbG9jayAmJiAodGFzay5lbmQgPiB0YXNrLnN0YXJ0ICYmIGFudGljbG9ja3dpc2UpIHx8ICh0YXNrLmVuZCA8IHRhc2suc3RhcnQgJiYgIWFudGljbG9ja3dpc2UpKXtcblx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRoaW5ncyBhcmUgY29ycmVjdCB3aGVuIGVuZCBpcyBsZXNzIHRoYW4gc3RhcnRcblx0XHRcdFx0aWYodGFza0FycmF5Lmxlbmd0aCA9PSAwKXtcblx0XHRcdFx0XHQvLyBpdCBpcyBiZWdpbm5pbmdcblx0XHRcdFx0XHR0YXNrLmVuZCA9IGRlZmF1bHRUYXNrLmVuZDtcblx0XHRcdFx0XHRza2lwRW5kQ2hlY2sgPSB0cnVlO1xuXHRcdFx0XHR9ZWxzZSB7XG5cdFx0XHRcdFx0Ly8gaXQgaXMgZW5kXG5cdFx0XHRcdFx0dGFzay5zdGFydCA9IGRlZmF1bHRUYXNrLnN0YXJ0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvL1xuXHRcdFx0Ly8gdmFyIG9sZEVuZCA9IHRhc2suZW5kO1xuXHRcdFx0Ly8gdGFzay5lbmQgPSB0YXNrLnN0YXJ0O1xuXHRcdFx0Ly8gdGFzay5zdGFydCA9IG9sZEVuZDtcblxuXHRcdFx0dGFza0FycmF5LnB1c2godGFzayk7XG5cblx0XHRcdGlmKGkgPT0gZW5kQmxvY2spe1xuXHRcdFx0XHRpZihza2lwRW5kQ2hlY2spe1xuXHRcdFx0XHRcdHNraXBFbmRDaGVjayA9IGZhbHNlO1xuXHRcdFx0XHRcdC8vIGxldCBpdCBydW4gYSByb3VuZCBhbmQgYWRkIGFsbCBzaGFwZXNcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0Ly8gZmluaXNoZWQuLiBub3RoaW5nIG1vcmUgdG8gZG8gaGVyZSFcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB3ZSByZWFjaGVkIGVuZCBvZiBhcnJheSB3aXRob3V0IGhhdmluZyBmb3VuZFxuXHRcdFx0Ly8gdGhlIGVuZCBwb2ludCwgaXQgbWVhbnMgdGhhdCB3ZSBoYXZlIHRvIGdvIHRvXG5cdFx0XHQvLyB0aGUgYmVnaW5uaW5nIGFnYWluXG5cdFx0XHQvLyBleC4gd2hlbiBzdGFydDo3MDAgZW5kOjMwMFxuXHRcdFx0aWYoaSA9PSBzaGFwZS5sZW5ndGgtMSl7XG5cdFx0XHRcdGkgPSAtMTtcblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGFza0FycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgc2hhcGUgPSB0YXNrQXJyYXlbaV0uc2hhcGU7XG5cdFx0XHRpZihzaGFwZS50eXBlID09ICdhcmMnKXtcblx0XHRcdFx0dmFyIHNoYXBlU3RhcnQgPSBzaGFwZS5hbmdsZS0oTWF0aC5QSS8yKTtcblx0XHRcdFx0dmFyIHN0YXJ0ID0gc2hhcGVTdGFydCArICh0YXNrQXJyYXlbaV0uc3RhcnQgKiBzaGFwZS5yYWRpYW5zKTtcblx0XHRcdFx0dmFyIGVuZCA9IHNoYXBlU3RhcnQgKyAodGFza0FycmF5W2ldLmVuZCAqIHNoYXBlLnJhZGlhbnMpO1xuXHRcdFx0XHRjdHguYXJjKHNoYXBlLmNlbnRyZS54LHNoYXBlLmNlbnRyZS55LHIsc3RhcnQsIGVuZCwgYW50aWNsb2Nrd2lzZSk7XG5cblx0XHRcdFx0dmFyIHJhZE5vcm1hbGl6ZSA9IHNoYXBlLmFuZ2xlICsgc2hhcGUucmFkaWFucyAtIChNYXRoLlBJLzIpOyAvLyBiZWNhdXNlIG15IGNpcmNsZSBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIG1hdGggY2lyY2xlXG5cdFx0XHRcdG5vd1BvaW50LnggPSBjLnggKyBNYXRoLmNvcyhyYWROb3JtYWxpemUpKnI7XG5cdFx0XHRcdG5vd1BvaW50LnkgPSBjLnkgKyBNYXRoLnNpbihyYWROb3JtYWxpemUpKnI7XG5cblx0XHRcdH1lbHNlIGlmKHNoYXBlLnR5cGUgPT0gJ2xpbmUnKXtcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0ge1xuXHRcdFx0XHRcdHg6IE1hdGguY29zKHNoYXBlLmFuZ2xlKSpzaGFwZS5wYXRoTGVuZ3RoLFxuXHRcdFx0XHRcdHk6IE1hdGguc2luKHNoYXBlLmFuZ2xlKSpzaGFwZS5wYXRoTGVuZ3RoXG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIHNoYXBlU3RhcnQgPSB7XG5cdFx0XHRcdFx0eDogc2hhcGUuY2VudHJlLnggKyBNYXRoLnNpbihzaGFwZS5hbmdsZSkqcixcblx0XHRcdFx0XHR5OiBzaGFwZS5jZW50cmUueSAtIE1hdGguY29zKHNoYXBlLmFuZ2xlKSpyXG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIHN0YXJ0ID0ge1xuXHRcdFx0XHRcdHg6IHNoYXBlU3RhcnQueCArIGRpc3RhbmNlLngqdGFza0FycmF5W2ldLnN0YXJ0LFxuXHRcdFx0XHRcdHk6IHNoYXBlU3RhcnQueSArIGRpc3RhbmNlLnkqdGFza0FycmF5W2ldLnN0YXJ0XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBlbmQgPSB7XG5cdFx0XHRcdFx0eDogc2hhcGVTdGFydC54ICsgZGlzdGFuY2UueCp0YXNrQXJyYXlbaV0uZW5kLFxuXHRcdFx0XHRcdHk6IHNoYXBlU3RhcnQueSArIGRpc3RhbmNlLnkqdGFza0FycmF5W2ldLmVuZFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoaSA9PSAwKXtcblx0XHRcdFx0XHRjdHgubGluZVRvKHN0YXJ0LngsIHN0YXJ0LnkpXG5cdFx0XHRcdH1cblx0XHRcdFx0Y3R4LmxpbmVUbyhlbmQueCxlbmQueSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYoaGVscGVycy5pc0luc2lkZShzdGFydCwgMCwgNjAwKSl7XG5cdFx0fWVsc2V7XG5cdFx0fVxuXG5cblx0XHQvL2N0eC5lbGxpcHNlKGRyYXcudy8yLGRyYXcuaC8yLHJhZGl1cypkcmF3LnJhdGlvLChyYWRpdXMpKmRyYXcucmF0aW8sMCxoZWxwZXJzLm1pbnV0ZXNUb1JhZGlhbnMoc3RhcnQpLCBoZWxwZXJzLm1pbnV0ZXNUb1JhZGlhbnMoZW5kKSwgYW50aWNsb2Nrd2lzZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVTZWdtZW50KGN0eCwgb3V0ZXIsIGlubmVyLCBzdGFydCwgZW5kKXtcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3JlYXRlQ3VydmUoY3R4LCBvdXRlciwgc3RhcnQsIGVuZCk7XG5cdFx0Y3JlYXRlQ3VydmUoY3R4LCBpbm5lciwgZW5kLCBzdGFydCwgdHJ1ZSk7XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlT3ZlcmxhcHBpbmcoZGF0YSxpbmZlcmlvcixzdXBlcmlvcil7XG5cdFx0Ly90aGlzIGZ1bmN0aW9uIHdpbGwgcHJldmVudCB0d28gYmFycyBmcm9tIG92ZXJsYXBwaW5nXG5cdFx0Ly9pZiB0aGV5IG92ZXJsYXAsIHRoZSBzdXBlcmlvciB3aW5zXG5cdFx0dmFyIHN0YXJ0SW5mLCBlbmRJbmYsIHN0YXJ0U3VwLCBlbmRTdXAsIHN0YXJ0SXNJbnNpZGUsIGVuZElzSW5zaWRlLCBuZXdEYXRhLCB0cmltO1xuXG5cdFx0Ly9jbG9uZSBkYXRhIG9iamVjdFxuXHRcdHZhciBkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cblx0XHQvL2lmIHRoZXJlIGFyZSBubyBpbmZlcmlvciBlbGVtZW50cywgcmV0dXJuXG5cdFx0aWYodHlwZW9mIGRhdGFbaW5mZXJpb3JdID09ICd1bmRlZmluZWQnIHx8IGRhdGFbaW5mZXJpb3JdLmxlbmd0aCA9PSAwKVxuXHRcdHJldHVybiBkYXRhO1xuXG5cdFx0Ly9pZiB0aGVyZSBhcmUgbm8gc3VwZXJpb3IgZWxlbWVudHMsIHJldHVyblxuXHRcdGlmKHR5cGVvZiBkYXRhW3N1cGVyaW9yXSA9PSAndW5kZWZpbmVkJyB8fCBkYXRhW3N1cGVyaW9yXS5sZW5ndGggPT0gMClcblx0XHRyZXR1cm4gZGF0YTtcblxuXHRcdC8vaXRlcmF0ZSBpbmZlcmlvciBlbGVtZW50c1xuXHRcdHZhciBsZW5ndGggPSBkYXRhW2luZmVyaW9yXS5sZW5ndGg7IC8vd2UgZG9udCB3YW50IGRvIGl0ZXJhdGUgYXJyYXkgZWxlbWVudHMgdGhhdCBhcmUgZHluYW1pY2FsbHkgYWRkZWQgaW5zaWRlIHRoZSBsb29wXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKXtcblx0XHRcdHN0YXJ0SW5mID0gZGF0YVtpbmZlcmlvcl1baV0uc3RhcnQ7XG5cdFx0XHRlbmRJbmYgPSBkYXRhW2luZmVyaW9yXVtpXS5lbmQ7XG5cdFx0XHR0cmltID0gW107XG5cblx0XHRcdC8vaXRlcmF0ZSBzdXBlcmlvciBlbGVtZW50c1xuXHRcdFx0Zm9yKHZhciBmID0gMDsgZiA8IGRhdGFbc3VwZXJpb3JdLmxlbmd0aDsgZisrKXtcblx0XHRcdFx0c3RhcnRTdXAgPSBkYXRhW3N1cGVyaW9yXVtmXS5zdGFydDtcblx0XHRcdFx0ZW5kU3VwID0gZGF0YVtzdXBlcmlvcl1bZl0uZW5kO1xuXG5cdFx0XHRcdHN0YXJ0SXNJbnNpZGUgPSBoZWxwZXJzLnBvaW50SXNJbnNpZGUoc3RhcnRTdXAsc3RhcnRJbmYsZW5kSW5mKTtcblx0XHRcdFx0ZW5kSXNJbnNpZGUgPSBoZWxwZXJzLnBvaW50SXNJbnNpZGUoZW5kU3VwLHN0YXJ0SW5mLGVuZEluZik7XG5cblx0XHRcdFx0aWYoc3RhcnRJc0luc2lkZSB8fCBlbmRJc0luc2lkZSl7XG5cdFx0XHRcdFx0Ly9tYWtlIHNvbWUgZXh0cmEgcm9vbVxuXHRcdFx0XHRcdHN0YXJ0U3VwID0gaGVscGVycy5jYWxjKHN0YXJ0U3VwLC0xMCk7XG5cdFx0XHRcdFx0ZW5kU3VwID0gaGVscGVycy5jYWxjKGVuZFN1cCwxMCk7XG5cblx0XHRcdFx0XHR0cmltLnB1c2goe1xuXHRcdFx0XHRcdFx0c3RhcnQ6c3RhcnRTdXAsXG5cdFx0XHRcdFx0XHRlbmQ6ZW5kU3VwXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYodHJpbS5sZW5ndGggPiAwKXtcblx0XHRcdFx0dHJpbT10cmltLnNvcnQoZnVuY3Rpb24oYSwgYil7XG5cdFx0XHRcdFx0cmV0dXJuIGEuc3RhcnQtYi5zdGFydFxuXHRcdFx0XHR9KVxuXHRcdFx0XHR2YXIgdHJpbW1lZCA9IFtkYXRhW2luZmVyaW9yXVtpXV07XG5cdFx0XHRcdGZvcih2YXIgdCA9IDA7IHQ8dHJpbS5sZW5ndGg7IHQrKyl7XG5cdFx0XHRcdFx0dmFyIHN0YXJ0LCBlbmQ7XG5cdFx0XHRcdFx0dmFyIGxhc3QgPSB0cmltbWVkLmxlbmd0aC0xO1xuXG5cdFx0XHRcdFx0c3RhcnQgPSB0cmltbWVkW2xhc3RdLnN0YXJ0O1xuXHRcdFx0XHRcdGVuZCA9IHRyaW1tZWRbbGFzdF0uZW5kO1xuXG5cdFx0XHRcdFx0dmFyIHN0YXJ0SXNJbnNpZGUgPSBoZWxwZXJzLnBvaW50SXNJbnNpZGUodHJpbVt0XS5zdGFydCxzdGFydCxlbmQpO1xuXHRcdFx0XHRcdHZhciBlbmRJc0luc2lkZSA9IGhlbHBlcnMucG9pbnRJc0luc2lkZSh0cmltW3RdLmVuZCxzdGFydCxlbmQpO1xuXHRcdFx0XHRcdGlmKHN0YXJ0SXNJbnNpZGUgJiYgZW5kSXNJbnNpZGUpe1xuXG5cdFx0XHRcdFx0XHQvL3NwbGl0XG5cdFx0XHRcdFx0XHR0cmltbWVkW2xhc3RdID0ge1xuXHRcdFx0XHRcdFx0XHRzdGFydDpzdGFydCxcblx0XHRcdFx0XHRcdFx0ZW5kOnRyaW1bdF0uc3RhcnRcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR0cmltbWVkLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRzdGFydDp0cmltW3RdLmVuZCxcblx0XHRcdFx0XHRcdFx0ZW5kOmVuZFxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZihzdGFydElzSW5zaWRlKXtcblx0XHRcdFx0XHRcdHRyaW1tZWRbbGFzdF0gPSB7XG5cdFx0XHRcdFx0XHRcdHN0YXJ0OnN0YXJ0LFxuXHRcdFx0XHRcdFx0XHRlbmQ6dHJpbVt0XS5zdGFydFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZihlbmRJc0luc2lkZSl7XG5cdFx0XHRcdFx0XHR0cmltbWVkW2xhc3RdID0ge1xuXHRcdFx0XHRcdFx0XHRzdGFydDp0cmltW3RdLmVuZCxcblx0XHRcdFx0XHRcdFx0ZW5kOmVuZFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly9zZXQgdGhlIG9yaWdpbmFsIGVsZW1lbnQgZW1wdHkgYW5kIHNldCBhbGwgdGhlIG5ldyBvbmVzIHRvIHBvaW50IHRvIHRoZSBvbGRcblx0XHRcdFx0ZGF0YVtpbmZlcmlvcl1baV09e307XG5cdFx0XHRcdGZvcih0PTA7IHQ8dHJpbW1lZC5sZW5ndGg7IHQrKyl7XG5cdFx0XHRcdFx0dHJpbW1lZFt0XS5waGFudG9tID0gaTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRhdGFbaW5mZXJpb3JdID0gZGF0YVtpbmZlcmlvcl0uY29uY2F0KHRyaW1tZWQpO1xuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGE7XG5cblx0fVxuXHRmdW5jdGlvbiBkcmF3TGluZXMoY3R4KXtcblx0XHR2YXIgcmFkaXVzPTQwKmRyYXcucmF0aW87XG5cdFx0Y3R4LnNhdmUoKTtcblx0XHRjdHguc3Ryb2tlU3R5bGU9Y2xvY2tDb25maWcuc3Ryb2tlQ29sb3I7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IGNsb2NrQ29uZmlnLnN0cm9rZSAqZHJhdy5yYXRpbztcblx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0Y3R4LnRyYW5zbGF0ZShkcmF3LncvMixkcmF3LmgvMik7XG5cdFx0Zm9yKGk9MDtpPDEyO2krKyl7XG5cdFx0XHRjPWhlbHBlcnMubWludXRlc1RvWFkoaSo2MCxyYWRpdXMpO1xuXHRcdFx0Y3R4Lm1vdmVUbyhjLngsYy55KTtcblx0XHRcdGM9aGVscGVycy5taW51dGVzVG9YWShpKjYwKzcyMCxyYWRpdXMpO1xuXHRcdFx0Y3R4LmxpbmVUbyhjLngsYy55KTtcblx0XHR9XG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xuXHRcdGN0eC5zdHJva2UoKTtcblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd0ltcExpbmVzKGN0eCl7XG5cdFx0dmFyIHJhZGl1cz00MCpkcmF3LnJhdGlvO1xuXHRcdGN0eC5zYXZlKCk7XG5cdFx0Y3R4LnRyYW5zbGF0ZShkcmF3LncvMixkcmF3LmgvMik7XG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGN0eC5zdHJva2VTdHlsZT1jbG9ja0NvbmZpZy5pbXBTdHJva2VDb2xvcjtcblx0XHRjdHgubGluZVdpZHRoID0gY2xvY2tDb25maWcuc3Ryb2tlICpkcmF3LnJhdGlvO1xuXG5cdFx0Yz1oZWxwZXJzLm1pbnV0ZXNUb1hZKDAscmFkaXVzKTtcblx0XHRjdHgubW92ZVRvKGMueCxjLnkpO1xuXHRcdGM9aGVscGVycy5taW51dGVzVG9YWSg3MjAscmFkaXVzKTtcblx0XHRjdHgubGluZVRvKGMueCxjLnkpO1xuXHRcdGM9aGVscGVycy5taW51dGVzVG9YWSgyNDAscmFkaXVzKTtcblx0XHRjdHgubW92ZVRvKGMueCxjLnkpO1xuXHRcdGM9aGVscGVycy5taW51dGVzVG9YWSg5NjAscmFkaXVzKTtcblx0XHRjdHgubGluZVRvKGMueCxjLnkpO1xuXHRcdGM9aGVscGVycy5taW51dGVzVG9YWSg0ODAscmFkaXVzKTtcblx0XHRjdHgubW92ZVRvKGMueCxjLnkpO1xuXHRcdGM9aGVscGVycy5taW51dGVzVG9YWSgxMjAwLHJhZGl1cyk7XG5cdFx0Y3R4LmxpbmVUbyhjLngsYy55KTtcblx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0Y3R4LnN0cm9rZSgpO1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3Q2lyY2xlcyhjdHgpe1xuXG5cdFx0dmFyIGNpcmNsZXM9Y2xvY2tDb25maWcuY2lyY2xlcztcblx0XHRjdHguc3Ryb2tlU3R5bGU9Y2xvY2tDb25maWcuc3Ryb2tlQ29sb3I7XG5cblx0XHRjdHgubGluZVdpZHRoID0gY2xvY2tDb25maWcuc3Ryb2tlICpkcmF3LnJhdGlvO1xuXG5cdFx0Zm9yKGk9MDtpPGNpcmNsZXMubGVuZ3RoO2krKyl7XG5cdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRjcmVhdGVDdXJ2ZShjdHgsY2lyY2xlc1tpXS5yYWRpdXMsMCwxNDM5KTtcblx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3Q2xvY2tOdW1iZXJzKGN0eCwgYW1wbSl7XG5cdFx0dmFyIHdpZHRoID0gZHJhdy53O1xuXHRcdHZhciBoZWlnaHQgPSBkcmF3Lmg7XG5cblx0XHRpbXBmb250cGl4ZWxzPTUqZHJhdy5yYXRpbztcblx0XHRjdHguZmlsbFN0eWxlPWNsb2NrQ29uZmlnLmNsb2NrTnVtYmVycy5jb2xvcjtcblx0XHRudW1iZXJSYWRpdXM9Y2xvY2tDb25maWcuY2xvY2tOdW1iZXJzLnJhZGl1cypkcmF3LnJhdGlvO1xuXHRcdGN0eC5mb250PWltcGZvbnRwaXhlbHMrXCJweCBWZXJkYW5hXCI7XG5cdFx0Y3R4LnRleHRBbGlnbj1cImNlbnRlclwiO1xuXHRcdGN0eC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIjtcblxuXHRcdHZhciBhbXBtVGFibGUgPSB7XG5cdFx0XHQwOiAnTWlkbmlnaHQnLFxuXHRcdFx0NDogJzQgQU0nLFxuXHRcdFx0ODogJzggQU0nLFxuXHRcdFx0MTI6ICdOb29uJyxcblx0XHRcdDE2OiAnNCBQTScsXG5cdFx0XHQyMDogJzggUE0nXG5cdFx0fVxuXG5cdFx0Zm9yKGk9MDtpPDI0O2krKyl7XG5cdFx0XHRpZihpPT09MHx8aT09NHx8aT09MTZ8fGk9PTIwfHxpPT04fHxpPT0xMil7XG5cdFx0XHRcdGRlZ3JlZXM9KGhlbHBlcnMuZGVncmVlc1RvUmFkaWVucygoMTUqaSkrMjcwKSk7XG5cdFx0XHRcdHh2YWw9d2lkdGgvMitNYXRoLmNvcyhkZWdyZWVzKSpudW1iZXJSYWRpdXM7XG5cdFx0XHRcdHl2YWw9aGVpZ2h0LzIrTWF0aC5zaW4oZGVncmVlcykqbnVtYmVyUmFkaXVzO1xuXHRcdFx0XHRpZihhbXBtKXtcblx0XHRcdFx0XHRjdHguZmlsbFRleHQoYW1wbVRhYmxlW2ldLHh2YWwseXZhbCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZXtcblx0XHRcdFx0XHRjdHguZmlsbFRleHQoaSx4dmFsLHl2YWwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gY2xlYXJDbG9ja0NpcmNsZShjdHgscmFkaXVzKXtcblx0XHR2YXIgd2lkdGggPSBkcmF3Lnc7XG5cdFx0dmFyIGhlaWdodCA9IGRyYXcuaDtcblxuXHRcdGN0eC5zYXZlKCk7XG5cdFx0Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdXQnO1xuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjcmVhdGVDdXJ2ZShjdHgsIHJhZGl1cywgMCwgMTQ0MCk7XG5cdFx0Y3R4LmxpbmVUbyh3aWR0aC8yLGhlaWdodC8yKTtcblx0XHRjdHguY2xvc2VQYXRoKCk7XG5cdFx0Y3R4LmZpbGwoKTtcblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd0JhcnMoY3R4LGRhdGEpe1xuXHRcdHZhciBjYW52YXMgPSBjdHguY2FudmFzO1xuXG5cdFx0Y3R4LnNhdmUoKTtcblx0XHRmb3IgKHZhciBuYW1lIGluIGRhdGEpe1xuXHRcdFx0dmFyIGlubmVyUmFkaXVzID0gYmFyQ29uZmlnW25hbWVdLmlubmVyUmFkaXVzLFxuXHRcdFx0b3V0ZXJSYWRpdXMgPSBiYXJDb25maWdbbmFtZV0ub3V0ZXJSYWRpdXMsXG5cdFx0XHRvcGFjaXR5ID0gYmFyQ29uZmlnW25hbWVdLm9wYWNpdHksXG5cdFx0XHRob3Zlck9wYWNpdHkgPSBiYXJDb25maWdbbmFtZV0uaG92ZXJPcGFjaXR5LFxuXHRcdFx0YWN0aXZlT3BhY2l0eSA9IGJhckNvbmZpZ1tuYW1lXS5hY3RpdmVPcGFjaXR5O1xuXG5cdFx0XHRjdHguZmlsbFN0eWxlPWJhckNvbmZpZ1tuYW1lXS5jb2xvcjtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhW25hbWVdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0dmFyIHN0YXJ0PWRhdGFbbmFtZV1baV0uc3RhcnQ7XG5cdFx0XHRcdHZhciBlbmQ9ZGF0YVtuYW1lXVtpXS5lbmQ7XG5cdFx0XHRcdHZhciBsaW5lVG9YWT1oZWxwZXJzLm1pbnV0ZXNUb1hZKGRhdGFbbmFtZV1baV0uZW5kLGlubmVyUmFkaXVzKTtcblx0XHRcdFx0dmFyIGNvdW50O1xuXG5cdFx0XHRcdGlmKHR5cGVvZiBkYXRhW25hbWVdW2ldLnBoYW50b20gIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0XHRcdGNvdW50ID0gZGF0YVtuYW1lXVtpXS5waGFudG9tO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRjb3VudCA9IGk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjcmVhdGVTZWdtZW50KGN0eCwgb3V0ZXJSYWRpdXMsaW5uZXJSYWRpdXMsIHN0YXJ0LCBlbmQpO1xuXG5cdFx0XHRcdGlmKGludGVyYWN0Q2FudmFzLmlzQWN0aXZlKG5hbWUsY291bnQsJ3dob2xlJykgfHwgbmFwY2hhcnRDb3JlLmlzU2VsZWN0ZWQobmFtZSxjb3VudCkpe1xuXHRcdFx0XHRcdGN0eC5nbG9iYWxBbHBoYSA9IGFjdGl2ZU9wYWNpdHk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbHNlIGlmKGludGVyYWN0Q2FudmFzLmlzQWN0aXZlKG5hbWUsY291bnQpIHx8IGludGVyYWN0Q2FudmFzLmlzSG92ZXIobmFtZSxjb3VudCwnd2hvbGUnKSl7XG5cdFx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhPWhvdmVyT3BhY2l0eTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGVsc2V7XG5cdFx0XHRcdFx0Y3R4Lmdsb2JhbEFscGhhPW9wYWNpdHk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y3R4LmZpbGwoKTtcblxuXHRcdFx0fVxuXHRcdH1cblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gc3Ryb2tlQmFycyhjdHgsZGF0YSl7XG5cdFx0Y3R4LnNhdmUoKTtcblx0XHRjdHgubGluZUpvaW4gPSAnbWl0dGVsJztcblx0XHRmb3IgKHZhciBuYW1lIGluIGRhdGEpe1xuXHRcdFx0aWYodHlwZW9mIGJhckNvbmZpZ1tuYW1lXS5zdHJva2U9PVwidW5kZWZpbmVkXCIpXG5cdFx0XHRjb250aW51ZTtcblx0XHRcdGN0eC5saW5lV2lkdGg9YmFyQ29uZmlnW25hbWVdLnN0cm9rZS5saW5lV2lkdGg7XG5cdFx0XHR2YXIgaW5uZXJSYWRpdXMgPSBiYXJDb25maWdbbmFtZV0uaW5uZXJSYWRpdXM7XG5cdFx0XHR2YXIgb3V0ZXJSYWRpdXMgPSBiYXJDb25maWdbbmFtZV0ub3V0ZXJSYWRpdXM7XG5cdFx0XHRjdHguc3Ryb2tlU3R5bGU9YmFyQ29uZmlnW25hbWVdLmNvbG9yO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFbbmFtZV0ubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHR2YXIgc3RhcnQ9ZGF0YVtuYW1lXVtpXS5zdGFydDtcblx0XHRcdFx0dmFyIGVuZD1kYXRhW25hbWVdW2ldLmVuZDtcblx0XHRcdFx0Y3JlYXRlU2VnbWVudChjdHgsIG91dGVyUmFkaXVzLCBpbm5lclJhZGl1cywgc3RhcnQsIGVuZCk7XG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcblx0XHRcdH1cblxuXHRcdH1cblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd1NoYWRvd3MoY3R4LGRhdGEpe1xuXHRcdGN0eC5zYXZlKCk7XG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBkYXRhKSB7XG5cdFx0XHR2YXIgaW5uZXJSYWRpdXMgPSAwO1xuXHRcdFx0dmFyIG91dGVyUmFkaXVzID0gYmFyQ29uZmlnW25hbWVdLmlubmVyUmFkaXVzO1xuXHRcdFx0Y3R4LmZpbGxTdHlsZT1iYXJDb25maWdbbmFtZV0uY29sb3I7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVtuYW1lXS5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdFx0dmFyIGNvdW50ID0gaTtcblxuXHRcdFx0XHRpZighaW50ZXJhY3RDYW52YXMuaXNBY3RpdmUobmFtZSxjb3VudCkgJiYgIW5hcGNoYXJ0Q29yZS5pc1NlbGVjdGVkKG5hbWUsY291bnQpKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRjdHguc2F2ZSgpO1xuXHRcdFx0XHR2YXIgc3RhcnQ9ZGF0YVtuYW1lXVtpXS5zdGFydDtcblx0XHRcdFx0dmFyIGVuZD1kYXRhW25hbWVdW2ldLmVuZDtcblx0XHRcdFx0dmFyIHN0YXJ0UmFkaWFucz1oZWxwZXJzLm1pbnV0ZXNUb1JhZGlhbnMoZGF0YVtuYW1lXVtjb3VudF0uc3RhcnQpO1xuXHRcdFx0XHR2YXIgZW5kUmFkaWFucz1oZWxwZXJzLm1pbnV0ZXNUb1JhZGlhbnMoZGF0YVtuYW1lXVtjb3VudF0uZW5kKTtcblx0XHRcdFx0dmFyIGxpbmVUb1hZPWhlbHBlcnMubWludXRlc1RvWFkoZGF0YVtuYW1lXVtjb3VudF0uZW5kLGlubmVyUmFkaXVzKTtcblxuXHRcdFx0XHRjcmVhdGVTZWdtZW50KGN0eCwgb3V0ZXJSYWRpdXMsaW5uZXJSYWRpdXMsIHN0YXJ0LCBlbmQpO1xuXG5cdFx0XHRcdGN0eC5nbG9iYWxBbHBoYT0wLjEqY3R4Lmdsb2JhbEFscGhhO1xuXG5cdFx0XHRcdGN0eC5maWxsKCk7XG5cdFx0XHRcdGN0eC5yZXN0b3JlKCk7XG5cblxuXHRcdFx0fVxuXHRcdH1cblx0XHRjdHgucmVzdG9yZSgpO1xuXG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3Qmx1ckNpcmNsZShjdHgpe1xuXHRcdHZhciB3aWR0aCA9IGRyYXcudztcblx0XHR2YXIgaGVpZ2h0ID0gZHJhdy5oO1xuXG5cdFx0aWYoY2xvY2tDb25maWcuYmx1ckNpcmNsZS5vcGFjaXR5ID09IDEpe1xuXHRcdFx0Ly8gdGhlbiBpdHMgYmV0dGVyIGp1c3QgdG8gbWFrZSBhIGhvbGVcblx0XHRcdHJldHVybiBjbGVhckNsb2NrQ2lyY2xlKGN0eCxjbG9ja0NvbmZpZy5ibHVyQ2lyY2xlLnJhZGl1cypkcmF3LnJhdGlvKTtcblx0XHR9XG5cblx0XHRjdHguc2F2ZSgpO1xuXHRcdGN0eC5maWxsU3R5bGU9Y2xvY2tDb25maWcuYmFja2dyb3VuZDtcblx0XHRjdHguZ2xvYmFsQWxwaGE9Y2xvY2tDb25maWcuYmx1ckNpcmNsZS5vcGFjaXR5O1xuXHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRjcmVhdGVDdXJ2ZShjdHgsIGNsb2NrQ29uZmlnLmJsdXJDaXJjbGUucmFkaXVzICwwLDE0NDApO1xuXHRcdGN0eC5maWxsKCk7XG5cdFx0Y3R4LnJlc3RvcmUoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRyYXdIYW5kbGVzKGN0eCxkYXRhKXtcblx0XHR2YXIgb3V0ZXJDb2xvciwgaW5uZXJDb2xvcjtcblx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0Y3R4LnRyYW5zbGF0ZShkcmF3LncvMixkcmF3LmgvMik7XG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBkYXRhKSB7XG5cdFx0XHRpZih0eXBlb2YgYmFyQ29uZmlnW25hbWVdLnJhbmdlSGFuZGxlcyA9PSAndW5kZWZpbmVkJyB8fCAhYmFyQ29uZmlnW25hbWVdLnJhbmdlSGFuZGxlcylcblx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFbbmFtZV0ubGVuZ3RoOyBpKyspe1xuXG5cdFx0XHRcdHZhciBlbGVtZW50ID0gZGF0YVtuYW1lXVtpXSxcblx0XHRcdFx0Y291bnQgPSBpO1xuXG5cblx0XHRcdFx0aWYoIW5hcGNoYXJ0Q29yZS5pc1NlbGVjdGVkKG5hbWUsY291bnQpKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRmb3Iocz0wO3M8MjtzKyspe1xuXHRcdFx0XHRcdHZhciBwb2ludD1oZWxwZXJzLm1pbnV0ZXNUb1hZKGVsZW1lbnRbWydzdGFydCcsJ2VuZCddW3NdXSwgYmFyQ29uZmlnW25hbWVdLm91dGVyUmFkaXVzKmRyYXcucmF0aW8pO1xuXG5cdFx0XHRcdFx0aWYoaW50ZXJhY3RDYW52YXMuaXNBY3RpdmUobmFtZSxpLFsnc3RhcnQnLCdlbmQnXVtzXSkpe1xuXHRcdFx0XHRcdFx0b3V0ZXJDb2xvciA9ICdyZWQnO1xuXHRcdFx0XHRcdFx0aW5uZXJDb2xvciA9ICdncmVlbic7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYoaW50ZXJhY3RDYW52YXMuaXNIb3ZlcihuYW1lLGksWydzdGFydCcsJ2VuZCddW3NdKSAmJiAhaW50ZXJhY3RDYW52YXMuaXNBY3RpdmUobmFtZSxpKSl7XG5cdFx0XHRcdFx0XHRvdXRlckNvbG9yID0gJ3doaXRlJztcblx0XHRcdFx0XHRcdGlubmVyQ29sb3IgPSAnYmx1ZSc7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRvdXRlckNvbG9yID0gJ3doaXRlJztcblx0XHRcdFx0XHRcdGlubmVyQ29sb3IgPSBiYXJDb25maWdbbmFtZV0uY29sb3I7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGN0eC5maWxsU3R5bGUgPSBvdXRlckNvbG9yO1xuXHRcdFx0XHRcdGN0eC5iZWdpblBhdGgoKTtcblx0XHRcdFx0XHRjdHguYXJjKHBvaW50LngscG9pbnQueSwxKmRyYXcucmF0aW8sMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcblx0XHRcdFx0XHRjdHguZmlsbCgpO1xuXG5cblx0XHRcdFx0XHRjdHguZmlsbFN0eWxlID0gaW5uZXJDb2xvcjtcblx0XHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdFx0Y3R4LmFyYyhwb2ludC54LHBvaW50LnksMC43KmRyYXcucmF0aW8sMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcblx0XHRcdFx0XHRjdHguZmlsbCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3RGlzdGFuY2VUb05lYXJFbGVtZW50cyhjdHgsZGF0YSxzZWxlY3RlZEVsZW1lbnQsYmFycyl7XG5cdFx0Ly8gZHJhd3MgdGhlIGRpc3RhbmNlIHRvIHRoZSBuZWFyYnkgZWxlbWVudHMgb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRcblx0XHR2YXIgYXJyYXkgPSBbXSwgZWxlbWVudFB1c2gsIHNlbGVjdGVkLCBiZWZvcmUsIGFmdGVyO1xuXG5cdFx0aWYoYmFycy5pbmRleE9mKHNlbGVjdGVkRWxlbWVudC5uYW1lKSA9PSAtMSlcblx0XHRyZXR1cm47XG5cblx0XHRpZighaW50ZXJhY3RDYW52YXMuaXNBY3RpdmUoc2VsZWN0ZWRFbGVtZW50Lm5hbWUsc2VsZWN0ZWRFbGVtZW50LmNvdW50KSlcblx0XHRyZXR1cm47XG5cblx0XHQvLyBGSVJTVCAtIGZpbmQgdGhlIGVsZW1lbnRzIG5lYXIgdGhlIHNlbGVjdGVkIGVsZW1lbnQgKG1heCBvbmUgb24gZWFjaCBzaWRlKTpcblxuXHRcdC8vIGxvb3AgdGhyb3VnaCB0aGUgYmFyIHR5cGVzIHNwZWNpZmllZFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYmFycy5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdGlmKHR5cGVvZiBkYXRhW2JhcnNbaV1dID09ICd1bmRlZmluZWQnKVxuXHRcdFx0Y29udGludWU7XG5cblx0XHRcdC8vYWRkIGVsZW1lbnRzIGludG8gbmV3IGFycmF5XG5cdFx0XHRmb3IodmFyIGYgPSAwOyBmIDwgZGF0YVtiYXJzW2ldXS5sZW5ndGg7IGYrKyl7XG5cblx0XHRcdFx0aWYodHlwZW9mIGRhdGFbYmFyc1tpXV1bZl0gIT0gJ3VuZGVmaW5lZCcgKXtcblx0XHRcdFx0XHRlbGVtZW50UHVzaCA9IGRhdGFbYmFyc1tpXV1bZl07XG5cblx0XHRcdFx0XHRpZihuYXBjaGFydENvcmUuaXNTZWxlY3RlZChiYXJzW2ldLGYpKXtcblx0XHRcdFx0XHRcdGVsZW1lbnRQdXNoLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhcnJheS5wdXNoKGVsZW1lbnRQdXNoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vbm90aGluZyB0byBkbyBpZiBvbmx5IG9uZSBlbGVtZW50XG5cdFx0aWYoYXJyYXkubGVuZ3RoID09IDEpXG5cdFx0cmV0dXJuO1xuXG5cdFx0Ly9zb3J0IGFycmF5XG5cdFx0YXJyYXkgPSBhcnJheS5zb3J0KGZ1bmN0aW9uKGEsIGIpe1xuXHRcdFx0cmV0dXJuIGEuc3RhcnQtYi5zdGFydFxuXHRcdH0pO1xuXG5cdFx0Ly9maW5kIG91dCB3aGljaCBlbGVtZW50IGluIG5ldyBhcnJheSBpcyB0aGUgc2VsZWN0ZWQgb25lXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKXtcblx0XHRcdGlmKHR5cGVvZiBhcnJheVtpXS5zZWxlY3RlZCAhPSAndW5kZWZpbmVkJyl7XG5cdFx0XHRcdHNlbGVjdGVkID0gaTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL29rLCBncmVhdCB3ZSBoYXZlIGFuIGFycmF5IHdpdGggc29ydGVkIHZhbHVlcyBhbmQga25vdyB3aGF0IGVsZW1lbnQgaXMgc2VsZWN0ZWRcblx0XHQvL3RoZW4gYWxsIHdlIGhhdmUgdG8gZG8gaXMgdG8gZmluZCB0aGUgdHdvIGVsZW1lbnRzIGJlc2lkZXMgdGhlIHNlbGVjdGVkIGVsZW1lbnQgaW4gdGhlIGFycmF5LCByaWdodD9cblx0XHRiZWZvcmUgPSBzZWxlY3RlZCAtIDE7XG5cdFx0aWYoYmVmb3JlIDwgMClcblx0XHRiZWZvcmUgPSBhcnJheS5sZW5ndGggLSAxO1xuXG5cdFx0YWZ0ZXIgPSBzZWxlY3RlZCArIDE7XG5cdFx0aWYoYWZ0ZXIgPiBhcnJheS5sZW5ndGggLSAxKVxuXHRcdGFmdGVyID0gMDtcblxuXHRcdC8vU0VDT05EIC0gZmluZCBvdXQgaWYgdGhleSBhcmUgY2xvc2UgZW5vdWdoLCB0aGVuIGRyYXdcblx0XHR2YXIgcmFkaXVzID0gNDU7XG5cdFx0dmFyIHRleHRSYWRpdXMgPSAzNipkcmF3LnJhdGlvO1xuXHRcdHZhciBjYW52YXMgPSBjdHguY2FudmFzO1xuXHRcdHZhciBmb250U2l6ZSA9IGJhckNvbmZpZy5nZW5lcmFsLnRleHRTaXplICogZHJhdy5yYXRpbztcblxuXHRcdGN0eC5zYXZlKCk7XG5cblx0XHRjdHguc3Ryb2tlU3R5bGU9ICcjZDJkMmQyJztcblx0XHRjdHguc3Ryb2tlU3R5bGU9IGNsb2NrQ29uZmlnLmJldHdlZW4uc3Ryb2tlQ29sb3I7XG5cdFx0Y3R4LmZpbGxTdHlsZT0gY2xvY2tDb25maWcuYmV0d2Vlbi50ZXh0Q29sb3I7XG5cdFx0Y3R4LmxpbmVXaWR0aD0gMztcblx0XHRjdHguZm9udCA9IGZvbnRTaXplICsgXCJweCB2ZXJkYW5hXCI7XG5cdFx0Y3R4LnRleHRBbGlnbj1cImNlbnRlclwiO1xuXHRcdGN0eC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIjtcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBjdHguZ2xvYmFsQWxwaGEgKiBjbG9ja0NvbmZpZy5iZXR3ZWVuLm9wYWNpdHk7XG5cblx0XHQvL3B1c2ggc3RhcnQgYW5kIGVuZHBvaW50cyB0byBkcmF3IGFycmF5XG5cdFx0dmFyIGRyYXdBcnIgPSBbXTtcblx0XHRkcmF3QXJyLnB1c2goe1xuXHRcdFx0c3RhcnQ6YXJyYXlbYmVmb3JlXS5lbmQsXG5cdFx0XHRlbmQ6YXJyYXlbc2VsZWN0ZWRdLnN0YXJ0XG5cdFx0fSk7XG5cdFx0ZHJhd0Fyci5wdXNoKHtcblx0XHRcdHN0YXJ0OmFycmF5W3NlbGVjdGVkXS5lbmQsXG5cdFx0XHRlbmQ6YXJyYXlbYWZ0ZXJdLnN0YXJ0XG5cdFx0fSk7XG5cblx0XHRkcmF3QXJyLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XG5cdFx0XHR2YXIgZGlzdGFuY2UsIHN0YXJ0LCBlbmQsIG1pZGRsZSwgc3RhcnRSYWRpYW5zLCBlbmRSYWRpYW5zLCB0ZXh0O1xuXG5cdFx0XHRkaXN0YW5jZSA9IGhlbHBlcnMucmFuZ2UoZWxlbWVudC5zdGFydCxlbGVtZW50LmVuZCk7XG5cdFx0XHR0ZXh0ID0gaGVscGVycy5taW51dGVzVG9SZWFkYWJsZShkaXN0YW5jZSwgMTIwKTtcblxuXHRcdFx0aWYoZGlzdGFuY2UgPD0gNzIwICYmIGRpc3RhbmNlID49IDYwKXtcblx0XHRcdFx0c3RhcnQgPSBoZWxwZXJzLmNhbGMoZWxlbWVudC5zdGFydCwxNSk7XG5cdFx0XHRcdGVuZCA9IGhlbHBlcnMuY2FsYyhlbGVtZW50LmVuZCwtMTUpO1xuXHRcdFx0XHRtaWRkbGUgPSBoZWxwZXJzLmNhbGMoc3RhcnQsZGlzdGFuY2UvMik7XG5cblx0XHRcdFx0bWlkZGxlWFkgPSBoZWxwZXJzLm1pbnV0ZXNUb1hZKG1pZGRsZSwgdGV4dFJhZGl1cywgY2FudmFzLndpZHRoLzIsIGNhbnZhcy5oZWlnaHQvMilcblxuXHRcdFx0XHQvL3N0cm9rZVxuXHRcdFx0XHRjdHguYmVnaW5QYXRoKCk7XG5cdFx0XHRcdGNyZWF0ZUN1cnZlKGN0eCwgcmFkaXVzLHN0YXJ0LGVuZCk7XG5cdFx0XHRcdGN0eC5zdHJva2UoKTtcblxuXHRcdFx0XHQvL3RleHRcblx0XHRcdFx0Y3R4LmZpbGxUZXh0KHRleHQsbWlkZGxlWFkueCxtaWRkbGVYWS55KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBkcmF3RWxlbWVudEluZm8oY3R4LHNlbGVjdGVkKXtcblx0XHR2YXIgZWxlbWVudCwgbmFtZSwgY291bnQsIGR1cmF0aW9uLCBtaWRkbGUsIHJhZGl1cztcblx0XHR2YXIgcG9zaXRpb24gPSB7fTtcblx0XHR2YXIgcmFkaXVzID0gMjIgKiBkcmF3LnJhdGlvO1xuXHRcdHZhciBjYW52YXMgPSBjdHguY2FudmFzO1xuXG5cdFx0bmFtZSA9IHNlbGVjdGVkLm5hbWU7XG5cdFx0Y291bnQgPSBzZWxlY3RlZC5jb3VudDtcblx0XHRlbGVtZW50ID0gbmFwY2hhcnRDb3JlLnJldHVybkVsZW1lbnQobmFtZSxjb3VudCk7XG5cdFx0ZHVyYXRpb24gPSBoZWxwZXJzLm1pbnV0ZXNUb1JlYWRhYmxlKCBoZWxwZXJzLnJhbmdlKGVsZW1lbnQuc3RhcnQsIGVsZW1lbnQuZW5kKSAsMTIwKTtcblxuXHRcdC8vZmluZCBwb3NpdGlvblxuXHRcdG1pZGRsZSA9IGhlbHBlcnMubWlkZGxlKGVsZW1lbnQuc3RhcnQsZWxlbWVudC5lbmQpO1xuXHRcdHBvc2l0aW9uID0gaGVscGVycy5taW51dGVzVG9YWShtaWRkbGUsIHJhZGl1cywgY2FudmFzLndpZHRoLzIsIGNhbnZhcy5oZWlnaHQvMik7XG5cblx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0Ly9jdHggY29uZmlnXG5cdFx0Y3R4LmZvbnQgPSBiYXJDb25maWcuZ2VuZXJhbC50ZXh0U2l6ZSAqIGRyYXcucmF0aW8gKyBcInB4IHZlcmRhbmFcIjtcblx0XHRjdHguZmlsbFN0eWxlID0gYmFyQ29uZmlnLmdlbmVyYWwuY29sb3I7XG5cdFx0Y3R4LnRleHRBbGlnbj1cImNlbnRlclwiO1xuXHRcdGN0eC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIjtcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBjdHguZ2xvYmFsQWxwaGEqMC42O1xuXG5cdFx0Ly9kcmF3XG5cdFx0Y3R4LmZpbGxUZXh0KGR1cmF0aW9uLHBvc2l0aW9uLngscG9zaXRpb24ueSk7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhd1RpbWVJbmRpY2F0b3JzKGN0eCxzZWxlY3RlZCl7XG5cdFx0dmFyIGVsZW1lbnQsIG5hbWUsIGNvdW50LCBkdXJhdGlvbiwgdGltZUxvY2F0aW9uLCByYWRpdXMsIHRpbWU7XG5cdFx0dmFyIHBvc2l0aW9uID0ge307XG5cdFx0dmFyIHBvaW50c1RvRHJhdyA9IFtdO1xuXHRcdHZhciBjYW52YXMgPSBjdHguY2FudmFzO1xuXG5cdFx0bmFtZSA9IHNlbGVjdGVkLm5hbWU7XG5cdFx0Y291bnQgPSBzZWxlY3RlZC5jb3VudDtcblx0XHRlbGVtZW50ID0gbmFwY2hhcnRDb3JlLnJldHVybkVsZW1lbnQobmFtZSxjb3VudCk7XG5cdFx0ZHVyYXRpb24gPSBoZWxwZXJzLnJhbmdlKGVsZW1lbnQuc3RhcnQsIGVsZW1lbnQuZW5kKTtcblx0XHR0aW1lTG9jYXRpb24gPSBjbG9ja0NvbmZpZy50aW1lTG9jYXRpb247XG5cdFx0cmFkaXVzID0gKGJhckNvbmZpZ1tuYW1lXS5vdXRlclJhZGl1cyArIHRpbWVMb2NhdGlvbikgKiBkcmF3LnJhdGlvO1xuXG5cdFx0Ly9wdXNoIHN0YXJ0XG5cdFx0cG9pbnRzVG9EcmF3LnB1c2goe1xuXHRcdFx0bWludXRlczplbGVtZW50LnN0YXJ0XG5cdFx0fSk7XG5cblx0XHQvL2lmIGVsZW1lbnQgaXMgYmlnIGVub3VnaCwgcHVzaCBlbmRcblx0XHRpZihkdXJhdGlvbiA+IDkwKXtcblx0XHRcdHBvaW50c1RvRHJhdy5wdXNoKHtcblx0XHRcdFx0bWludXRlczplbGVtZW50LmVuZFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Y3R4LnNhdmUoKTtcblxuXHRcdC8vY3R4IGNvbmZpZ1xuXHRcdGN0eC5mb250ID0gMyAqIGRyYXcucmF0aW8gKyBcInB4IHZlcmRhbmFcIjtcblx0XHRjdHguZmlsbFN0eWxlID0gYmFyQ29uZmlnLmdlbmVyYWwuY29sb3I7XG5cdFx0Y3R4LnRleHRBbGlnbj1cImNlbnRlclwiO1xuXHRcdGN0eC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIjtcblx0XHRjdHguZ2xvYmFsQWxwaGEgPSBjdHguZ2xvYmFsQWxwaGEqMC40O1xuXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHBvaW50c1RvRHJhdy5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdG1pbnV0ZXMgPSBwb2ludHNUb0RyYXdbaV0ubWludXRlcztcblxuXHRcdFx0Ly9za2lwIGlmIGNsb3NlIHRvIDAsIDQsIDgsIDEyLCAxNiBvciAyMCAoZXZlcnkgMjQwIG1pbnV0ZXMpXG5cdFx0XHRpZihtaW51dGVzJTI0MCA8PSAxNSB8fCBtaW51dGVzJTI0MCA+PSAyMjUpXG5cdFx0XHRjb250aW51ZTtcblxuXHRcdFx0dGltZSA9IGhlbHBlcnMubWludXRlc1RvQ2xvY2sobWludXRlcyk7XG5cdFx0XHRwb3NpdGlvbiA9IGhlbHBlcnMubWludXRlc1RvWFkobWludXRlcywgcmFkaXVzLCBjYW52YXMud2lkdGgvMiwgY2FudmFzLmhlaWdodC8yKTtcblxuXHRcdFx0Ly9kcmF3XG5cdFx0XHRjdHguZmlsbFRleHQodGltZSxwb3NpdGlvbi54LHBvc2l0aW9uLnkpO1xuXHRcdH1cblxuXG5cdFx0Y3R4LnJlc3RvcmUoKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbmRlcigpe1xuXHRcdHZhciBkYXRhID0gbmFwY2hhcnRDb3JlLmdldFNjaGVkdWxlKCk7XG5cdFx0ZHJhdy5kcmF3RnJhbWUoZGF0YSk7XG5cblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG5cdH1cblxuXHRyZXR1cm4geyAvL2V4cG9zZWQgdG8gcHVibGljXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbihjYW52YXMpe1xuXHRcdFx0Ly9maXJzdCBkZXRlcm1pbmUgY2FudmFzIHNpemVcblx0XHRcdHZhciByZXNpemVEaXYgPSBjYW52YXMucGFyZW50Tm9kZTtcblx0XHRcdHZhciBjbG9ja1NpemUgPSBNYXRoLm1pbihyZXNpemVEaXYuY2xpZW50V2lkdGgsIDQwMCk7XG5cdFx0XHRjb25zb2xlLmxvZyhyZXNpemVEaXYuY2xpZW50V2lkdGgsIDQwMCk7XG5cblx0XHRcdGNhbnZhcy53aWR0aCA9IGNsb2NrU2l6ZTtcblx0XHRcdGNhbnZhcy5oZWlnaHQgPSBjbG9ja1NpemU7XG5cdFx0XHRjb25zb2xlLmxvZygnc2l6ZScsY2xvY2tTaXplKTtcblxuXHRcdFx0Ly8gZHJhd3MgdGhlIGJhY2tncm91bmQgY2xvY2sgdG8gYW4gb2ZmLXNjcmVlbiBjYW52YXMuXG5cdFx0XHQvLyBUaGlzIGluY3JlYXNlcyBwZXJmb3JtYW5jZSBiZWNhdXNlIHRoZSBicm93c2VyIGRvZXNuJ3QgbmVlZCB0byByZWRyYXcgZXZlcnl0aGluZywgZXZlcnkgZnJhbWVcblx0XHRcdHZhciBvZmZTY3JlZW5DYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHR2YXIgb2N0eD1vZmZTY3JlZW5DYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuXG5cdFx0XHR2YXIgYW1wbTtcblx0XHRcdGlmKHNldHRpbmdzLmdldFZhbHVlKCdhbXBtJykpe1xuXHRcdFx0XHRhbXBtID0gdHJ1ZTtcblx0XHRcdFx0dGhpcy5yYXRpbyA9IGNsb2NrU2l6ZS8xMDM7IC8vIGNsb2NrIGlzIGEgbGl0dGxlIGJpdCBzbWFsbGVyIHdoZW4gYW1wbSBlbmFibGVkXG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0dGhpcy5yYXRpbyA9IGNsb2NrU2l6ZS85NjsgLy93aGF0IHRoZSBjb21wdXRlciB0aGlua3Ncblx0XHRcdH1cblxuXG5cdFx0XHR0aGlzLmRyYXdSYXRpbyA9IHRoaXMucmF0aW87IC8vd2hhdCB5b3Ugc2VlXG5cblx0XHRcdHZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRcdHZhciBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTQ7XG5cdFx0XHR2YXIgYmFja2luZ1N0b3JlUmF0aW8gPSBjdHgud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuXHRcdFx0Y3R4Lm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcblx0XHRcdGN0eC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcblx0XHRcdGN0eC5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuXHRcdFx0Y3R4LmJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgMTtcblxuXHRcdFx0Y29uc29sZS5sb2coJ2JhY2tpbmdzdG9yZTonLGJhY2tpbmdTdG9yZVJhdGlvKTtcblx0XHRcdGNvbnNvbGUubG9nKCdkcHI6JyxkZXZpY2VQaXhlbFJhdGlvKTtcblxuXHRcdFx0dmFyIGJhY2tpbmdSYXRpbyA9IGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVSYXRpbztcblxuXHRcdFx0Ly8gdXBzY2FsZSB0aGUgY2FudmFzIGlmIHRoZSB0d28gcmF0aW9zIGRvbid0IG1hdGNoXG5cdFx0XHRpZiAoZGV2aWNlUGl4ZWxSYXRpbyAhPT0gYmFja2luZ1N0b3JlUmF0aW8pIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3Vwc2NhbGluZycpO1xuXG5cdFx0XHRcdHZhciBvbGRXaWR0aCA9IGNhbnZhcy53aWR0aDtcblx0XHRcdFx0dmFyIG9sZEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG5cblx0XHRcdFx0Y2FudmFzLndpZHRoID0gb2xkV2lkdGggKiBiYWNraW5nUmF0aW87XG5cdFx0XHRcdGNhbnZhcy5oZWlnaHQgPSBvbGRIZWlnaHQgKiBiYWNraW5nUmF0aW87XG5cblx0XHRcdFx0Y2FudmFzLnN0eWxlLndpZHRoID0gb2xkV2lkdGggKyAncHgnO1xuXHRcdFx0XHRjYW52YXMuc3R5bGUuaGVpZ2h0ID0gb2xkSGVpZ2h0ICsgJ3B4JztcblxuXHRcdFx0XHR0aGlzLnJhdGlvICo9IGJhY2tpbmdSYXRpbztcblx0XHRcdH1cblxuXG5cdFx0XHR0aGlzLmN0eCA9IGN0eDtcblx0XHRcdHRoaXMudyA9IGNhbnZhcy53aWR0aDtcblx0XHRcdHRoaXMuaCA9IGNhbnZhcy5oZWlnaHQ7XG5cblx0XHRcdHZhciBzaGFwZSA9IFtcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6ICdhcmMnLFxuXHRcdFx0XHRcdHJhZGlhbnM6IE1hdGguUEkqMlxuXHRcdFx0XHR9XG5cdFx0XHRdO1xuXG5cdFx0XHRvZmZTY3JlZW5DYW52YXMuaGVpZ2h0PWNhbnZhcy53aWR0aDtcblx0XHRcdG9mZlNjcmVlbkNhbnZhcy53aWR0aD1jYW52YXMud2lkdGg7XG5cblx0XHRcdGNhbGN1bGF0ZVNoYXBlKG9jdHgsIHNoYXBlKTtcblx0XHRcdC8vZHJhdyBjbG9ja1xuXHRcdFx0ZHJhd0xpbmVzKG9jdHgpO1xuXHRcdFx0Y2xlYXJDbG9ja0NpcmNsZShvY3R4LGNsb2NrQ29uZmlnLmNsZWFyQ2lyY2xlKTtcblx0XHRcdGRyYXdDaXJjbGVzKG9jdHgpO1xuXHRcdFx0ZHJhd0ltcExpbmVzKG9jdHgpO1xuXHRcdFx0ZHJhd0Nsb2NrTnVtYmVycyhvY3R4LCBhbXBtKTtcblx0XHRcdC8vc2F2ZXMgdG8gYSB2YXJpYWJsZSB1c2VkIGluIGRyYXdGcmFtZSgpXG5cdFx0XHR0aGlzLmNhY2hlZEJhY2tncm91bmQ9b2ZmU2NyZWVuQ2FudmFzO1xuXG5cdFx0XHRyZW5kZXIoKTtcblx0XHR9LFxuXG5cdFx0cmVJbml0OmZ1bmN0aW9uKCl7XG5cdFx0XHRkcmF3LmluaXRpYWxpemUoZHJhdy5jdHguY2FudmFzKTtcblx0XHR9LFxuXG5cdFx0ZHJhd0ZyYW1lOmZ1bmN0aW9uKGRhdGEsdGh1bWIpe1xuXHRcdFx0aWYodHlwZW9mIGRhdGE9PSd1bmRlZmluZWQnKVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZHJhd0ZyYW1lIGRpZCBub3QgcmVjZWl2ZSBkYXRhIGluIGFyZ3VtZW50XCIpO1xuXHRcdFx0dmFyIGRhdGFXaXRoUGhhbnRvbXMsIHNlbGVjdGVkRWxlbWVudCwgY3R4O1xuXG5cdFx0XHQvL2Nsb25lIGRhdGEgb2JqZWN0XG5cdFx0XHRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7XG5cblx0XHRcdC8vIHJlbW92ZSBvdmVybGFwcGluZyBvZiBuYXAgYW5kIGJ1c3kgYmFyc1xuXHRcdFx0Ly8gdGhpcyB3aWxsIGJlIHVzZWQgZm9yIHNvbWUgZnVuY3Rpb25zLCB3aGlsZSBvdGhlciBmdW5jdGlvbnMgdXNlIGRhdGFcblx0XHRcdGRhdGFXaXRoUGhhbnRvbXMgPSByZW1vdmVPdmVybGFwcGluZyhkYXRhLCdidXN5JywnbmFwJyk7XG5cblx0XHRcdHNlbGVjdGVkRWxlbWVudCA9IG5hcGNoYXJ0Q29yZS5yZXR1cm5TZWxlY3RlZCgpWzBdO1xuXG5cdFx0XHRjdHg9ZHJhdy5jdHg7XG5cdFx0XHRjdHguY2xlYXJSZWN0KDAsMCxkcmF3LncsZHJhdy5oKTtcblx0XHRcdGlmKHR5cGVvZiB0aGlzLmNhY2hlZEJhY2tncm91bmQ9PVwidW5kZWZpbmVkXCIpXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCB0aGUgaW5pdGlhbGl6ZWQgb2ZmLXNjcmVlbiBjYW52YXMuIFRyeSBydW5uaW5nIGRyYXcuaW5pdGlhbGl6ZSgpXCIpO1xuXG5cdFx0XHRjdHguZHJhd0ltYWdlKHRoaXMuY2FjaGVkQmFja2dyb3VuZCwwLDApO1xuXG5cdFx0XHRkcmF3QmFycyhjdHgsZGF0YVdpdGhQaGFudG9tcyk7XG5cblx0XHRcdGRyYXdCbHVyQ2lyY2xlKGN0eCk7XG5cblx0XHRcdHN0cm9rZUJhcnMoY3R4LGRhdGFXaXRoUGhhbnRvbXMpO1xuXG5cdFx0XHRmb3IodmFyIG5hbWUgaW4gZGF0YSl7XG5cdFx0XHRcdGlmKG5hbWUgPT0gJ2J1c3knKVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRhdGFbbmFtZV0ubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdGRyYXdFbGVtZW50SW5mbyhjdHgse25hbWU6bmFtZSxjb3VudDppfSk7XG5cdFx0XHRcdFx0ZHJhd1RpbWVJbmRpY2F0b3JzKGN0eCx7bmFtZTpuYW1lLGNvdW50Oml9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjdHguc2F2ZSgpO1xuXHRcdFx0Y3R4Lmdsb2JhbEFscGhhPWludGVyYWN0Q2FudmFzLmdldFNlbGVjdGVkT3BhY2l0eSgpO1xuXG5cdFx0XHRkcmF3U2hhZG93cyhjdHgsZGF0YSk7XG5cdFx0XHRkcmF3SGFuZGxlcyhjdHgsZGF0YSk7XG5cblx0XHRcdGlmKHR5cGVvZiBzZWxlY3RlZEVsZW1lbnQgIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0XHQvL3NvbWV0aGluZyBpcyBzZWxlY3RlZFxuXHRcdFx0XHRkcmF3RGlzdGFuY2VUb05lYXJFbGVtZW50cyhjdHgsZGF0YSxzZWxlY3RlZEVsZW1lbnQsWyduYXAnLCdjb3JlJ10pO1xuXG5cdFx0XHRcdGlmKHNlbGVjdGVkRWxlbWVudC5uYW1lXG5cdFx0XHRcdFx0PT0gJ2J1c3knKXtcblx0XHRcdFx0XHRcdGRyYXdFbGVtZW50SW5mbyhjdHgsc2VsZWN0ZWRFbGVtZW50KTtcblx0XHRcdFx0XHRcdGRyYXdUaW1lSW5kaWNhdG9ycyhjdHgsc2VsZWN0ZWRFbGVtZW50KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjdHgucmVzdG9yZSgpO1xuXG5cdFx0XHR9LFxuXHRcdFx0ZHJhd1VwZGF0ZTpmdW5jdGlvbigpe1xuXHRcdFx0XHRjb25zb2xlLmxvZygnZHJhd1VwZGF0ZScpXG5cdFx0XHRcdC8vIGRhdGEgPSBuYXBjaGFydENvcmUuZ2V0U2NoZWR1bGUoKTtcblx0XHRcdFx0Ly8gZHJhdy5kcmF3RnJhbWUoZGF0YSk7XG5cdFx0XHRcdHJlcXVlc3RVcGRhdGUgPSB0cnVlO1xuXHRcdFx0fSxcblxuXHRcdFx0Z2V0QmFyQ29uZmlnOmZ1bmN0aW9uKCl7XG5cdFx0XHRcdHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJhckNvbmZpZykpO1xuXHRcdFx0fSxcblxuXG5cdFx0XHRnZXRJbWFnZTpmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgY3R4ID0gZHJhdy5jdHg7XG5cdFx0XHRcdHZhciBjYW52YXMgPSBjdHguY2FudmFzO1xuXHRcdFx0XHR2YXIgaW1nO1xuXG5cdFx0XHRcdGltZyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcblxuXHRcdFx0XHRyZXR1cm4gaW1nO1xuXHRcdFx0fSxcblxuXHRcdFx0Y2hhbmdlQ2xvY2tDb25maWc6ZnVuY3Rpb24oYXR0cmlidXRlLHZhbHVlKXtcblx0XHRcdFx0Y2xvY2tDb25maWdbYXR0cmlidXRlXSA9IHZhbHVlO1xuXHRcdFx0fSxcblxuXHRcdFx0ZG1Ub2dnbGU6ZnVuY3Rpb24oc3RhdGUpe1xuXHRcdFx0XHRpZihzdGF0ZSl7XG5cdFx0XHRcdFx0Ly8gc2F2ZSBjdXJyZW50IGNvbmZpZ3MgaW4gY2FzZSB5b3Ugd2lsbCBzd2l0Y2ggYmFja1xuXHRcdFx0XHRcdG5vcm1hbEJhckNvbmZpZyA9IGhlbHBlcnMuY2xvbmUoYmFyQ29uZmlnKTtcblx0XHRcdFx0XHRub3JtYWxDbG9ja0NvbmZpZyA9IGhlbHBlcnMuY2xvbmUoY2xvY2tDb25maWcpO1xuXG5cdFx0XHRcdFx0YmFyQ29uZmlnID0gaGVscGVycy5vdmVyd3JpdGUoYmFyQ29uZmlnLCBkYXJrQmFyQ29uZmlnKTtcblx0XHRcdFx0XHRjbG9ja0NvbmZpZyA9IGhlbHBlcnMub3ZlcndyaXRlKGNsb2NrQ29uZmlnLCBkYXJrQ2xvY2tDb25maWcpO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRiYXJDb25maWcgPSBoZWxwZXJzLm92ZXJ3cml0ZShiYXJDb25maWcsIG5vcm1hbEJhckNvbmZpZyk7XG5cdFx0XHRcdFx0Y2xvY2tDb25maWcgPSBoZWxwZXJzLm92ZXJ3cml0ZShjbG9ja0NvbmZpZywgbm9ybWFsQ2xvY2tDb25maWcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZHJhdy5yZUluaXQoKTtcblx0XHRcdFx0ZHJhdy5kcmF3VXBkYXRlKCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSgpKTtcbiIsIi8qXG5cblRoaXMgbW9kdWxlIGFkZHMgc3VwcG9ydCBmb3IgbW9kaWZ5aW5nIGEgc2NoZWR1bGVcbmRpcmVjdGx5IG9uIHRoZSBjYW52YXMgd2l0aCBtb3VzZSBvciB0b3VjaFxuXG4qL1xuXG53aW5kb3cuaW50ZXJhY3RDYW52YXMgPSAoZnVuY3Rpb24oKXtcblx0Ly9wcml2YXRlOlxuXG5cdHZhciBtb3VzZUhvdmVyID0ge30sXG5cdGFjdGl2ZUVsZW1lbnRzID0gW10sXG5cdGhvdmVyRGlzdGFuY2UgPSA2LFxuXHRzZWxlY3RlZE9wYWNpdHkgPSAxO1xuXG5cblx0ZnVuY3Rpb24gZ2V0Q29vcmRpbmF0ZXMoZSxjYW52YXMpe1xuXHRcdHZhciBtb3VzZVgsbW91c2VZO1xuXHRcdC8vb3JpZ28gaXMgKDAsMClcblx0XHR2YXIgYm91bmRpbmdSZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0dmFyIHdpZHRoID0gaW50ZXJhY3RDYW52YXMuY2FudmFzLndpZHRoO1xuXHRcdHZhciBoZWlnaHQgPSBpbnRlcmFjdENhbnZhcy5jYW52YXMuaGVpZ2h0O1xuXG5cdFx0aWYgKGUuY2hhbmdlZFRvdWNoZXMpe1xuXHRcdFx0bW91c2VYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gYm91bmRpbmdSZWN0LmxlZnQ7XG5cdFx0XHRtb3VzZVkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSBib3VuZGluZ1JlY3QudG9wO1xuXHRcdH1cblxuXHRcdGVsc2V7XG5cdFx0XHRtb3VzZVggPSBlLmNsaWVudFggLSBib3VuZGluZ1JlY3QubGVmdDtcblx0XHRcdG1vdXNlWSA9IGUuY2xpZW50WSAtIGJvdW5kaW5nUmVjdC50b3A7XG5cdFx0fVxuXG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0eCA6IG1vdXNlWC13aWR0aC8yLFxuXHRcdFx0eSA6IG1vdXNlWS1oZWlnaHQvMlxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBoaXREZXRlY3QoY29vcmRpbmF0ZXMpe1xuXHRcdHZhciBjYW52YXMgPSBuYXBjaGFydENvcmUuZ2V0Q2FudmFzKCk7XG5cdFx0dmFyIGRhdGEgPSBkYXRhID0gbmFwY2hhcnRDb3JlLmdldFNjaGVkdWxlKCk7XG5cdFx0dmFyIGJhckNvbmZpZyA9IGRyYXcuZ2V0QmFyQ29uZmlnKCk7XG5cblxuXHRcdC8vIHdpbGwgcmV0dXJuOlxuXHRcdC8vIG5hbWUgKGNvcmUsIG5hcCwgYnVzeSlcblx0XHQvLyBjb3VudCAoMCwgMSwgMiAuLilcblx0XHQvLyB0eXBlIChzdGFydCwgZW5kLCBvciBtaWRkbGUpXG5cblx0XHR2YXIgaGl0ID0ge307XG5cdFx0dmFyIHZhbHVlLCBwb2ludCwgaSwgZGlzdGFuY2U7XG5cblx0XHQvL2hpdCBkZXRlY3Rpb24gb2YgaGFuZGxlcyAod2lsbCBvdmVyd3JpdGUgY3VycmVudCBtb3VzZUhvdmVyIG9iamVjdFxuXHRcdC8vZnJvbSBkcmF3IGlmIGhvdmVyaW5nIGEgaGFuZGxlKTpcbmZvcih2YXIgbmFtZSBpbiBkYXRhKXtcblx0aWYodHlwZW9mIGJhckNvbmZpZ1tuYW1lXS5yYW5nZUhhbmRsZXMgPT0gJ3VuZGVmaW5lZCcgfHwgIWJhckNvbmZpZ1tuYW1lXS5yYW5nZUhhbmRsZXMpXG5cdFx0Y29udGludWU7XG5cblx0Zm9yKGkgPSAwOyBpIDwgZGF0YVtuYW1lXS5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdFx0Ly8gaWYgZWxlbWVudCBpcyBub3Qgc2VsZWN0ZWQsIGNvbnRpbnVlXG5cdFx0XHRcdGlmKCFuYXBjaGFydENvcmUuaXNTZWxlY3RlZChuYW1lLGkpKVxuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXG5cdFx0XHRcdGZvcihzID0gMDsgcyA8IDI7IHMrKyl7XG5cdFx0XHRcdFx0dmFsdWUgPSBkYXRhW25hbWVdW2ldW1snc3RhcnQnLCdlbmQnXVtzXV07XG5cdFx0XHRcdFx0cG9pbnQgPSBoZWxwZXJzLm1pbnV0ZXNUb1hZKHZhbHVlLGJhckNvbmZpZ1tuYW1lXS5vdXRlclJhZGl1cypkcmF3LmRyYXdSYXRpbyk7XG5cblx0XHRcdFx0XHRkaXN0YW5jZSA9IGhlbHBlcnMuZGlzdGFuY2UocG9pbnQueCxwb2ludC55LGNvb3JkaW5hdGVzLngsY29vcmRpbmF0ZXMueSk7XG5cdFx0XHRcdFx0aWYoZGlzdGFuY2UgPCBob3ZlckRpc3RhbmNlKmRyYXcuZHJhd1JhdGlvKXtcblxuXHRcdFx0XHRcdFx0aWYodHlwZW9mIGhpdC5kaXN0YW5jZT09J3VuZGVmaW5lZCd8fGRpc3RhbmNlIDwgaGl0LmRpc3RhbmNlKXtcblx0XHRcdFx0XHRcdFx0Ly9vdmVyd3JpdGUgY3VycmVudCBoaXQgb2JqZWN0XG5cdFx0XHRcdFx0XHRcdGhpdCA9IHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lOm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0Y291bnQ6aSxcblx0XHRcdFx0XHRcdFx0XHR0eXBlOlsnc3RhcnQnLCdlbmQnXVtzXSxcblx0XHRcdFx0XHRcdFx0XHRkaXN0YW5jZTpkaXN0YW5jZVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vaWYgbm8gaGFuZGxlIGlzIGhpdCwgY2hlY2sgZm9yIG1pZGRsZSBoaXRcblxuXHRcdGlmKE9iamVjdC5rZXlzKGhpdCkubGVuZ3RoID09IDApe1xuXHRcdFx0dmFyIG1pbnV0ZXMsIGRpc3RhbmNlVG9DZW50ZXI7XG5cdFx0XHR2YXIgc3RhcnQsIGVuZDtcblx0XHRcdHZhciBvdXRlclJhZGl1cywgaW5uZXJSYWRpdXM7XG5cblx0XHRcdHZhciBwb3NpdGlvbkluRWxlbWVudDtcblxuXG5cdFx0XHRtaW51dGVzID0gaGVscGVycy5YWXRvTWludXRlcyhjb29yZGluYXRlcy54LGNvb3JkaW5hdGVzLnkpO1xuXHRcdFx0ZGlzdGFuY2VUb0NlbnRlciA9IGhlbHBlcnMuZGlzdGFuY2UoY29vcmRpbmF0ZXMueCxjb29yZGluYXRlcy55LDAsMCk7XG5cblx0XHRcdC8vbG9vcCB0aHJvdWdoIGVsZW1lbnRzXG5cdFx0XHRmb3IodmFyIG5hbWUgaW4gZGF0YSl7XG5cdFx0XHRcdGZvcihpID0gMDsgaSA8IGRhdGFbbmFtZV0ubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdC8vY2hlY2sgaWYgcG9pbnQgaXMgaW5zaWRlIGVsZW1lbnQgaG9yaXpvbnRhbGx5XG5cdFx0XHRcdFx0c3RhcnQgPSBkYXRhW25hbWVdW2ldLnN0YXJ0O1xuXHRcdFx0XHRcdGVuZCA9IGRhdGFbbmFtZV1baV0uZW5kO1xuXG5cdFx0XHRcdFx0aWYoaGVscGVycy5wb2ludElzSW5zaWRlKG1pbnV0ZXMsc3RhcnQsZW5kKSl7XG5cblx0XHRcdFx0XHRcdC8vY2hlY2sgaWYgcG9pbnQgaXMgaW5zaWRlIGVsZW1lbnQgdmVydGljYWxseVxuXHRcdFx0XHRcdFx0aW5uZXJSYWRpdXMgPSBiYXJDb25maWdbbmFtZV0uaW5uZXJSYWRpdXMqZHJhdy5kcmF3UmF0aW87XG5cdFx0XHRcdFx0XHRvdXRlclJhZGl1cyA9IGJhckNvbmZpZ1tuYW1lXS5vdXRlclJhZGl1cypkcmF3LmRyYXdSYXRpbztcblx0XHRcdFx0XHRcdGlmKGRpc3RhbmNlVG9DZW50ZXIgPiBpbm5lclJhZGl1cyAmJiBkaXN0YW5jZVRvQ2VudGVyIDwgb3V0ZXJSYWRpdXMpe1xuXG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uSW5FbGVtZW50ID0gaGVscGVycy5jYWxjKG1pbnV0ZXMsLXN0YXJ0KTtcblx0XHRcdFx0XHRcdFx0aGl0ID0ge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWU6bmFtZSxcblx0XHRcdFx0XHRcdFx0XHRjb3VudDppLFxuXHRcdFx0XHRcdFx0XHRcdHR5cGU6J3dob2xlJyxcblx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbkluRWxlbWVudDpwb3NpdGlvbkluRWxlbWVudFxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYoc2V0dGluZ3MuZ2V0VmFsdWUoJ21vdmVTaW0nKSAmJiAoaGl0Lm5hbWUgPT0gJ2NvcmUnIHx8ICBoaXQubmFtZSA9PSAnbmFwJykpe1xuXHRcdFx0XHQvLyB3ZSBoYXZlIHRvIGFkZCBhbGwgc2xlZXAgZWxlbWVudHMgYXMgaGl0XG5cblx0XHRcdFx0dmFyIGRhdGEgPSBuYXBjaGFydENvcmUuZ2V0U2NoZWR1bGUoKTtcblx0XHRcdFx0dmFyIG9yaWdpbmFsID0ge1xuXHRcdFx0XHRcdG5hbWU6aGl0Lm5hbWUsXG5cdFx0XHRcdFx0Y291bnQ6aGl0LmNvdW50XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhZGRpbmcgKHBvc3NpYmx5KSBtYW55IGVsZW1lbnRzLCBzbyB3ZSBhZGQgYSBwcm9wZXJ0eSBlbGVtZW50c1xuXHRcdFx0XHRoaXQgPSB7fTtcblx0XHRcdFx0aGl0LmVsZW1lbnRzID0gW107XG5cblx0XHRcdFx0Ly8gd2hpY2ggZWxlbWVudCBpcyB0aGUgZGlyZWN0bHkgaGl0IG9uZT9cblx0XHRcdFx0Ly8gdXNlZCBmb3Igc25hcHBpbmdcblx0XHRcdFx0aGl0Lm1hc3RlciA9IHtcblx0XHRcdFx0XHRuYW1lOm9yaWdpbmFsLm5hbWUsXG5cdFx0XHRcdFx0Y291bnQ6b3JpZ2luYWwuY291bnRcblx0XHRcdFx0fVxuXG5cblxuXHRcdFx0XHRmb3IodmFyIG5hbWUgaW4gZGF0YSl7XG5cdFx0XHRcdFx0aWYobmFtZSA9PSAnYnVzeScpXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhW25hbWVdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHRcdHN0YXJ0ID0gZGF0YVtuYW1lXVtpXS5zdGFydDtcblxuXHRcdFx0XHRcdFx0cG9zaXRpb25JbkVsZW1lbnQgPSBoZWxwZXJzLmNhbGMobWludXRlcywtc3RhcnQpO1xuXHRcdFx0XHRcdFx0aGl0LmVsZW1lbnRzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHRuYW1lOm5hbWUsXG5cdFx0XHRcdFx0XHRcdGNvdW50OmksXG5cdFx0XHRcdFx0XHRcdHR5cGU6J3dob2xlJyxcblx0XHRcdFx0XHRcdFx0cG9zaXRpb25JbkVsZW1lbnQ6cG9zaXRpb25JbkVsZW1lbnRcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhpdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGhvdmVyKGUpe1xuXHRcdHZhciBjYW52YXMgPSBuYXBjaGFydENvcmUuZ2V0Q2FudmFzKCksXG5cdFx0Y29vcmRpbmF0ZXMgPSBnZXRDb29yZGluYXRlcyhlLGNhbnZhcyksXG5cdFx0ZGF0YSA9IG5hcGNoYXJ0Q29yZS5nZXRTY2hlZHVsZSgpLFxuXHRcdGJhckNvbmZpZyA9IGRyYXcuZ2V0QmFyQ29uZmlnKCk7XG5cblx0XHRoZWxwZXJzLnJlcXVlc3RBbmltRnJhbWUuY2FsbCh3aW5kb3csZHJhdy5kcmF3VXBkYXRlKTtcblxuXHRcdHZhciBoaXQgPSBoaXREZXRlY3QoY29vcmRpbmF0ZXMpO1xuXG5cdFx0bW91c2VIb3ZlciA9IGhpdDtcblxuXHR9XG5cblxuXHRmdW5jdGlvbiBkb3duKGUpe1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHR2YXIgY2FudmFzID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXHRcdHZhciBjb29yZGluYXRlcyA9IGdldENvb3JkaW5hdGVzKGUsY2FudmFzKTtcblx0XHR2YXIgaGl0ID0ge307XG5cblx0XHRjb25zb2xlLmxvZygnY2xpY2s6ICcsY29vcmRpbmF0ZXMpXG5cblx0XHRoaXQgPSBoaXREZXRlY3QoY29vcmRpbmF0ZXMpO1xuXG5cdFx0Ly9yZXR1cm4gb2Ygbm8gaGl0XG5cdFx0aWYoT2JqZWN0LmtleXMoaGl0KS5sZW5ndGggPT0gMCl7XG5cdFx0XHRkZXNlbGVjdCgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdC8vc2V0IGlkZW50aWZpZXJcblx0XHRpZih0eXBlb2YgZS5jaGFuZ2VkVG91Y2hlcyAhPSAndW5kZWZpbmVkJyl7XG5cdFx0XHRoaXQuaWRlbnRpZmllciA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcblx0XHR9ZWxzZXtcblx0XHRcdGhpdC5pZGVudGlmaWVyID0gJ21vdXNlJztcblx0XHR9XG5cblx0XHRoaXQuY2FudmFzID0gY2FudmFzO1xuXG5cblx0XHQvL2Rlc2VsZWN0IG90aGVyIGVsZW1lbnRzIGlmIHRoZXkgYXJlIG5vdCBiZWluZyB0b3VjaGVkXG5cdFx0aWYoYWN0aXZlRWxlbWVudHMubGVuZ3RoID09PSAwKXtcblx0XHRcdGRlc2VsZWN0KCk7XG5cdFx0fVxuXG5cdFx0YWN0aXZlRWxlbWVudHMucHVzaChoaXQpO1xuXG5cdFx0aWYodHlwZW9mIGUuY2hhbmdlZFRvdWNoZXMgIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJyxkcmFnKTtcblx0XHR9ZWxzZXtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZHJhZyk7XG5cdFx0fVxuXG5cdFx0c2VsZWN0KGhpdC5uYW1lLGhpdC5jb3VudCk7XG5cblx0XHRkcmFnKGUpOyAvL3RvICBtYWtlIHN1cmUgdGhlIGhhbmRsZXMgcG9zaXRpb25zIHRvIHRoZSBjdXJzb3IgZXZlbiBiZWZvcmUgbW92ZW1lbnRcblxuXHRcdGhlbHBlcnMucmVxdWVzdEFuaW1GcmFtZS5jYWxsKHdpbmRvdyxkcmF3LmRyYXdVcGRhdGUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZHJhZyhlKXtcblx0XHR2YXIgaWRlbnRpZmllcjtcblx0XHRpZGVudGlmaWVyID0gZmluZElkZW50aWZpZXIoZSk7XG5cblx0XHR2YXIgZHJhZ0VsZW1lbnQsIG5hbWUsIGNvdW50LCBlbGVtZW50LCBjb29yZGluYXRlcywgbWludXRlcztcblxuXG5cblx0XHQvL25ld1ZhbHVlcyBpcyBhbiBvYmplY3QgdGhhdCB3aWxsIHJlcGxhY2UgdGhlIGV4aXN0aW5nIG9uZSB3aXRoIG5ldyB2YWx1ZXNcblx0XHR2YXIgbmV3VmFsdWVzID0ge30sIHBvc2l0aW9uSW5FbGVtZW50LCBkdXJhdGlvbiwgc3RhcnQsIGVuZDtcblxuXG5cdFx0ZHJhZ0VsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50KGlkZW50aWZpZXIpO1xuXG5cdFx0aWYoIWRyYWdFbGVtZW50KXtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdC8vIGV4cG9zZSBtaW51dGVzIHZhcmlhYmxlIHRvIGdldE1vdmVWYWx1ZXMoKSBmdW5jdGlvblxuXHRcdGNvb3JkaW5hdGVzID0gZ2V0Q29vcmRpbmF0ZXMoZSxkcmFnRWxlbWVudC5jYW52YXMpO1xuXHRcdG1pbnV0ZXMgPSBoZWxwZXJzLlhZdG9NaW51dGVzKGNvb3JkaW5hdGVzLngsY29vcmRpbmF0ZXMueSk7XG5cblx0XHRpZih0eXBlb2YgZHJhZ0VsZW1lbnQuZWxlbWVudHMgIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0Ly8gbWFueSBlbGVtZW50cyBsaW5rZWRcblxuXHRcdFx0dmFyIG5ld0VsZW1lbnRzID0gW107XG5cdFx0XHR2YXIgbWFzdGVyID0ge307XG5cdFx0XHRkcmFnRWxlbWVudC5lbGVtZW50cy5zb21lKGZ1bmN0aW9uKGVsZW1lbnQpe1xuXHRcdFx0XHRnZXRNb3ZlVmFsdWVzKGVsZW1lbnQsIGZ1bmN0aW9uKG5hbWUsY291bnQsbmV3VmFsdWVzKXtcblx0XHRcdFx0XHQvLyBhbGwgdGhpcyBmdXp6IGJlY2F1c2Ugd2UgbmVlZCB0byBtYWtlIHRoZSBkcmFnZ2luZyBzbmFwcGFibGVcblx0XHRcdFx0XHQvLyBhbmQgdGhlIHNuYXBwaW5nIHNob3VsZCBvbmx5IGxpc3RlbiB0byB0aGUgZWxlbWVudCB5b3UgYXJlIGNsaWNraW5nIG9uXG5cdFx0XHRcdFx0Ly8gYW5kIGFsbCBvdGhlciBoYXZlIHRvIGZvbGxvd1xuXG5cdFx0XHRcdFx0aWYobmFtZSA9PSBkcmFnRWxlbWVudC5tYXN0ZXIubmFtZSAmJiBjb3VudCA9PSBkcmFnRWxlbWVudC5tYXN0ZXIuY291bnQpe1xuXHRcdFx0XHRcdFx0bWFzdGVyID0gbmV3VmFsdWVzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdFbGVtZW50cy5wdXNoKHtcblx0XHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0XHRjb3VudDogY291bnQsXG5cdFx0XHRcdFx0XHR2YWx1ZXM6IG5ld1ZhbHVlc1xuXHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0fSlcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBydW4gdGhyb3VnaCBuZXdFbGVtZW50cyBhcnJheSBhbmQgc25hcCB2YWx1ZXNcblxuXHRcdFx0dmFyIG1hc3RlclN0YXJ0ID0gbWFzdGVyLnN0YXJ0O1xuXHRcdFx0Ly8gZmluZCBvdXQgaG93IG11Y2ggdGhlIHNuYXAgZnVuY3Rpb24gZGlkXG5cdFx0XHR2YXIgc2hpZnQgPSBzbmFwKG1hc3RlclN0YXJ0KSAtIG1hc3RlclN0YXJ0O1xuXG5cdFx0XHQvLyBkbyB0aGUgc2FtZSBpbXBhY3QgdG8gdGhlIG90aGVyIGVsZW1lbnRzXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbmV3RWxlbWVudHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRuZXdFbGVtZW50c1tpXS52YWx1ZXMuc3RhcnQgPSBoZWxwZXJzLmNhbGMobmV3RWxlbWVudHNbaV0udmFsdWVzLnN0YXJ0LHNoaWZ0KTtcblx0XHRcdFx0bmV3RWxlbWVudHNbaV0udmFsdWVzLmVuZCA9IGhlbHBlcnMuY2FsYyhuZXdFbGVtZW50c1tpXS52YWx1ZXMuZW5kLHNoaWZ0KTtcblx0XHRcdH07XG5cblx0XHRcdGNvbnNvbGUubG9nKG5ld0VsZW1lbnRzKTtcblxuXHRcdFx0ZnVuY3Rpb24gbW9kaWZ5KG5ld1ZhbHVlRWxlbWVudCl7XG5cdFx0XHRcdG5hcGNoYXJ0Q29yZS5tb2RpZnlFbGVtZW50KG5ld1ZhbHVlRWxlbWVudC5uYW1lLG5ld1ZhbHVlRWxlbWVudC5jb3VudCxuZXdWYWx1ZUVsZW1lbnQudmFsdWVzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gc2VuZCBhbGwgdGhlIHNoaW55IG5ldyBlbGVtZW50cyB0byB0aGUgY29yZSBmb3IgbW9kaWZpY2F0aW9uIDotKVxuXHRcdFx0bmV3RWxlbWVudHMuZm9yRWFjaChtb2RpZnkpO1xuXG5cblxuXHRcdH1lbHNle1xuXHRcdFx0dmFyIHNuYXBBbGwgPSB0cnVlO1xuXHRcdFx0Z2V0TW92ZVZhbHVlcyhkcmFnRWxlbWVudCwgZnVuY3Rpb24obmFtZSxjb3VudCxuZXdWYWx1ZXMpe1xuXG5cdFx0XHRcdG5hcGNoYXJ0Q29yZS5tb2RpZnlFbGVtZW50KG5hbWUsY291bnQsbmV3VmFsdWVzKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXG5cblx0XHRmdW5jdGlvbiBnZXRNb3ZlVmFsdWVzKGRyYWdFbGVtZW50LCBjYWxsYmFjayl7XG5cdFx0XHRuYW1lID0gZHJhZ0VsZW1lbnQubmFtZTtcblx0XHRcdGNvdW50ID0gZHJhZ0VsZW1lbnQuY291bnQ7XG5cdFx0XHRlbGVtZW50ID0gbmFwY2hhcnRDb3JlLnJldHVybkVsZW1lbnQobmFtZSxjb3VudCk7XG5cblxuXHRcdFx0aWYoZHJhZ0VsZW1lbnQudHlwZT09J3N0YXJ0Jyl7XG5cdFx0XHRcdHN0YXJ0ID0gc25hcChtaW51dGVzKTtcblx0XHRcdFx0bmV3VmFsdWVzID0ge3N0YXJ0OnN0YXJ0fTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoZHJhZ0VsZW1lbnQudHlwZT09J2VuZCcpe1xuXHRcdFx0XHRlbmQgPSBzbmFwKG1pbnV0ZXMpO1xuXHRcdFx0XHRuZXdWYWx1ZXMgPSB7ZW5kOmVuZH07XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGRyYWdFbGVtZW50LnR5cGU9PSd3aG9sZScpe1xuXHRcdFx0XHRwb3NpdGlvbkluRWxlbWVudCA9IGRyYWdFbGVtZW50LnBvc2l0aW9uSW5FbGVtZW50O1xuXHRcdFx0XHRkdXJhdGlvbiA9IGhlbHBlcnMucmFuZ2UoZWxlbWVudC5zdGFydCxlbGVtZW50LmVuZCk7XG5cdFx0XHRcdHN0YXJ0ID0gaGVscGVycy5jYWxjKG1pbnV0ZXMsLXBvc2l0aW9uSW5FbGVtZW50KTtcblx0XHRcdFx0aWYodHlwZW9mIHNuYXBBbGwgIT0gJ3VuZGVmaW5lZCcpXG5cdFx0XHRcdFx0c3RhcnQgPSBzbmFwKHN0YXJ0KTtcblx0XHRcdFx0ZW5kID0gaGVscGVycy5jYWxjKHN0YXJ0LGR1cmF0aW9uKTtcblx0XHRcdFx0bmV3VmFsdWVzID0ge3N0YXJ0OnN0YXJ0LGVuZDplbmR9O1xuXHRcdFx0fVxuXG5cdFx0XHRjYWxsYmFjayhuYW1lLCBjb3VudCwgbmV3VmFsdWVzKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB1bmZvY3VzKGUpe1xuXHRcdC8vIGNoZWNrcyBpZiBjbGljayBpcyBvbiBhIHBhcnQgb2YgdGhlIHNpdGUgdGhhdCBzaG91bGQgbWFrZSB0aGVcblx0XHQvLyBjdXJyZW50IHNlbGVjdGVkIGVsZW1lbnRzIGJlIGRlc2VsZWN0ZWRcblxuXHRcdHZhciB4LCB5O1xuXHRcdHZhciBkb21FbGVtZW50XG5cblx0XHR4ID0gZS5jbGllbnRYO1xuXHRcdHkgPSBlLmNsaWVudFk7XG5cblx0XHR2YXIgZG9tRWxlbWVudCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG5cblx0XHRjb25zb2xlLmxvZyhkb21FbGVtZW50KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNlbGVjdChuYW1lLGNvdW50KXtcblx0XHRpZihzZXR0aW5ncy5nZXRWYWx1ZSgnbW92ZVNpbScpICYmIG5hbWUgIT0gJ2J1c3knKXtcblx0XHRcdC8vc2VsZWN0IGFsbFxuXHRcdFx0dmFyIGRhdGEgPSBuYXBjaGFydENvcmUuZ2V0U2NoZWR1bGUoKTtcblxuXHRcdFx0Zm9yKHZhciBuYW1lIGluIGRhdGEpe1xuXHRcdFx0XHRpZihuYW1lID09ICdidXN5Jylcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGF0YVtuYW1lXS5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0bmFwY2hhcnRDb3JlLnNldFNlbGVjdGVkKG5hbWUsaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Ly9ub3RpZnkgY29yZSBtb2R1bGU6XG5cdFx0bmFwY2hhcnRDb3JlLnNldFNlbGVjdGVkKG5hbWUsY291bnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVzZWxlY3QobmFtZSxjb3VudCl7XG5cdFx0aWYodHlwZW9mIG5hbWUgPT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0Ly9kZXNlbGVjdCBhbGxcblx0XHRcdG5hcGNoYXJ0Q29yZS5kZXNlbGVjdCgpO1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJyxkcmFnKTtcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsZHJhZyk7XG5cdFx0fVxuXHRcdC8vZGVzZWxlY3Qgb25lXG5cdFx0bmFwY2hhcnRDb3JlLmRlc2VsZWN0KG5hbWUsY291bnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZmluZElkZW50aWZpZXIoZSl7XG5cdFx0aWYoZS50eXBlLnNlYXJjaCgnbW91c2UnKSA+PSAwKXtcblx0XHRcdHJldHVybiAnbW91c2UnO1xuXHRcdH1lbHNle1xuXHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0XHRyZXR1cm4gZS5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoaWRlbnRpZmllcil7XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGFjdGl2ZUVsZW1lbnRzLmxlbmd0aDsgaSsrKXtcblx0XHRcdGlmKGFjdGl2ZUVsZW1lbnRzW2ldLmlkZW50aWZpZXIgPT0gaWRlbnRpZmllcil7XG5cdFx0XHRcdHJldHVybiBhY3RpdmVFbGVtZW50c1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlQWN0aXZlRWxlbWVudChpZGVudGlmaWVyKXtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYWN0aXZlRWxlbWVudHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0aWYoYWN0aXZlRWxlbWVudHNbaV0uaWRlbnRpZmllciA9PSBpZGVudGlmaWVyKXtcblx0XHRcdFx0YWN0aXZlRWxlbWVudHMuc3BsaWNlKGksMSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdXAoZSl7XG5cdFx0dmFyIGlkZW50aWZpZXIgPSBmaW5kSWRlbnRpZmllcihlKTtcblx0XHR2YXIgZWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQoaWRlbnRpZmllcik7XG5cblx0XHRpZihhY3RpdmVFbGVtZW50cy5sZW5ndGggIT0gMCl7XG5cdFx0XHRjaGFydEhpc3RvcnkuYWRkKG5hcGNoYXJ0Q29yZS5nZXRTY2hlZHVsZSgpLCdtb3ZlZCAnICsgZWxlbWVudC5uYW1lICsgJyAnICsgKGVsZW1lbnQuY291bnQrMSkpO1xuXHRcdH1cblxuXHRcdC8vZmluZCB0aGUgc2hpdCB0byByZW1vdmVcblx0XHRyZW1vdmVBY3RpdmVFbGVtZW50KGlkZW50aWZpZXIpO1xuXG5cdFx0aGVscGVycy5yZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LGRyYXcuZHJhd1VwZGF0ZSk7XG5cblx0fVxuXG5cdGZ1bmN0aW9uIHNuYXAoaW5wdXQpe1xuXHRcdHZhciBvdXRwdXQgPSBpbnB1dDtcblxuXHRcdGlmKHNldHRpbmdzLmdldFZhbHVlKCdzbmFwMTAnKSl7XG5cdFx0XHRvdXRwdXQgPSAxMCAqIE1hdGgucm91bmQoaW5wdXQgLyAxMClcblxuXHRcdH1lbHNlIGlmKHNldHRpbmdzLmdldFZhbHVlKCdzbmFwNScpKXtcblx0XHRcdG91dHB1dCA9IDUgKiBNYXRoLnJvdW5kKGlucHV0IC8gNSlcblxuXHRcdH1lbHNle1xuXG5cdFx0XHQvL2hvdXJcblx0XHRcdGlmKGlucHV0JTYwIDwgNylcblx0XHRcdFx0b3V0cHV0ID0gaW5wdXQtaW5wdXQlNjA7XG5cdFx0XHRlbHNlIGlmKGlucHV0JTYwID4gNTMpXG5cdFx0XHRcdG91dHB1dCA9IGlucHV0Kyg2MC1pbnB1dCU2MCk7XG5cblx0XHRcdC8vaGFsZiBob3Vyc1xuXHRcdFx0ZWxzZXtcblx0XHRcdFx0aW5wdXQgKz0gMzA7XG5cblx0XHRcdFx0aWYoaW5wdXQlNjAgPCA1KVxuXHRcdFx0XHRcdG91dHB1dCA9IGlucHV0LWlucHV0JTYwLTMwO1xuXHRcdFx0XHRlbHNlIGlmKGlucHV0JTYwID4gNTUpXG5cdFx0XHRcdFx0b3V0cHV0ID0gaW5wdXQrKDYwLWlucHV0JTYwKS0zMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hlY2tTdGF0ZShlbGVtZW50LG5hbWUsY291bnQsdHlwZSl7XG5cdFx0Ly8gY2hlY2tzIGlmXG5cdFx0ZnVuY3Rpb24gY2hlY2soZWxlbWVudCl7XG5cdFx0XHRpZihuYW1lID09IGVsZW1lbnQubmFtZSAmJiBjb3VudCA9PSBlbGVtZW50LmNvdW50KXtcblx0XHRcdFx0aWYodHlwZW9mIHR5cGU9PSd1bmRlZmluZWQnIHx8IHR5cGUgPT0gZWxlbWVudC50eXBlKXtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9O1xuXG5cdFx0aWYodHlwZW9mIGVsZW1lbnQuZWxlbWVudHMgIT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0Ly8gdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZWxlbWVudFxuXHRcdFx0cmV0dXJuIGVsZW1lbnQuZWxlbWVudHMuc29tZShjaGVjayk7XG5cdFx0fWVsc2V7XG5cdFx0XHQvLyBvbmUgZWxlbWVudFxuXHRcdFx0cmV0dXJuIGNoZWNrKGVsZW1lbnQpXG5cdFx0fTtcblx0fVxuXG5cdC8vcHVibGljOlxuXHRyZXR1cm57XG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbihjYW52YXMpe1xuXG5cdFx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJyxob3Zlcik7XG5cdFx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxkb3duKTtcblx0XHRcdGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jyxkb3duKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLHVwKTtcblx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJyx1cCk7XG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JyxkZXNlbGVjdCk7XG5cblxuXHRcdFx0dmFyIGNhbnZhc1N0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNhbnZhcyk7XG5cdFx0XHR2YXIgd2lkdGggPSBjYW52YXNTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKS5yZXBsYWNlKCdweCcsJycpO1xuXHRcdFx0dmFyIGhlaWdodCA9IGNhbnZhc1N0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKS5yZXBsYWNlKCdweCcsJycpO1xuXG5cdFx0XHRpbnRlcmFjdENhbnZhcy5jYW52YXMgPSB7XG5cdFx0XHRcdHdpZHRoOndpZHRoLFxuXHRcdFx0XHRoZWlnaHQ6aGVpZ2h0XG5cdFx0XHR9O1xuXG5cblx0XHR9LFxuXG5cblx0XHRpc0FjdGl2ZTpmdW5jdGlvbihuYW1lLGNvdW50LHR5cGUpe1xuXG5cdFx0XHRyZXR1cm4gYWN0aXZlRWxlbWVudHMuc29tZShmdW5jdGlvbihlbGVtZW50KXtcblx0XHRcdFx0cmV0dXJuIGNoZWNrU3RhdGUoZWxlbWVudCxuYW1lLGNvdW50LHR5cGUpO1xuXHRcdFx0fSk7XG5cblx0XHR9LFxuXG5cdFx0aXNIb3ZlcjpmdW5jdGlvbihuYW1lLGNvdW50LHR5cGUpe1xuXG5cdFx0XHRyZXR1cm4gY2hlY2tTdGF0ZShtb3VzZUhvdmVyLG5hbWUsY291bnQsdHlwZSk7XG5cdFx0fSxcblxuXHRcdGdldFNlbGVjdGVkT3BhY2l0eTpmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIHNlbGVjdGVkT3BhY2l0eTtcblx0XHR9LFxuXG5cdFx0c2V0U2VsZWN0ZWRPcGFjaXR5OmZ1bmN0aW9uKHRvKXtcblx0XHRcdHNlbGVjdGVkT3BhY2l0eSA9IHRvO1xuXHRcdH1cblx0fTtcblxufSgpKTtcbiIsIi8qKlxuXG5UaGlzIG1vZHVsZSBoYW5kbGVzIGhpc3RvcnkgLSByZWRvcyBhbmQgdW5kb3MgYXMgd2VsbCBhcyB3aGF0IGhhcHBlbnMgd2hlbiBzb21lb25lIGNsaWNrcyBiYWNrIGluIHRoZSBicm93c2VyXG5cbioqL1xuXG53aW5kb3cuY2hhcnRIaXN0b3J5PShmdW5jdGlvbigpe1xuXHQvL3ByaXZhdGVcblx0dmFyIGN1cnJlbnRFbGVtZW50ID0gLTE7XG5cblx0Ly90aGUgaGlzdG9yeSBhcnJheSBjb250YWlucyBhbGwgdGhlIGhpc3RvcnkgaW4gaGlzdG9yeSBlbGVtZW50c1xuXHR2YXIgaGlzdG9yeSA9IFtdO1xuXHQvL2V4YW1wbGUgaGlzdG9yeSBlbGVtZW50OiB7ZGF0YTolZGF0YSUgLGFjdGlvbjogJ2FkZGVkIGNvcmUgMScsIGNoYXJ0aWQ6ICd0dXc1ZSd9XG5cblx0ZnVuY3Rpb24gc3dpdGNoVG8oaW5kZXgpe1xuXHRcdGlmKHR5cGVvZiBoaXN0b3J5W2luZGV4XSA9PSAndW5kZWZpbmVkJyl7XG5cdFx0XHRjb25zb2xlLndhcm4oJ2hpc3RvcnkgZWxlbWVudCBkb2VzIG5vdCBleGlzdCcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vY2hlY2sgaWYgZWxlbWVudCBoYXMgY2hhcnRpZFxuXHRcdGlmKHR5cGVvZiBoaXN0b3J5W2luZGV4XS5jaGFydGlkICE9ICd1bmRlZmluZWQnKXtcblx0XHRcdG5hcGNoYXJ0Q29yZS5zZXRVUkwoaGlzdG9yeVtpbmRleF0uY2hhcnRpZCk7XG5cdFx0fVxuXG5cdFx0bmFwY2hhcnRDb3JlLnNldFNjaGVkdWxlKGhpc3RvcnlbaW5kZXhdLmRhdGEpO1xuXHRcdGN1cnJlbnRFbGVtZW50ID0gaW5kZXg7XG5cdH1cblxuXHRmdW5jdGlvbiBidXR0b25DbGljaygpe1xuXG5cdFx0dmFyIGVuYWJsZWRDbGFzc2VzID0gJ2JsYWNrLXRleHQgZ3JleSBsaWdodGVuLTMgd2F2ZXMtZWZmZWN0Jztcblx0XHR2YXIgZGlzYWJsZWRDbGFzc2VzID0gJ2dyZXktdGV4dCBncmV5IGxpZ2h0ZW4tMiBkaXNhYmxlZCc7XG5cblx0XHRpZihjdXJyZW50RWxlbWVudCA9PSBoaXN0b3J5Lmxlbmd0aC0xKXtcblx0XHRcdC8vZGlzYWJsZSBmb3J3YXJkIGJ1dHRvblxuXHRcdFx0JCgnLmhpc3RvcnkjZm9yd2FyZCcpLnJlbW92ZUNsYXNzKGVuYWJsZWRDbGFzc2VzKTtcblx0XHRcdCQoJy5oaXN0b3J5I2ZvcndhcmQnKS5hZGRDbGFzcyhkaXNhYmxlZENsYXNzZXMpO1xuXHRcdH1lbHNle1xuXHRcdFx0Ly9lbmFibGUgZm9yd2FyZCBidXR0b25cblx0XHRcdCQoJy5oaXN0b3J5I2ZvcndhcmQnKS5yZW1vdmVDbGFzcyhkaXNhYmxlZENsYXNzZXMpO1xuXHRcdFx0JCgnLmhpc3RvcnkjZm9yd2FyZCcpLmFkZENsYXNzKGVuYWJsZWRDbGFzc2VzKTtcblx0XHR9XG5cblx0XHRpZihjdXJyZW50RWxlbWVudCA9PSAwKXtcblx0XHRcdC8vZGlzYWJsZSBiYWNrIGJ1dHRvblxuXHRcdFx0JCgnLmhpc3RvcnkjYmFjaycpLnJlbW92ZUNsYXNzKGVuYWJsZWRDbGFzc2VzKTtcblx0XHRcdCQoJy5oaXN0b3J5I2JhY2snKS5hZGRDbGFzcyhkaXNhYmxlZENsYXNzZXMpO1xuXHRcdH1lbHNle1xuXHRcdFx0Ly9lbmFibGUgYmFjayBidXR0b25cblx0XHRcdCQoJy5oaXN0b3J5I2JhY2snKS5yZW1vdmVDbGFzcyhkaXNhYmxlZENsYXNzZXMpO1xuXHRcdFx0JCgnLmhpc3RvcnkjYmFjaycpLmFkZENsYXNzKGVuYWJsZWRDbGFzc2VzKTtcblx0XHR9XG5cblxuXHR9XG5cblx0Ly9wdWJsaWM6XG5cdHJldHVybntcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0Y2hhcnRIaXN0b3J5LmFkZChkYXRhLCcnKTtcblxuXHRcdFx0ZG9tLmJpbmRCYWNrRm9yd2FyZCgpO1xuXG5cdFx0XHRidXR0b25DbGljaygpO1xuXHRcdH0sXG5cblx0XHRhZGQ6ZnVuY3Rpb24oZGF0YSxhY3Rpb24pe1xuXHRcdFx0Ly9hZGRzIGEgaGlzdG9yeSBlbGVtZW50IHRvIHRoZSBoaXN0b3J5IGFycmF5XG5cblx0XHRcdC8vY2xvbmUgZGF0YVxuXHRcdFx0ZGF0YSA9IGhlbHBlcnMuY2xvbmUoZGF0YSk7XG5cblx0XHRcdC8vZGF0YSA9IHNuYXBzaG90IG9mIGFsbCBjaGFydCBkYXRhXG5cdFx0XHQvL2FjdGlvbiA9IHRoZSBsYXN0IGFjdGlvbiBkb25lXG5cblx0XHRcdC8vY2hlY2sgaWYgdGhlIG5ldyBkYXRhIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBwcmV2aW91cy4gSWYgbm90LCBhYm9ydC5cblx0XHRcdGlmKGhpc3RvcnkubGVuZ3RoID4gMCAmJiBKU09OLnN0cmluZ2lmeShkYXRhKSA9PSBKU09OLnN0cmluZ2lmeShoaXN0b3J5W2hpc3RvcnkubGVuZ3RoLTFdLmRhdGEpKXtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvL2lmIGN1cnJlbnRFbGVtZW50IGlzIG5vdCBhdCB0aGUgZW5kLCBkZWxldGUgdGhlIGVsZW1lbnRzIGFmdGVyIGN1cnJlbnRcblx0XHRcdGlmKGN1cnJlbnRFbGVtZW50ICE9IGhpc3RvcnkubGVuZ3RoLTEpe1xuXHRcdFx0XHRoaXN0b3J5LnNwbGljZShjdXJyZW50RWxlbWVudCsxLGhpc3RvcnkubGVuZ3RoLShjdXJyZW50RWxlbWVudCsxKSk7XG5cdFx0XHR9XG5cblx0XHRcdGhpc3RvcnkucHVzaCh7XG5cdFx0XHRcdGRhdGE6ZGF0YSxcblx0XHRcdFx0YWN0aW9uOmFjdGlvblxuXHRcdFx0fSk7XG5cblxuXHRcdFx0Ly9hZGQgdG8gY291bnRlclxuXHRcdFx0Y3VycmVudEVsZW1lbnQrKztcblxuXHRcdFx0YnV0dG9uQ2xpY2soKTtcblx0XHR9LFxuXG5cdFx0YmFjazpmdW5jdGlvbigpe1xuXHRcdFx0aWYoY3VycmVudEVsZW1lbnQgPT0gLTEpe1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ2NhblxcJ3QgdW5kbyBtb3JlJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0c3dpdGNoVG8oY3VycmVudEVsZW1lbnQtMSk7XG5cblx0XHRcdGJ1dHRvbkNsaWNrKCk7XG5cdFx0fSxcblxuXHRcdGZvcndhcmQ6ZnVuY3Rpb24oKXtcblx0XHRcdGlmKGN1cnJlbnRFbGVtZW50ID09IGhpc3RvcnkubGVuZ3RoLTEpe1xuXHRcdFx0XHRjb25zb2xlLndhcm4oJ2FscmVhZHkgYXQgbGF0ZXN0IGVsZW1lbnQnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRzd2l0Y2hUbyhjdXJyZW50RWxlbWVudCsxKTtcblxuXHRcdFx0YnV0dG9uQ2xpY2soKTtcblx0XHR9LFxuXG5cdFx0c2V0Q2hhcnRpZDpmdW5jdGlvbihjaGFydGlkKXtcblx0XHRcdC8vYXNzaWduIGNoYXJ0aWQgdG8gY3VycmVudCBoaXN0b3J5IGVsZW1lbnRcblx0XHRcdGhpc3RvcnlbY3VycmVudEVsZW1lbnRdLmNoYXJ0aWQgPSBjaGFydGlkO1xuXHRcdH0sXG5cblx0XHRjaGVja0lmRXhpc3RzOmZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0Ly90YWtlcyBhIGRhdGEgb2JqZWN0IGFuZCBjaGVja3MgaWYgdGhlIHVzZXIgaGFzIHNhdmVkIGFuIGlkZW50aWNhbCBkYXRhIG9iamVjdCBpbiB0aGUgaGlzdG9yeVxuXHRcdFx0Ly9yZXR1cm5zIHRoZSBjaGFydGlkXG5cblx0XHRcdC8vanNvbiBtYXkgYmUgYSBiYWQgd2F5IHRvIGNvbXBhcmUgdHdvIG9iamVjdHMgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjAxMTgzL2hvdy10by1kZXRlcm1pbmUtZXF1YWxpdHktZm9yLXR3by1qYXZhc2NyaXB0LW9iamVjdHMpXG5cdFx0XHR2YXIganNvbmRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcblx0XHRcdHZhciBlbGVtZW50O1xuXG5cdFx0XHRmb3IodmFyIGluZGV4IGluIGhpc3Rvcnkpe1xuXHRcdFx0XHRlbGVtZW50ID0gaGlzdG9yeVtpbmRleF07XG5cblx0XHRcdFx0aWYodHlwZW9mIGVsZW1lbnQuY2hhcnRpZCA9PSAndW5kZWZpbmVkJylcblx0XHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0XHRpZihKU09OLnN0cmluZ2lmeShlbGVtZW50LmRhdGEpID09IGpzb25kYXRhKXtcblxuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50LmNoYXJ0aWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0fVxuXG59KCkpIiwiLyoqXG5cblRoaXMgbW9kdWxlIG1ha2VzIHN0YXRpc3RpYyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBzY2hlZHVsZVxuXG4qKi9cblxud2luZG93LnN0YXRpc3RpY3M9KGZ1bmN0aW9uKCl7XG5cdC8vcHJpdmF0ZVxuXHR2YXIgY29udGFpbmVyO1xuXG5cblx0ZnVuY3Rpb24gdG90YWxUaW1lKGVsZW1lbnRzLGludmVydCl7XG5cdFx0Ly9jaGVja3MgaG93IGxvbmcgdGltZSBhbGwgZWxlbWVudHMgaW4gc3BlY2lmaWVkIGFycmF5IGFyZSB0b3RhbGx5XG5cdFx0dmFyIG1pbnV0ZXMgPSAwO1xuXG5cblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0aWYodHlwZW9mIGVsZW1lbnRzW2ldICE9ICd1bmRlZmluZWQnKVxuXHRcdFx0XHRtaW51dGVzICs9IGhlbHBlcnMuY2FsYyhlbGVtZW50c1tpXS5lbmQsLWVsZW1lbnRzW2ldLnN0YXJ0KTtcblx0XHR9XG5cblx0XHRpZihpbnZlcnQ9PXRydWUpe1xuXHRcdFx0bWludXRlcyA9IDE0NDAtbWludXRlcztcblx0XHR9XG5cblx0XHRyZXR1cm4gbWludXRlcztcblx0fVxuXG5cblxuXHQvL3B1YmxpYzpcblx0cmV0dXJue1xuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oY29udCl7XG5cdFx0XHRjb250YWluZXIgPSBjb250O1xuXG5cdFx0fSxcblx0XHR1cGRhdGU6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR2YXIgc2xlZXAsIGZyZWU7XG5cblx0XHRcdHNsZWVwID0gdG90YWxUaW1lKCBoZWxwZXJzLm1lcmdlKGRhdGEsWydjb3JlJywnbmFwJ10pICk7XG5cdFx0XHRzbGVlcCA9IGhlbHBlcnMubWludXRlc1RvUmVhZGFibGUoIHNsZWVwICk7XG5cblx0XHRcdGZyZWUgPSB0b3RhbFRpbWUoIGhlbHBlcnMubWVyZ2UoZGF0YSxbJ25hcCcsJ2NvcmUnLCdidXN5J10pICx0cnVlKTtcblx0XHRcdGZyZWUgPSBoZWxwZXJzLm1pbnV0ZXNUb1JlYWRhYmxlKCBmcmVlICk7XG5cblxuXG5cdFx0XHQkKFwiLnNsZWVwLnN0YXQtdGltZVwiKS5odG1sKHNsZWVwKTtcblx0XHRcdCQoXCIuZnJlZS5zdGF0LXRpbWVcIikuaHRtbChmcmVlKTtcblxuXHRcdH1cblx0fVxuXG59KCkpO1xuIiwiLyoqXG5cblRoaXMgbW9kdWxlIHNlcmlhbGl6ZXMgdGhlIHNjaGVkdWxlIHRvIGEgZWFzaWx5IHJlYWRhYmxlIGFuZCB1bmRlcnN0YW5kYWJsZSBmb3JtIGluIHRleHRcblVzZXMgalF1ZXJ5IGZvciB0aGUgZmxhc2ggZWZmZWN0XG5cbioqL1xuXG53aW5kb3cudGV4dFNlcmlhbGl6ZT0oZnVuY3Rpb24oKXtcblx0Ly9wcml2YXRlXG5cdHZhciBURVhUQVJFQSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0U2NoZWR1bGUnKTtcblx0dmFyIHByZXZEYXRhO1xuXG5cdGZ1bmN0aW9uIGRhdGFUb1RleHQoZGF0YSl7XG5cdFx0dmFyIGRhdGEgPSBoZWxwZXJzLmNsb25lKGRhdGEpO1xuXHRcdHZhciBvdXRwdXQgPSBcIlwiO1xuXG5cdFx0Zm9yKHZhciBuYW1lIGluIGRhdGEpe1xuXG5cdFx0XHQvL3NvcnQgYXJyYXkgYnkgc3RhcnQgdmFsdWU6XG5cblx0XHRcdGRhdGFbbmFtZV0gPSBkYXRhW25hbWVdLnNvcnQoZnVuY3Rpb24oYSwgYil7XG5cdFx0XHQgICAgcmV0dXJuIGEuc3RhcnQtYi5zdGFydFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vbmFtZSB0byB1cHBlcmNhc2Vcblx0XHRcdHZhciBuYW1lQ2FwID0gbmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKTtcblx0XHRcdHZhciBzdGFydCwgZW5kO1xuXG5cdFx0XHQvL2l0ZXJhdGUgYW5kIGFkZFxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRhdGFbbmFtZV0ubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRzdGFydCA9IGhlbHBlcnMubWludXRlc1RvQ2xvY2soZGF0YVtuYW1lXVtpXS5zdGFydCk7XG5cdFx0XHRcdGVuZCA9IGhlbHBlcnMubWludXRlc1RvQ2xvY2soZGF0YVtuYW1lXVtpXS5lbmQpO1xuXG5cdFx0XHRcdGlmKG91dHB1dC5sZW5ndGggPiAwKXtcblx0XHRcdFx0XHRvdXRwdXQgKz0gJ1xcbic7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvdXRwdXQgKz0gbmFtZUNhcCArICcgJyArIChpKzEpICsgJzogJyArIHN0YXJ0ICsgJyAtICcgKyBlbmQ7XG5cblx0XHRcdH1cblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0ZnVuY3Rpb24gZmxhc2goKXtcblx0XHQvLyAkKFRFWFRBUkVBKS5mbGFzaCgpO1xuXHRcdCQoVEVYVEFSRUEpLnBhcmVudCgpLnBhcmVudCgpLmFkZENsYXNzKCdmbGFzaCcpO1xuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdCQoVEVYVEFSRUEpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdmbGFzaCcpO1xuXHRcdH0sMjAwMClcblx0fVxuXG5cdGZ1bmN0aW9uIHJlc2l6ZSgpe1xuXHRcdHZhciBsaW5lQnJlYWtzID0gKFRFWFRBUkVBLnZhbHVlLm1hdGNoKC9cXG4vZyl8fFtdKS5sZW5ndGg7XG5cblx0XHRpZihsaW5lQnJlYWtzIDwgNClcblx0XHRcdGxpbmVCcmVha3MgPSA0O1xuXHRcdGVsc2Vcblx0XHRcdGxpbmVCcmVha3MrKztcblxuXHRcdFRFWFRBUkVBLnJvd3MgPSBsaW5lQnJlYWtzO1xuXHR9XG5cblx0Ly9wdWJsaWM6XG5cdHJldHVybntcblx0XHR1cGRhdGU6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHRpZih0eXBlb2YgZGF0YSA9PSAndW5kZWZpbmVkJyl7XG5cdFx0XHRcdHZhciBkYXRhID0gcHJldkRhdGE7XG5cdFx0XHR9XG5cdFx0XHR2YXIgdGV4dCA9IGRhdGFUb1RleHQoZGF0YSk7XG5cblx0XHRcdGlmKGhlbHBlcnMuY29tcGFyZShkYXRhLHByZXZEYXRhKSl7XG5cdFx0XHRcdC8vaWYgbm90aGluZyBjaGFuZ2VkXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fVxuXG5cdFx0XHRURVhUQVJFQS5pbm5lckhUTUwgPSB0ZXh0O1xuXHRcdFx0cmVzaXplKCk7XG5cblx0XHRcdHByZXZEYXRhID0gZGF0YTtcblx0XHR9LFxuXG5cdFx0c2V0Q2hhcnRpZDpmdW5jdGlvbihjaGFydGlkKXtcblx0XHRcdHZhciBzdHJpbmcgPSAnaHR0cDovLycgKyBmcm9tU2VydmVyLnVybCArICcvJyArIGNoYXJ0aWQ7XG5cdFx0XHR0ZXh0U2VyaWFsaXplLnVwZGF0ZSgpO1xuXG5cdFx0XHRmbGFzaCgpO1xuXG5cdFx0XHRpZihURVhUQVJFQS5pbm5lckhUTUwuc2VhcmNoKHN0cmluZykgPj0gMClcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRURVhUQVJFQS5pbm5lckhUTUwgKz0gJ1xcbicgKyBzdHJpbmc7XG5cdFx0XHRyZXNpemUoKTtcblx0XHR9XG5cblx0fVxuXG59KCkpIiwiLyoqXG5cblRoaXMgbW9kdWxlIGhhbmRsZXMgaW5wdXQgdGhyb3VnaCBodG1sIGZvcm1zLlxuVGhpcyBtb2R1bGUgdXNlcyBqUXVlcnlcblxuKiovXG5cbndpbmRvdy5mb3JtSW5wdXQ9KGZ1bmN0aW9uKCl7XG5cdC8vcHJpdmF0ZVxuXHR2YXIgY29udGFpbmVyLCBzaG93QWxsRWxlbWVudHM7XG5cdHZhciBwcmV2RGF0YTtcblxuXHRmdW5jdGlvbiBjcmVhdGVCbG9jayhuYW1lLGNvdW50KXtcblx0XHQvKi9cblxuXHRcdCoqaG90Zml4XG5cblx0XHQvKi9cblx0XHRpZigkKCdib2R5JykuaGFzQ2xhc3MoJ2RhcmsnKSl7XG5cdFx0XHR2YXIgZGNsYXNzID0gXCJkYXJrXCI7XG5cdFx0fWVsc2V7XG5cdFx0XHR2YXIgZGNsYXNzID0gXCJcIjtcblx0XHR9XG5cblxuXHRcdHZhciBjbGFzc05hbWUsIGFkZDtcblx0XHRjbGFzc05hbWUgPSBuYW1lK2NvdW50O1xuXHRcdGFkZCA9ICc8ZGl2IGNsYXNzPVwiJytjbGFzc05hbWUrZGNsYXNzKycgaW5wdXRCb3hcIj4nO1xuXHRcdGFkZCArPSBuYW1lICsgJyAnICsgKGNvdW50KzEpO1xuXHRcdGFkZCArPSAnOiAgPGlucHV0IGNsYXNzPVwiY2xvY2sgc3RhcnQgZm9ybUlucHV0JysgZGNsYXNzICsnXCIgbGVuZ3RoPVwiNFwiIHR5cGU9XCJ0ZXh0XCI+JztcblxuXHRcdGlmKG5hbWUgPT0gJ25hcCcpe1xuXHRcdFx0Ly9zZXQgZHVyYXRpb24gdmFsdWUgb25jZSBub3cgYmVjYXVzZSBpdCBjYW4ndCBiZSBjaGFuZ2VkIGZyb20gb3V0c2lkZVxuXHRcdFx0Ly9hbmQgdGhlcmVmb3JlIGRvbid0IG5lZWQgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHVwZGF0ZSBmdW5jdGlvblxuXHRcdFx0dmFyIGVsZW1lbnQgPSBuYXBjaGFydENvcmUucmV0dXJuRWxlbWVudChuYW1lLGNvdW50KTtcblx0XHRcdHZhciBkdXJhdGlvbiA9IGhlbHBlcnMuY2FsYyhlbGVtZW50LmVuZCwtZWxlbWVudC5zdGFydCk7XG5cblx0XHRcdGFkZCArPSAnIC0gPGlucHV0IGNsYXNzPVwiZHVyYXRpb24gZm9ybUlucHV0XCIgdHlwZT1cIm51bWJlclwiIG1pbj1cIjEwXCIgbWF4PVwiOTBcIiB2YWx1ZT1cIicrZHVyYXRpb24rJ1wiPiBtaW4nXG5cdFx0fWVsc2Vcblx0XHRcdGFkZCArPSAnIC0gPGlucHV0IGNsYXNzPVwiY2xvY2sgZW5kIGZvcm1JbnB1dFwiIGxlbmd0aD1cIjRcIiB0eXBlPVwidGV4dFwiPic7XG5cblx0XHRhZGQgKz0gJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIm5hbWVcIiB2YWx1ZT1cIicrbmFtZSsnXCI+Jztcblx0XHRhZGQgKz0gJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNvdW50XCIgdmFsdWU9XCInK2NvdW50KydcIj4nO1xuXHRcdGFkZCArPSAnPGJ1dHRvbiBjbGFzcz1cInJlbW92ZVwiPiA8aSBjbGFzcz1cImZhIGZhLXRyYXNoLW9cIj48L2k+IDwvYnV0dG9uPic7XG5cdFx0YWRkICs9ICc8L2Rpdj4nO1xuXG5cblxuXHRcdCQoY29udGFpbmVyKS5hcHBlbmQoYWRkKTtcblxuXHR9XG5cblx0ZnVuY3Rpb24gYmxvY2tFeGlzdHMobmFtZSxjb3VudCl7XG5cdFx0aWYoJChjb250YWluZXIpLmZpbmQoXCIuXCIrbmFtZStjb3VudCkubGVuZ3RoID4gMClcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHVwZGF0ZVZhbHVlcyhkYXRhKXtcblx0XHR2YXIgYmxvY2ssc3RhcnQsZW5kO1xuXG5cdFx0aWYodHlwZW9mIGRhdGEgPT0gJ3VuZGVmaW5lZCcpe1xuXHRcdFx0dmFyIGRhdGEgPSBwcmV2RGF0YTtcblx0XHR9XG5cblx0XHRmb3IodmFyIG5hbWUgaW4gZGF0YSl7XG5cdFx0XHRmb3IoaSA9IDA7IGkgPCBkYXRhW25hbWVdLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0aWYoIWJsb2NrRXhpc3RzKG5hbWUsaSkpe1xuXHRcdFx0XHRcdGNyZWF0ZUJsb2NrKG5hbWUsaSk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdGJsb2NrID0gJChjb250YWluZXIpLmZpbmQoJy4nK25hbWUraSk7XG5cdFx0XHRcdHN0YXJ0ID0gaGVscGVycy5taW51dGVzVG9DbG9jayhkYXRhW25hbWVdW2ldLnN0YXJ0KTtcblx0XHRcdFx0ZW5kID0gaGVscGVycy5taW51dGVzVG9DbG9jayhkYXRhW25hbWVdW2ldLmVuZCk7XG5cdFx0XHRcdGJsb2NrLmZpbmQoJy5zdGFydCcpLnZhbChzdGFydCk7XG5cdFx0XHRcdGJsb2NrLmZpbmQoJy5lbmQnKS52YWwoZW5kKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZighc2hvd0FsbEVsZW1lbnRzKXtcblx0XHRcdCQoY29udGFpbmVyKS5jaGlsZHJlbigpLm5vdCgnLnNlbGVjdGVkJykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdH1lbHNle1xuXHRcdFx0JChjb250YWluZXIpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXHRcdH1cblxuXHRcdHByZXZEYXRhID0gZGF0YTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBydW5lKGRhdGEpe1xuXHRcdC8vcmVtb3ZlcyBibG9ja3Mgbm90IHNwZWNpZmllZCBpbiB0aGUgZGF0YSBvYmplY3RzXG5cdFx0dmFyIGJsb2NrcywgbmFtZSwgY291bnQ7XG5cblx0XHQkLmVhY2goICQoY29udGFpbmVyKS5maW5kKCcuaW5wdXRCb3gnKSAsIGZ1bmN0aW9uKGtleSxibG9jayl7XG5cblx0XHRcdG5hbWUgPSAkKGJsb2NrKS5maW5kKCdbbmFtZT1cIm5hbWVcIl0nKS52YWwoKTtcblx0XHRcdGNvdW50ID0gJChibG9jaykuZmluZCgnW25hbWU9XCJjb3VudFwiXScpLnZhbCgpO1xuXG5cdFx0XHRpZighbmFwY2hhcnRDb3JlLmVsZW1lbnRFeGlzdHMobmFtZSxjb3VudCkpe1xuXHRcdFx0XHQkKGJsb2NrKS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cblx0ZnVuY3Rpb24gdW5mb2N1cygpe1xuXHRcdHZhciBibG9jaywgbmFtZSwgY291bnQsIHR5cGUsIG1pbnV0ZXMsIGNsb2NrO1xuXHRcdHZhciBuZXdFbGVtZW50ID0ge307XG5cblx0XHRibG9jayA9ICQodGhpcykucGFyZW50KCk7XG5cblx0XHRuYW1lID0gJChibG9jaykuZmluZCgnW25hbWU9XCJuYW1lXCJdJykudmFsKCk7XG5cdFx0Y291bnQgPSAkKGJsb2NrKS5maW5kKCdbbmFtZT1cImNvdW50XCJdJykudmFsKCk7XG5cblx0XHRpZigkKHRoaXMpLmhhc0NsYXNzKCdzdGFydCcpKVxuXHRcdFx0dHlwZSA9ICdzdGFydCc7XG5cdFx0ZWxzZSBpZigkKHRoaXMpLmhhc0NsYXNzKCdlbmQnKSlcblx0XHRcdHR5cGUgPSAnZW5kJztcblx0XHRlbHNlIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2R1cmF0aW9uJykpXG5cdFx0XHR0eXBlID0gJ2R1cmF0aW9uJztcblxuXHRcdGlmKHR5cGUgPT0gJ2R1cmF0aW9uJyl7XG5cdFx0XHR2YXIgc3RhcnQgPSBuYXBjaGFydENvcmUucmV0dXJuRWxlbWVudChuYW1lLGNvdW50KS5zdGFydDtcblx0XHRcdG1pbnV0ZXMgPSBoZWxwZXJzLmNhbGMoc3RhcnQsdGhpcy52YWx1ZSoxKTtcblx0XHRcdHR5cGUgPSAnZW5kJzsgLy8gdmFsdWUgaXMgc3RhcnQgKyBkdXJhdGlvbiA9IGVuZFxuXHRcdH1lbHNle1xuXHRcdFx0Y2xvY2sgPSB2YWxpZGF0ZSgkKHRoaXMpLnZhbCgpKTtcblx0XHRcdCQodGhpcykudmFsKGNsb2NrKTtcblx0XHRcdG1pbnV0ZXMgPSBoZWxwZXJzLmNsb2NrVG9NaW51dGVzKGNsb2NrKTtcblx0XHR9XG5cblx0XHRuZXdFbGVtZW50W3R5cGVdID0gbWludXRlcztcblxuXHRcdG5hcGNoYXJ0Q29yZS5tb2RpZnlFbGVtZW50KG5hbWUsY291bnQsbmV3RWxlbWVudCk7XG5cdH1cblxuXHRmdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZSl7XG5cdFx0dmFyIGhvdXJzLCBtaW51dGVzO1xuXG5cdFx0aWYodmFsdWUubGVuZ3RoID09IDEpXG5cdFx0XHR2YWx1ZT1cIjBcIit2YWx1ZStcIjAwXCI7XG5cdFx0aWYodmFsdWUubGVuZ3RoID09IDIpXG5cdFx0XHR2YWx1ZT12YWx1ZStcIjAwXCI7XG5cdFx0aWYodmFsdWUubGVuZ3RoID09IDMpXG5cdFx0XHR2YWx1ZT1cIjBcIit2YWx1ZTtcblxuXHRcdGhvdXJzID0gdmFsdWUuc3Vic3RyaW5nKDAsMik7XG5cdFx0bWludXRlcyA9IHZhbHVlLnN1YnN0cmluZygyLDQpO1xuXG5cdFx0aWYoaG91cnM8PTIzICYmIG1pbnV0ZXM8PTU5KXtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9ZWxzZXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblxuXHR9XG5cblxuXHQvL3B1YmxpYzpcblx0cmV0dXJue1xuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oY29udGFpbmVyRGl2KXtcblx0XHRcdGNvbnRhaW5lciA9IGNvbnRhaW5lckRpdjtcblxuXHRcdFx0Ly9iaW5kIHJlbW92ZSBidXR0b25zXG5cdFx0XHRkb20uYmluZFJlbW92ZUJ1dHRvbnMoY29udGFpbmVyKTtcblxuXHRcdFx0Ly9iaW5kIHVuZm9jdXMgZXZlbnRzXG5cdFx0XHQkKGNvbnRhaW5lcikub24oJ2JsdXInLCcuY2xvY2snLHVuZm9jdXMpO1xuXHRcdFx0JChjb250YWluZXIpLm9uKCdjaGFuZ2UnLCcuZHVyYXRpb24nLHVuZm9jdXMpO1xuXG5cdFx0XHQvL3ByZXZlbnQgZGVzZWxlY3Rpbmdcblx0XHRcdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdHNldERhdGE6ZnVuY3Rpb24oZGF0YSl7XG5cdFx0XHR1cGRhdGVWYWx1ZXMoZGF0YSk7XG5cdFx0XHRwcnVuZShkYXRhKTtcblx0XHR9LFxuXG5cdFx0c2V0U2VsZWN0ZWQ6ZnVuY3Rpb24oYXJyYXkpe1xuXHRcdFx0JChjb250YWluZXIpLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cblx0XHRcdGlmKHR5cGVvZiBhcnJheSA9PSAndW5kZWZpbmVkJyl7XG5cdFx0XHRcdHNlbGVjdGVkID0gW107XG5cdFx0XHRcdHJldHVyblxuXHRcdFx0fVxuXG5cdFx0XHRhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGspe1xuXHRcdFx0XHQkKGNvbnRhaW5lcikuZmluZCgnLicray5uYW1lK2suY291bnQpLmFkZENsYXNzKCdzZWxlY3RlZCcpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblx0XHRcdH0pXG5cblxuXHRcdH0sXG5cblx0XHRkZXNlbGVjdDpmdW5jdGlvbigpe1xuXG5cdFx0fSxcblxuXHRcdHNldFNldHRpbmdzOmZ1bmN0aW9uKG9iamVjdCl7XG5cdFx0XHRzaG93QWxsRWxlbWVudHMgPSBvYmplY3Quc2hvd0FsbEVsZW1lbnRzO1xuXHRcdFx0Y29uc29sZS5sb2coc2hvd0FsbEVsZW1lbnRzKTtcblx0XHRcdHVwZGF0ZVZhbHVlcygpO1xuXHRcdH1cblx0fVxuXG59KCkpXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
